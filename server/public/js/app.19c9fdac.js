(function(){var e={9453:function(){window.onload=function(){for(var e=document.querySelectorAll(".btn"),t=0;t<e.length;t++)e[t].addEventListener("click",(function(e){var t=e.target,a=t.querySelector(".ripple");a=document.createElement("span"),a.classList.add("ripple"),a.style.width=a.style.height=Math.max(t.offsetWidth,t.offsetHeight)+"px",t.appendChild(a),a.style.left=e.offsetX-a.offsetWidth/2+"px",a.style.top=e.offsetY-a.offsetHeight/2+"px",a.classList.add("ripple"),setTimeout((function(){a.parentElement.removeChild(a)}),600)}),!1)}},8080:function(e,t,a){"use strict";var l=a(5130),o=a(6768);const s={key:0,id:"app"},n={class:"main-content position-relative max-height-vh-100 h-100 overflow-x-hidden"},i={class:"content-container"},r={key:1,id:"app"};function c(e,t,a,l,c,d){const u=(0,o.g2)("sidenav"),p=(0,o.g2)("AppHeader"),m=(0,o.g2)("router-view"),h=(0,o.g2)("notifications"),y=(0,o.g2)("LoginPage");return d.loginPass?((0,o.uX)(),(0,o.CE)("div",s,[e.showSidenav?((0,o.uX)(),(0,o.Wv)(u,{key:0,custom_class:e.color,class:"fixed-start"},null,8,["custom_class"])):(0,o.Q3)("",!0),(0,o.Lk)("main",n,[(0,o.bF)(p),(0,o.Lk)("div",i,[(0,o.bF)(m)])]),(0,o.bF)(h)])):((0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(y)]))}var d=a(4232);const u=e=>((0,o.Qi)("data-v-52c38549"),e=e(),(0,o.jt)(),e),p={class:"sidenav-header"},m=u((()=>(0,o.Lk)("i",{class:"top-0 p-3 cursor-pointer fas fa-times text-secondary opacity-5 position-absolute end-0 d-none d-xl-none","aria-hidden":"true",id:"iconSidenav"},null,-1))),h=u((()=>(0,o.Lk)("span",{class:"text-2xl font-weight-bold text-white"},[(0,o.Lk)("div",{class:"d-flex justify-content-center align-items-center pb-3"},[(0,o.Lk)("img",{src:"http://yeonsus.com/moive/jussionejo_color.png",width:"60",alt:"Nature Blend",class:"logimg"}),(0,o.Lk)("span",{style:{margin:"0"}}," Nature Blend ")])],-1))),y=[h],f=u((()=>(0,o.Lk)("hr",{class:"horizontal light mt-0 mb-2"},null,-1)));function g(e,t,a,s,n,i){const r=(0,o.g2)("sidenav-list");return(0,o.uX)(),(0,o.CE)("aside",{id:"sidenav-main",class:(0,d.C4)(["fixed-start ms-3 sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 ms-3",`${e.sidebarType} ${e.isModalOpen&&"modal-back"}`])},[(0,o.Lk)("div",p,[m,(0,o.Lk)("a",{class:"m-0 p-3 navbar-brand",href:"#",onClick:t[0]||(t[0]=(0,l.D$)(((...e)=>i.handleResetAndNavigate&&i.handleResetAndNavigate(...e)),["prevent"]))},y)]),f,(0,o.bF)(r)],2)}a(8743);const k=e=>((0,o.Qi)("data-v-b6f50b8a"),e=e(),(0,o.jt)(),e),b={class:"w-auto h-auto collapse navbar-collapse max-height-vh-100 h-100",id:"sidenav-collapse-main"},L={class:"navbar-nav"},v={key:0,class:"nav-item"},x=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),w=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),_=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),C=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),D=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),S={key:1,class:"nav-item"},N=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),M=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),R=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),A={key:2,class:"nav-item"},I=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),E=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),F=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),P=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),O={key:3,class:"nav-item"},q=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),$=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),T=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),j={key:4,class:"nav-item"},Q=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),U=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),J={key:5,class:"nav-item"},z=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),B=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),V=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),W=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),G=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),X=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),K=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),H=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),Y=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1))),Z=k((()=>(0,o.Lk)("i",{class:"material-icons-round opacity-10 fs-5"},"dashboard",-1)));function ee(e,t,a,l,s,n){const i=(0,o.g2)("sidenav-collapse");return(0,o.uX)(),(0,o.CE)("div",b,[(0,o.Lk)("ul",L,[e.headerMenu===e.$departments[1]?((0,o.uX)(),(0,o.CE)("li",v,[(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"주문서"},{icon:(0,o.k6)((()=>[x])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[0]||(t[0]=e=>n.movePage("orderForm"))},"주문서등록"),(0,o.Lk)("li",{class:"sub-item",onClick:t[1]||(t[1]=e=>n.movePage("orderlistSearch"))},"주문서조회")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"제품출고"},{icon:(0,o.k6)((()=>[w])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[2]||(t[2]=e=>n.movePage("outputManage"))},"제품출고등록"),(0,o.Lk)("li",{class:"sub-item",onClick:t[3]||(t[3]=e=>n.movePage("outputList"))},"제품출고조회")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"제품입고"},{icon:(0,o.k6)((()=>[_])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[4]||(t[4]=e=>n.movePage("inputManage"))},"제품입고등록"),(0,o.Lk)("li",{class:"sub-item",onClick:t[5]||(t[5]=e=>n.movePage("inputList"))},"제품입고조회")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"제품반품"},{icon:(0,o.k6)((()=>[C])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[6]||(t[6]=e=>n.movePage("returnManage"))},"제품반품등록"),(0,o.Lk)("li",{class:"sub-item",onClick:t[7]||(t[7]=e=>n.movePage("returnList"))},"제품반품조회")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"제품재고"},{icon:(0,o.k6)((()=>[D])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[8]||(t[8]=e=>n.movePage("productInventory"))},"제품재고조회"),(0,o.Lk)("li",{class:"sub-item",onClick:t[9]||(t[9]=e=>n.movePage("lotInventory"))},"제품LOT조회")])),_:1})])):e.headerMenu===e.$departments[2]?((0,o.uX)(),(0,o.CE)("li",S,[(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"자재 발주",onClick:t[12]||(t[12]=e=>n.movePage("materialList2"))},{icon:(0,o.k6)((()=>[N])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[10]||(t[10]=e=>n.movePage("materialList2"))},"자재 발주 관리"),(0,o.Lk)("li",{class:"sub-item",onClick:t[11]||(t[11]=e=>n.movePage("materialOrderList"))},"자재 발주 조회")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"자재 입고",onClick:t[15]||(t[15]=e=>n.movePage("materialInput"))},{icon:(0,o.k6)((()=>[M])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[13]||(t[13]=e=>n.movePage("materialInput"))},"자재 입고"),(0,o.Lk)("li",{class:"sub-item",onClick:t[14]||(t[14]=e=>n.movePage("materialInputList"))},"자재 입고 조회")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"자재 재고",onClick:t[18]||(t[18]=e=>n.movePage("materialLotqty"))},{icon:(0,o.k6)((()=>[R])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[16]||(t[16]=e=>n.movePage("materialLotqty"))},"자재 LOT 조회"),(0,o.Lk)("li",{class:"sub-item",onClick:t[17]||(t[17]=e=>n.movePage("materialqty"))},"자재 재고 조회")])),_:1})])):e.headerMenu===e.$departments[3]?((0,o.uX)(),(0,o.CE)("li",A,[(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"productionPlan",navText:"생산계획"},{icon:(0,o.k6)((()=>[I])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[19]||(t[19]=e=>n.movePage("productionPlanAdd"))},"생산계획 등록"),(0,o.Lk)("li",{class:"sub-item",onClick:t[20]||(t[20]=e=>n.movePage("productionPlanList"))},"생산계획 목록")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"productionOrder",navText:"생산지시"},{icon:(0,o.k6)((()=>[E])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[21]||(t[21]=e=>n.movePage("productionOrderAdd"))},"생산지시 등록"),(0,o.Lk)("li",{class:"sub-item",onClick:t[22]||(t[22]=e=>n.movePage("productionOrderList"))},"생산지시 목록")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!1,collapseRef:"workingList",navText:"공정작업",onClick:t[23]||(t[23]=e=>n.movePage("workingList"))},{icon:(0,o.k6)((()=>[F])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"공정실적",onClick:t[24]||(t[24]=e=>n.movePage("productionWorkDoneList"))},{icon:(0,o.k6)((()=>[P])),_:1})])):e.headerMenu===e.$departments[4]?((0,o.uX)(),(0,o.CE)("li",O,[(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"입고검사",onClick:t[29]||(t[29]=e=>n.movePage("qCMaterialApply"))},{icon:(0,o.k6)((()=>[q])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[25]||(t[25]=e=>n.movePage("qCMaterialApply"))},"검사신청"),(0,o.Lk)("li",{class:"sub-item",onClick:t[26]||(t[26]=e=>n.movePage("qCMaterialInspec"))},"입고검사관리"),(0,o.Lk)("li",{class:"sub-item",onClick:t[27]||(t[27]=e=>n.movePage("qCMaterialRecord"))},"검사기록조회"),(0,o.Lk)("li",{class:"sub-item",onClick:t[28]||(t[28]=e=>n.movePage("qCMaterialFaulty"))},"불량내역조회")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"공정품질검사",onClick:t[35]||(t[35]=e=>n.movePage("qCProcessCleanInspec"))},{icon:(0,o.k6)((()=>[$])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[30]||(t[30]=e=>n.movePage("qCProcessCleanInspec"))},"세척검사관리"),(0,o.Lk)("li",{class:"sub-item",onClick:t[31]||(t[31]=e=>n.movePage("qCProcessBeverageInspec"))},"음료검사관리"),(0,o.Lk)("li",{class:"sub-item",onClick:t[32]||(t[32]=e=>n.movePage("qCProcessCleaningRecord"))},"세척검사기록조회"),(0,o.Lk)("li",{class:"sub-item",onClick:t[33]||(t[33]=e=>n.movePage("qCProcessCleaningFaulty"))},"세척검사불량내역조회"),(0,o.Lk)("li",{class:"sub-item",onClick:t[34]||(t[34]=e=>n.movePage("qCProcessBevarageRecord"))},"음료검사기록조회")])),_:1}),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"포장품질검사",onClick:t[39]||(t[39]=e=>n.movePage("qCPackingInspec"))},{icon:(0,o.k6)((()=>[T])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[36]||(t[36]=e=>n.movePage("qCPackingInspec"))},"포장검사관리"),(0,o.Lk)("li",{class:"sub-item",onClick:t[37]||(t[37]=e=>n.movePage("qCPackingRecord"))},"검사기록조회"),(0,o.Lk)("li",{class:"sub-item",onClick:t[38]||(t[38]=e=>n.movePage("qCPackingFaulty"))},"불량내역조회")])),_:1})])):e.headerMenu===e.$departments[5]?((0,o.uX)(),(0,o.CE)("li",j,[(0,o.bF)(i,{url:"#","aria-controls":"",collapse:e.flase,collapseRef:"mainpage",navText:"설비 정보"},{icon:(0,o.k6)((()=>[Q])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[40]||(t[40]=e=>n.movePage("machineList"))},"설비 관리"),(0,o.Lk)("li",{class:"sub-item",onClick:t[41]||(t[41]=e=>n.movePage("partList"))},"부품 관리"),(0,o.Lk)("li",{class:"sub-item",onClick:t[42]||(t[42]=e=>n.movePage("inActList"))},"비가동 관리")])),_:1},8,["collapse"]),(0,o.bF)(i,{url:"#","aria-controls":"",collapse:!0,collapseRef:"mainpage",navText:"정비 정보"},{icon:(0,o.k6)((()=>[U])),list:(0,o.k6)((()=>[(0,o.Lk)("li",{class:"sub-item",onClick:t[43]||(t[43]=e=>n.movePage("requestList"))},"정비 요청 내역"),(0,o.Lk)("li",{class:"sub-item",onClick:t[44]||(t[44]=e=>n.movePage("requestEnd"))},"정비 완료 내역")])),_:1})])):e.headerMenu===e.$departments[6]?((0,o.uX)(),(0,o.CE)("li",J,[(0,o.bF)(i,{class:"sub-item",onClick:t[45]||(t[45]=e=>n.movePage("employeemanagement")),url:"","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"사원 관리"},{icon:(0,o.k6)((()=>[z])),_:1}),(0,o.bF)(i,{class:"sub-item",onClick:t[46]||(t[46]=e=>n.movePage("customermanagement")),url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"거래처 관리"},{icon:(0,o.k6)((()=>[B])),_:1}),(0,o.bF)(i,{class:"sub-item",onClick:t[47]||(t[47]=e=>n.movePage("bommanagement")),url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"BOM 관리"},{icon:(0,o.k6)((()=>[V])),_:1}),(0,o.bF)(i,{class:"sub-item",onClick:t[48]||(t[48]=e=>n.movePage("processflowmanagement")),url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"공정 흐름도 관리"},{icon:(0,o.k6)((()=>[W])),_:1}),(0,o.bF)(i,{class:"sub-item",onClick:t[49]||(t[49]=e=>n.movePage("productmanagement")),url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"제품 관리"},{icon:(0,o.k6)((()=>[G])),_:1}),(0,o.bF)(i,{class:"sub-item",onClick:t[50]||(t[50]=e=>n.movePage("materialmanagement")),url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"자재 관리"},{icon:(0,o.k6)((()=>[X])),_:1}),(0,o.bF)(i,{class:"sub-item",onClick:t[51]||(t[51]=e=>n.movePage("badcodemanagement")),url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"불량 코드 관리"},{icon:(0,o.k6)((()=>[K])),_:1}),(0,o.bF)(i,{class:"sub-item",onClick:t[52]||(t[52]=e=>n.movePage("returncodemanagement")),url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"반품 코드 관리"},{icon:(0,o.k6)((()=>[H])),_:1}),(0,o.bF)(i,{class:"sub-item",onClick:t[53]||(t[53]=e=>n.movePage("processstandardmanagement")),url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"공정기준정보 관리"},{icon:(0,o.k6)((()=>[Y])),_:1}),(0,o.bF)(i,{class:"sub-item",onClick:t[54]||(t[54]=e=>n.movePage("warehousemanagement")),url:"#","aria-controls":"",collapse:!1,collapseRef:"mainpage",navText:"창고 관리"},{icon:(0,o.k6)((()=>[Z])),_:1})])):(0,o.Q3)("",!0)])])}const te={class:"text-center d-flex align-items-center justify-content-center"},ae={class:"nav-link-text ms-1"};function le(e,t,a,l,s,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,(0,o.v6)({"data-bs-toggle":a.collapse?"collapse":"",to:a.collapse?`#${a.collapseRef}`:a.collapseRef,"aria-controls":a.collapseRef,"aria-expanded":s.isExpanded,class:["nav-link bg-gradient-warning",n.getRoute()===a.collapseRef?`active bg-gradient-${e.color}`:""]},e.$attrs,{onClick:t[0]||(t[0]=e=>s.isExpanded=!s.isExpanded)}),{default:(0,o.k6)((()=>[(0,o.Lk)("div",te,[(0,o.RG)(e.$slots,"icon")]),(0,o.Lk)("span",ae,(0,d.v_)(a.navText),1)])),_:3},16,["data-bs-toggle","to","aria-controls","aria-expanded","class"]),(0,o.Lk)("div",{class:(0,d.C4)(s.isExpanded?"collapse show":"collapse")},[(0,o.RG)(e.$slots,"list")],2)],64)}var oe=a(782),se={name:"SidenavCollapse",props:{collapseRef:{type:String,required:!0},navText:{type:String,required:!0},collapse:{type:Boolean,default:!0}},data(){return{isExpanded:!1}},methods:{getRoute(){const e=this.$route.path.split("/");return e[1]}},computed:{...(0,oe.aH)(["color"])}},ne=a(1241);const ie=(0,ne.A)(se,[["render",le]]);var re=ie,ce={name:"SidenavList",props:{cardBg:String},data(){return{title:"Soft UI Dashboard PRO",controls:"dashboardsExamples",isActive:"active"}},components:{SidenavCollapse:re},computed:{...(0,oe.aH)(["headerMenu"])},created(){},methods:{movePage(e){this.$router.push({name:e})}}};const de=(0,ne.A)(ce,[["render",ee],["__scopeId","data-v-b6f50b8a"]]);var ue=de,pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAFjZJREFUeAHtnQu0HVV5x0kjIghEXgUEAyEm4gMCAUtdIEZcRbvqAyyFurpqwRgE0gIBqvVFtSIQqhIxvnhJl6xiC9UuH6AiIFLksYC8KYaHVgoloAYCAQkk6e9/mLmce3PPOXvuPefMd2b+31r/zLkz3+z59v/b/5nZeyZ7NtvMZgbMgBkwA2bADJgBM2AGzIAZMANmwAyYATNgBsyAGTADZsAMmAEzYAbMgBkwA2bADLzIwIQXf6b/2rhx40S8twHTwW5gSzCmstjP9gIDf8DiFRkZj7PckP32YmwMbGS3Z8BDYCV4csKECetZFrLCjRpxSBjvAHPB3uClQOUULot9bMMZ0IlHVjiRL+zmf5sYkECEdeAe8GXwQ0TyJMtke0myJ46IY2sW88D7wR6g0P7428xAGQzswEF3B6+lDX8BkTyVGoQu60lGwfI9HBwNpgCLAxJsA8GA2qrarNru4VlbTgo8WSCUplur2UD9jiL74W4zA6UzoDartqs2rLacZEUa+lRK3BNsnlSyncxAPAbUdvcEastJVkQgO1KiRqtsZmCQGVAbVltOsiIC0WjVxKRS7WQG4jKgNqy2nGRFBJJUoJ3MQJUYsECqlE3XpesM9GKoVk+BfwlWAz8NHj1lehCoh6yvAp1OUuLwQaCHXb7FhYRRTBxuBzSUm7+NMIpb8VW9EMivCeMSsAg8WzykWuyhRn8qOAZs0aHGz7H9RrAAdBJTh6Iqu1kc7g+OB+EFoqeUevdlCbBAIGEU0ysQq0ZZ32qVfJeCCa0car5eAnk5SH5CnspXL64gOrYawHoe6T+fGkjd/Hiaqyo3/ulQ94bPWF6061BuZTbDpdpxCpeF69yrS7bPdIVT4R3GyUBP2lyvBDLOunp3MxCDAQskRh4cRVAGLJCgiXFYMRiwQGLkwVEEZcACCZoYhxWDAQskRh4cRVAGLJCgiXFYMRiwQGLkwVEEZcACCZoYhxWDAQskRh4cRVAGLJCgiXFYMRiwQGLkwVEEZcACCZoYhxWDAQskRh4cRVAGLJCgiXFYMRiwQGLkwVEEZcACCZoYhxWDAQskRh4cRVAGLJCgiXFYMRjo1aQNIWrHf+bXFJOvA5q0+J6iH08JUYkgQcDltoTyerAGHlcECavnYVRSICRzK5j7C3A62AnoP/SvY/31LM8BK0lyT2bBoOzKGHyJtylgPvgjoOl1NrD+UZZXgC/C4+9ZVtYqJxCStzPZ0qRsx4E/BEpybn/Jj5ngOPwWkVzP/JgzM2IJP5rFUVxdDiSS5s9eiGPNCjkNv0/B4//yu5JWqT4IydqVLOmqoRn2lMRmcfBn4wyo24SLwQz8K1V/VbAb1iSOf6G8aaBZHDqEeNse6ItN/4R/V2czpMwwVpkGQpL0tV2J44NAyWtlqvO+4BtgP4tkOE0ZHwew9jKg+YNHnmRYNWT6UtN7wEnst8PQ2gr9qIRAmsTxAXKjSYw7meq9D/CVpImpTBzqa2hu5U7iyPfUyWgekEjU36uUDbxAmsRxLJlJEUeeQNV9BrhIy6xx5Ntqt8zqfxAVvxBo5K9I29AXm04Gc6smkiIkUP9YRjJeSUSngWNBEXHg3jDVf3/wVVBbkcCjOuR/DL4C1EcbS7uQSOYKVRLJWIiAg/KNJOxCFPlo1VjEkVdCHLwRLAS165Nk4ngTdf8SUN9sPG2iciIZDxlwWY5lZ6hTOPpsMB5x5BUQD7q9OB/sT/kDyUtemdRlJo5D8P882A90o965SE6g/IHvuHeDkNR8dMUvE4fud+eAdqNVRY+n24yDgR6Kzay6SDJxHJrV90CW3WwLEoly9CGOM9BDwN0kBT56a5A9nSN8AfwdSD073Y7vMqAvNXUyiWQW0CjOURyvcg9SqddmmThm8VMDFKniEH+LwQqQYhLJh8H5HG/3lB0i+gyMQCB5KgR+HGjcfVIimXfgp1dLJCi9ZrIOdDKJ5A3gE+C9VRNJJo43U7ezwF5A9e1k63G4DojH88B9IMWUp/eCT3NcPbgdOBsIgUCuEilxHAm2SWT5Yfz+GVwL/gt8LFumiES8aDRHIjmyKiLJxHEwddJtpAYm2j0EZHPDJI6fgo+AW8B3wbngfpBi2+J0FJBIBu45SXiBQOoUyG2czVmmiuMRfD8Hfsx7QmuBkqzbgzPAzSDlHaxcJJ/Ef+A77pk4NJT7eXAASL1y6OQyDywXj+Bxfn8b6MpcRCTvw18i6cagCkX1x0ILBDL3ggY10CNA6m2V3jRV8i4HT4CGkViJYgk4HdwFiojks/gP7BBwJg49If8SmAlSxXErvieDFRl//GxYLpKz+Sv1dktXEonkLOJJzWXjYGX+E1YgkDgVYiSOI0HqWecxfD8D/hX8hqQOe6W9SSQnsH0pSBXJLHx1RRq4h4nwqByrI/51xQ9Sci5eNLihB3+6cgzjKeNVIvkO0O2WfqfYK3DSG9VnD4pIUshKqXhXfSBvOgWeCY4AIjXFfoPTp8C3wG9HioN1DcuSvYg/ZgONyAxLfsNp0382Z9Uh4AIwMCLJxKG+xsVAfaqUfOfiOAn/ZSPFwbqGNYlEfRLxsvqFLR3/1ckuF8n2Hb1LdkghrK8hklQND6pD/m5QRBy62lwBWoqDbQ3Lkr6YP/4G3A1SRaJ7eL2OEf52KxOH+hqXgteBlFyLh9vAiWBpK3GwrWGZSHRi+hpYAH7b2ND+Hw0MSCT57VbojnsKae2r28WtJHUHijsVvAekikO3VaeBy0nY6ixp/NnelHygK8mfg2UgRSQvwU9P3C8Dr88aIT9jWRaXRHEVSBXHenzVIT8OLBE/LDua+Ab/h6OuIuqTKB+dLBfJX+M4n3jDXknCCASSRNrbwPFgEkgxnb3mgatI0lMpO4z0Yb+VrDsaLAUpjUJx7gMk5Khnv62JTX2DySDFnsfpRjAHPn4BhvXdUgpgn8fx062cRPJoyj74KM53Ab2WEqYtNsceKahdCUxXDpGWYhKHGul/kJxnUnZo5cP+Eoku+YtBikhU1AfArtESm8WzN7H9qYJMsOfwuR6ckPGQsMvoLuy/hi0XAY36rRrda5O1Gt1S/27aJlsCrIgkkK3gQ2c8dYg7mS7junJIHL/v5JyynXLuwe+vwJ0gVSS74RuJQ8JpDOFKICn2LE4/AXOp/70pO3TyoZy1+FwCUkUi/tTvfBUIZ5GSq8u8bpM6NU6J43TQNXFQVsMykRzLH+qodopD+yjewrcj2rGHpnhWA90KtrPn2PgjcDL1vq+dY9FtmUguZb8UkSheCXVMt8hFYyvqH0kgSqrO3iKrlT3ChjOA+hzjuq1qdQDK1ajWHHALUMe1lf2SDQ+BFCG1KqMX6xWz+lPtbnEU813g9G6LgzIb1iSSTh13nRh/Be5v7BjsnzACgdAn4OZKsATo7DbSHmTFR8GV+PZEHPkBKX8Fv08EPwWjxaIOqc6OD+Mb6gqSxaNRpflAfYKRJgH9HJyJb1evHCMPRPn57ZZE8vDI7fwtcfw3+Dd8U0a/Rimit6s0bBnJdObTS4WfBBqe3BJIDDpbLwA/gMiu9Dkoq61xnGV0eE/C6e/BYWB7oIQq0d8Cuoo9zTKcEZcmyfs6gW0HjgQ7g82BBjbuAAvwuZ1lz43jrCWWCzmQ7hDE5x5gC/AkkDguxuf7LENaKIFAlM7GN0Hoh1geBHYCvwPXgVXZdn72xzjeSmKZy9HeDqYD3SffDO5mW7RbK8J60YjvGWL/NGv+ExwAXg6Wg9vYpnr0zTje08TyTQ6ooeS3gB3Br4Fi0TKshRJIzhKk6YohlG7Eso4gvld6IGMIgNgl4kUZxlBC93bJYvkVJQoDY2H6IAPDmAOtFQMWSK3S7coWZcACKcqY/WvFgAVSq3S7skUZsECKMmb/WjFggdQq3a5sUQYskKKM2b9WDFggtUq3K1uUAQukKGP2rxUDFkit0u3KFmXAAinKmP1rxYAFUqt0u7JFGbBAijJm/1oxYIHUKt2ubFEGLJCijNm/VgxYILVKtytblAELpChj9q8VAxZIrdLtyhZlwAIpypj9a8VALwSiiRcEmxnoJwM9aXe9mrRBwU5kJgtNNRPBNMtgjgjxKIYis6JsgMuXRQk8iyNvkBFOhhOJqSdx9EIgmoPpHWAK0KRraphlmo6v+aE01Yzm2erFVZNiC5nEcShI4V8+fwI0l1SE2AmjIW7NCaZ5tjSJXk8aJ+WmmI6tE/FrgNpeVy0lQUUPOJkdPgg0XU6ZxOVxSyAvBaqrzjRlC5YQGrwoqSn8y2df8FoQIXbCaMSvGRp1AhTKznOe462IpauWkqCiB1RjFGzdY0B56kWuuhdhRUuKcsmuKL2u1qAzUFQgZV9KB51vx18+A4XacBGBPEPddN9pMwODzIDasNpykhURiL7N0ddJj5NqYCczUIwBtWG15SQrIpAHKHE5SFZfUgR2MgP9Y0BtV21YbTnJighE3+VYCBaD0T4qk3RAO5mBkhhQm1XbVRtO/sZM8tAh09fzMHejPrqij6FIWG8AevAWZWyeUIYsYkxDwVX8R6FOcB+4UDz5lUNt93a15dTjjqkhIZQ3cYDjwQywDZDQkg+Kby9NDwP1NSh9MKZT/fQ9xOSzCb69tvyEpS9ZRTK95qIn+e1M+X8K6EtSEQZzlHvxqC9Z6bN+FyKMW1gWsk4NqGVhiET7Tgd7gK1bOvZ3wwYOtyM4BhwKOj2wvBWfG4Ge+pdtuiqrIcokWtUlgkkYh4EDOwSjk83PwBVAIlF9yjYJ9n/AyiJXjbKD7unxEe5O4CKgb+N1snNwyBtlT+Ma1MLFD1jQiUi2i++vAL33VhmLoPJuk6kznuqVcnXUFUa3ZLbWDIjPTlfifG/dIsq/MlZFgVQmOa5I+QxYIOXnwBEEZsACCZwch1Y+AxZI+TlwBIEZsEACJ8ehlc+ABVJ+DhxBYAYskMDJcWjlM2CBlJ8DRxCYAQskcHIcWvkMWCDl58ARBGbAAgmcHIdWPgMWSPk5cASBGbBAAifHoZXPgAVSfg4cQWAGLJDAyXFo5TNggZSfA0cQmAELJHByHFr5DFgg5efAEQRmwAIJnByHVj4DFkj5OXAEgRmwQLqYHGb0CMMnsegTeCkTV3SRgeoVlU9UVr2a9alGNEJxOAlobrBt+fsxlmuZh0kTlvXdOL5i0aR5O4Pf8bfiWEM80SajI6z4ZoGMI0c0Pk2HMwOcAvYGmvJmNbiabZfRKB/hd1+M4+nqtQs4CeibhhKJJqBbDi5g+3LiiTBBHuEMjlkg48vVIex+LtgfNHOpeYv3o1HOY/kIDbOn07Jm4pjOsT4H3gy2BbkplqngTHBDvtLLNAbC3DOnhRvHi0apM/SHwUzQLA4FqdkFjwALwG749qwvkJUtcXwRvB00i4M/G1e1g1j+Lb66DbQVYMACKUDWCFcJQ1+ebcWhbrdykexB42zlN6LY9D+zMqewxwXgMDBSqHlhWq9Y98tXeJnGQNeTlnbYSnhp0m71QdpdHbT93UBXklfToNv54pJumThezR5fBW8FrcSRF6pPJO+W/+FlGgOdSE0rpZ5eD1JtdYLVv2jX8PU99HcCzQE8h4a9arx9EspQWRoU0G2VxNHpRKcYNdP5Q8BWgIFOxBYoqnaui6jxvSBl+FQN+s/AR8Du2dmfn8Ut21cjZwvB20BKDjV6tRIsBbYCDKSQW6C4+rhyFVhDbc8HvwApItFV5lQgkUwei0iyfaawv447C6SYPj0mYSzMYk7Zxz4ZAxbIOJoCDe4adlf/4n6Q+lWlufhq9GvPIiLBV1ehqeBjQB8HSjEJ925wPrFen7KDfYYz4D7IcD4K/0XDu4TGq3t8NXp1mtWQO9mJOIj789j1Acpo+zWpTBzT8P8oeD9IMYlDDwnPofx/T9nBPpsy4CvIppwUXkMDvJSdzgP3gdQryRx8/wHshQBa5iETx2vw+wQoIo4V+FsckDAe8xVkPOw17SuR0Jj13tMZQM8bNMTbyWbjMAmcy75LKUP9hSFjncp4I1C/5V1DG9r/0Mja7WA+5V3d3tVbOzHQ8szVaUdv35QBGuSVrNXrHotA6ntPR+Gr27N9EMTQCSsTx4Gs11WmiDjuxP88iwMWumBDCelCWS7iBQa+zUIjVqeBA0AKx0fjp36MPiqqfoNOXDOB+hx6hpJiunJIHOcijh+k7GCfzgykJK9zKfYYYoDGuZ5G/p1shYZ1dbu15ZBD6x/HsEmd9S8DvaZyCkgVh27tbgMayv0+S1uXGLBAukRkczE00ucQyVWs0+vuugq8BaSI5H34qUOukbAZIMWexumHQH0OXUFsXWTAAukimc1F0Vg3IJKbWXdOtj5VJLq1SjWJ43qgPofFkcpaAT930guQVdSVRqshX4nkbHAD0LOJbpnE8RPwGXBXtwp1OcMZsECG89H1vzKR3ELBEole+eiGSNZSzrXgs+BOXa1Y2nrAgAXSA1JHFkkDlihuBfPBEjAekehZyY+ArhwSR+qDSdxtRRmwQIoyNkb/rCF/l93VJ9FzkrGIRM9W7gBngcUWByz02CyQHhPcXDwNWs8qvgfUwNVvGPbknL/b2bNs1BNy7aun7r5ytGOrS9s8itUlIlOLoWGvY3TravwljjOBHiZuDtqZxKFbNPU5brA42lHV3W0WSHf5TCqNBv48IvkxzrrN+keg961avbulq87PgfocN1kcsNBHs0D6SHbzobKGfi1C0QjUx8FBYAuQ3/ZqvUarNEyst3JvYmnrMwMWSJ8JH3k4Gv51iOQJ1uvVkn3ATkDieBSoQ67XR5axtJXAgAVSAukjD4kA7kAks1l/ONgXSCDqxF/HNnfGIaIss0DKYn7EcRGChnD1oqFfNhzBTZl/5ve7ZcbgY5uBsAxYIGFT48AiMGCBRMiCYwjLgAUSNjUOLAIDFkiELDiGsAxYIGFT48AiMGCBRMiCYwjLgAUSNjUOLAIDFkiELDiGsAxYIGFT48AiMGCBRMiCYwjLgAUSNjUOLAIDFkiELDiGsAxYIGFT48AiMGCBRMiCYwjLgAUSNjUOLAIDFkiELDiGsAxYIGFT48AiMFB3gWwkCYKtNQP6//G15aju/yf9ZSR/EhMmtJqTqnWzqc+WramqpiOqpdVdIHuTdX3ZKfV7gnVsJPrwz7Q6Vlx1rrtA9LGayUC3EbbRGdBtuObqqqXVXSDbkXXBZgZGZaCqnXR9ZdbWfwYqx3sVBaIRl1qPvPRfF0NH1CyQlRrxqqJA1OFeA9yvGGq3ffkhvjXHcJFvnvQlsPEcpIoCeQpC7gNj+YLTeLis+74ShnjXjPSVsSoKRN/T0Kzo+mBmpc5mgVudeF4CxHulhswrJxAmgdY98D3gcqBPCFTqnpj6RDP1Ox4A3wT3ZvxHi3HM8VROIGKCJKkPcg34BpBY/AkBSOiB6Tb2brAQXAPvur2tlFVuWC7PDq+PqG6vBLPAwWAy2ApMBLbxMaATjvoaD4KfAZ2M1lTt6kGdNqusQFS5TCQShJ4E7wIkkEpeNalXP00jVhLIKvAYwvCASD/Z97HMgBkwA2bADJgBM2AGzIAZMANmwAyYATNgBsyAGTADZsAMmAEzYAbMgBkwA2bADJTGwP8DGJwzYPBu7Q0AAAAASUVORK5CYII=",me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAGuZJREFUeAHtnQt0VdWZx0lCXrwiDDQK4REeAQUVCQgdrWXa6Wpn9aHtOCqrazpVqlWoCNqF9VmtyGt8UIp1quLYGdfoFMZ22U5ttWKo+MAF8pBQoeEZQUIyEUJCXiSZ35feS0PIvWefk3Nu9j33O2vtnHPP+fbe3/5/33+/zsnevXrpoQgoAoqAIqAIKAKKgCKgCCgCioAioAgoAoqAIqAIKAKKgCKgCCgCioAioAgoAoqAIqAIKAKKgCKgCCgCioAi0F0E0jwmkDF58uT+x48fL2pubh6WkZGRSzpe0/KoQriitbW1pVOic1pbW3ulp6cfS0tLaw1XCRNemraWlpb6zMzMQ3l5ebu3bt16Ag1a3Grh2qnHjx/fv76+/ksYci5GnIBhs8hU0nGdlltlU0A+I1JG14ZMAWzcFrGNCG34aBM++iGVzhO5ubm/27VrlxDF+HDl1BMnTuxHq3E7mX4Lgozk3Ns4JxVUBHoIAQhyCoIc4PwftCaPlZaW1pqqEq2xTOTT+/Tp82UEvwc5xkEON3FN0lcZRSAQBPDVdMhxDiTJZ0hwkEp+FxlJC+N4SL/X6CguLu5Pn242GRVJhkaRVEgRsASBCEmKxIfFl03VMnb0qqqqMSQ6ipBpmrjKKQKWISC+Oyriy0aqGROE5mkwKcpslR6KQDIjkBvxZaMyGBOEpimL7pWOO4xgVSFbERAfFl821c+YIKYJqpwiECYEApmmZUAUJowCKQs1mat0FVNnuNxi6pxir16+EwRDHkPRfWT+Cdf6NrhrK7SA0QTwGc5jp1a8FdlyZD9EVru4XeAJPoLhQDAq5PqcLkQ83/KVICgoihzkvJqB0BaUbfSsWYgjgk8rYT7vk66lmNkORW3mU571yK+IOIKDeOo9xteywfISSn4TOJ0DTr6B4CtBRCuUq0Xh3Q0NDdsqKiqUIF2bqm3EiBEVXT/q8m7FgQMHtvNE+65dwJOfn5/N0ReS1EKQLiS83/KdIBFV2vjuRb4nOuVdtZSIaVLVRWX0+6wYLoGv9YYcUZxiSHm77dT/9Zaq1nRecdN43hHwt+mI6BEUQbwXU2MqAhYhoASxyBiqin0IKEHss4lqZBECShCLjKGq2IeAEsQ+m6hGFiGgBLHIGKqKfQgoQeyziWpkEQJKEIuMoarYh4ASxD6bqEYWIaAEscgYqop9CChB7LOJamQRAkoQi4yhqtiHgBLEPpuoRhYhoASxyBiqin0IKEHss4lqZBECShCLjKGq2IeAEsQ+m6hGFiGgBLHIGKqKfQgoQeyziWpkEQJBLdpgRRHZzySrqanpApaazKypqfmQRYtdbZ5iRSEsUWLs2LED2DpgYt++fWt27txZaolagasRSoIMHTq0T+/evf+JfSDuYBmYIaCYlpOT0zR8+PB17HGyhF2GdnMvkFUwArdYYjNIY3miQlYMWcYyTpeCZfaJEydahw0bdpS1ul4YPXr0j0tKShoSq1JicwsdQQoLC2WTlPnAeD3hU6zT1XG1i+tOnjw5ZcyYMdfv2bNnC8915cfY/pZBhTIF/J6HGLJiYSahXZrf+VwMB8NxtCwPlJWVfRQ7meR+EqoxyMiRI8+DHHewcN1N1HpixI7kkEXtsgkTGxsbn0H2Yp6Hqvw+umI7OcDw5+A1jtB5T5h0ng2CKNeA5Y9GjRrl63KfPpaj20mFxkGKioqGYTQhx3fEeHGQkTJfxLjk3yHJZK5Dg0GcMrt5lF5QUFAMKZ6DABOIeEYl0zEhcJadmq4Eyzl0u/6m47OwXIfCOYQc7Lwr440bMNpAA+NIuS/EsNqSnAlWOo5+KbdWE+KSIxoNIg2iUlpAmEN3S8Z7oTqSniDUdu3kwEDfNiRH1IBS9ouJ8zSG1e4WLSkt6nQqmafA5QKCsW9Q0QwG/3kM5OeGjSTGIES9yqYzg8ihGPR2IQdGMmk5Oqsvu59egmGfTPExSQblnwGGPwWgiQTXfiEkYWZrbthI4hqIzh7WU78ZGJ6Lc8+HHNd7JEdU9XRINo00VqXomCSDqdxPnzp16icAchHBs08ISbBHqEjiGYyod/XEWZpxDHobxpjdTXK0qw/RhCTTSetxnEX2mUhKXDzYIoMu6uV0Mx8FS18mLEirnSTMbt08YcKEpB+4J50jCDkYkM/DoDdijHizVe3+guMb+Q0kkd2bLiPNZTL/z3XSYWNU0L8KZTAgv4JyLwOjqVJJ/PVR7CsTPIUkyM2rq6v7brJPARuBEhuuxD6hRiqij/sY5LgVIzjWThFjvoeWHxCaDbQVkszEWVbzwvFqrkP3IjWCgXSrZoLP02BpRA5kBb+tYFMawTWSVNenCEkWSqtMpVbQtZT9d5OGIIA8hhrpHiC9EiPlOUEbMeIm5Jbw2cmtnNdxr8kpHs+FJJN44XgvTvQNrsNGEulWfQYHXkTZRoOlyb6Hsqfi61lZWbdCqOVclxmSJA+5b9DdenDSpEny4jbpjqQgCI46mm7VPRjm6yAsL6fiHmI8ZA9z/lc+Vnxt//79G/gW627ubeCeCUkEl4k40b20JJJnWEgib8gvozzLCNMIjv1P8JKdrUoyMzPv3Lt37zt89Pkys1VLubdHcHY6wHAAclcT70HpHjvJ2/bceoKMHz9evgO6l5pLanMjciB3BKM8glFeZZ/EOn638L3QVgz7fdJ6i98m32C1k4SW5D4+ygvDwF26VTMo/6OUv5jg2HJEyLGBlmPBvn37dgiOx/5yvEQ6SwjGJEF2lrQk6DCQdJLmsJog0nLU1tbeB5pXAbBRt4oa6yiGXYJjP48tj3ewRCsbYW6DJPLG/X3uuyHJw0k+BSzvOS5lPPATyi0TEI7kQEZajnfpns6j5Sjl+jRefCV9jK96XwLLxdjFqLuF3ADSmMV5UXFxsaMtkbXisJYgMuYAzPswwtc5G9U6yFXi/A8xBfxfR44cqQLhzp+0t5MEmZt5tp1w2uhxrCEYzcS5HkGnZHzjLt9WTUX/n1FuU/0Fl/cgx9xIy9EZpzYhCXj/Ejnpbh0jbU7xD+Tlo8brjh49uphWOSlIYiVBAK+I5vh+QL+KFsH0S9Eq5B9A/sXDhw//H4boTI6o9VoPHjy4BeLNRv6MmjEq0PmMYTORvRydVlITmzpZ52R64reQYxoZP0MwfUMue7gLOeZADpn960yOaDnawFE6XC8jvxKMPok+iHdGTiq762jhF/MPbYPiydrwzDqC8M9OgwHvHkD/mkty3MeY4wUHckQxl5ZkK+OafyGfndyM5QRReRn0y/9DtH+OkSTdrXQG5DLWeJZg9G0VWAgOG6k8bmFiw6SFbaMLXMX/2PwbWK4grlRMTkdahCSzsNci2wfuVhFE3rxipPmEK12QoxLAb+f9yPM0+1KLxWo5OhtOSLKF2Zl/JL94NWXHeDKbJW/cn6NmNq2RO8ZP1LWQ4wJwWUuGpuSQMccG8Lgecmzj2rHSiBSmjX9l/hhnXyljEu5VRu7HO0VJ8s+0ystsbklsIkgaNdHnqYnkn51M+6cyzliAg6+trKysjWeRWM8YgO7GKa7huUmNKcmQXdqF6DifKeAhsdLtyfuDBg3qh34yNhhhogflOQWZ1oPDjXSrdhHHtJI5nbz0tRi4P4P9ZOB+9PSDOBfI9ePxVyGXjAlt8sXTWlujFDXeeRj1SjQT0EwOIcd8+sr/89FHH9WbRIglIyQhnVk4ylZkHGtODNuL2vIG3rGch7w1GEbKl87/3U+gLP8Qq7wd7+PQzciu497NgkPHZ26vq6ura2gRngabh8GowjD+AGQvp7IZZyifUDFrjAtIfQgjCJ3/vbMrQKQZXyDkoDvgy6IBpPMhhv0mzrKZtB1JElFqGGdrMIzolIHTT4hcxz1R1kbw/gMtx1wqmT/HFTZ8KO+dIMlqIQnpm5BE8BtMt3W4YRYJFbPGuDj7KQCtJTg5p4w57gAl38gRRVxIQv7f5vdGgpMe0teSbp3r7ghxgjxEHxmLxZ13RfdmZH7PS8B5LL5Q5qdCEZI8Sx6OLQkymLOtEVJ76iL7qXdXaVlDEAD6BLA2Exq7UpT74pBHkPs+57Xd7VZ1lYfcY+pyJ3ncSB7v8FMGrrGOfdSUh3joSKRYCQR0v4VZwO3oH6/2Fp3fl4rGb3JEyxQlCS1J3IE7OpxCZj8V5J5oXJvO1hCE/u9xQFpDU7sNB5Xa7fSBseW6nHAX45Q1QZEjmiEkKaXbcQt6lJD3WbpwT16SPYzMYeJY14J8zIGO8hl7DSFarOi5hXtvg/X94OhryxHNIHqOdrfAUUgi38ZFH0XPp7j4E+G/+RTIZPYrGi9hZ2sIIiVmBmU7YN7NZQkOKLVzNeEQwG7g9wJqmheDJgf5tR8Q9gOcaA75/pz89xKO8UAmBqR2Xs6XxWt553LyL9LW/W2C5PLmfAX6yxS2fH4jLbSMM35Bue4A61cTobWQhC8bnkIPset7nCvQQ7As57yOsBRdf5MIXbzkYdtXqm3l5eVv8iLuuwApCwgMoUWpxqCvA6J0GRJaW8usDnP0c5m+/CL6FEHeWs5voYvRy0UvBvExTj16PsiL11+hdzFY9gXHHZRlI5VMQvv7kYrkP0eNGrWeHsBnKaP81+FB9NkIxgd9LLPvSdlGkPYC8gJvHxcSevwoLS1tQolf97gi3hRoxTm3EFVCTx+tTILsRwkJSXNY1cVKGtRU0ZRBQAmSMqbWgnpBQAniBTWNkzIIKEFSxtRaUC8IKEG8oKZxUgYBJUjKmFoL6gUBJYgX1DROyiCgBEkZU2tBvSCgBPGCmsZJGQSUICljai2oFwSUIF5Q0zgpg4ASJGVMrQX1goASxAtqGidlEFCCpIyptaBeEFCCeEFN46QMAkqQlDG1FtQLAkoQL6hpnJRBQAmSMqbWgnpBQAniBTWNkzII+E4QFgeQhRUk6BEHARYviPP0zEduZM+MmVK/2iK+52uhg1q0oY3/z5ddjEyWEfW1QDESkwWZ0lhV46yFmWLIB34bp5fDKB9WAGlF9xwj4QQJYd9oRdjjlaH4GruRBaKHrwRhSRxZ/TCf85dYukf2Fmwm9LRTpuFgA3FGWf81F318bzXd+iQYCTOuIJjg3xudv4Du2TboLmUV/Vls/CTrlFWhl6xxFYhzSl5Oh7QahEzsOx5Z8T2nKK6emxjIVYIIywLU3wG4JlHebWS/5dElDV2ySFfKKq1aTxNWNuMRXKR1NcFfCHIRsufboDs6RPVvYUE4WXVSVofvMTsLlJBDbJqFHn1EPz8PEwO5yg+FxRklCJCu4qpwTATETr7bKmZuLh/YYucg9Ojx7oZLW6i4IpBQBNwSRJuEhJpHMwsAAVc+7IYg9fTx4m0HEEBZNElFwF8EIj5svCOZMUHYaOUIqiZ00WN/odHUFIF2BGojvmwEhzFBhgwZspcUdxCM2WekgQopAolDQHx3R8SXjXKVaU+jgyXzWwYOHHiYmYKLiXAuwTiuUQYqpAgEi4BMSb/Pu5tFO3bs2G+alSsnZx/yj9liWLYMHkYGAwm2Tj32+LsOUwOEUM7VIDgB5Rd9TjL22MZ+JD9ja41X+G32CQOCnhyJt+Sf5uXMTdKaEPrzplqIYgUw6COkH0To61Q+QJP9EH3ZJZd0/DiiFY5sTWbTkQOu2Q4Kif1ljCo7WdkwmZOGj8rGsCeEHPjoU5DjHYcynPXYE0EkFQBLGz16dBFvU0eSuene5mcp4OcNgGglyCcl1wKOfMrR/sIyTh7vovt6yiKb5PT0IePB6PdWQlrjWi5IxcFTPnH5HGGqQz6yU+0fCS8g9wnyxuNbh3Q9P8YHamk1DshOYZTDUwUerbFcKxHJcBcRJVhzjB07VrZtk+3b/hYjxSUIxiwhPMjHbja1ItZgKYrIR5JUgtngORU8Y+rGc9kctAyn/BVbv8k21NYc6OVZlx5nuWfNY0eMftTniIoQqL6+3tU4LHa24XxCBSLkiFvRREsOnr1FPvo7DOcwEiQMdtEyWIKAEsQSQ6gadiKgBLHTLqqVJQgoQSwxhKphJwJKEDvtolpZgoASxBJDqBp2IqAEsdMuqpUlCChBLDGEqmEnAkoQO+2iWlmCgBLEEkOoGnYioASx0y6qlSUIKEEsMYSqYScCShA77aJaWYKAEsQSQ6gadiKgBLHTLqqVJQgoQSwxhKphJwJKEDvtolpZgoASxBJDqBp2IqAEsdMuqpUlCChBLDGEqmEnAkoQf+1iE56yGIXjwhX+Fj98qXle9id8UHguUe9hw4blsdxNP5a1HNDY2FjJ6h51VVVVJzyn2I2ILA+bhx59OfKbmpqquT7BsrE1JGnbYnTdKGXioipBuod1Fnv1yeqSt7FA2QSSys7JyZGVBX/LAsnPVVZWyor4iTrSBw8efC7EmANZv0Doi06y3tcOVsJcyaqCsvC4DQvkJQoPX/JRgnQDRhzvchxxKUlcQmjHErLIqpOTWGJ/Mg67gJZESBJ7xbVu5N8havrQoUOLIOYjLJr3Gc4DOjybxMJvY2jl7j906NAbHe7rpQECNvWZDdS1SqQvRFhImIJWstFmxz0ZB+KkV+Xm5q5gpUdZ6DvIsUAaqx8WsWDbj8nzi+Q1IKpL5JzNs+mE7/HMiiVi0SNpDiWIR1MVFhZOofWQnWdjYSgrPF7V0NCwAgceGUfOowbt0dLZH7yQVmMlvz5H6LJHgB5y/3zWUp7cHkv/GCMQy7jGCaSwoDi9LMkZr3WQrYm/hgOvwDnHOsi6hTJd0oSkT0KAvyNyl+SIJopMH2SlNdPDBQJKEBdgdRRtbm4ux/llEBx3fIFjyn7oX2FG6VEG7vlcxyNUxyziXWfQcpxPmj9F6O8JccnBc9GxFoIc4qyHCwSUIC7A6ijKbNUWfv8ZkjhOn0KSDOS+zJjkTgbTBcTrDu7pTA5cjLOvIs3Pm6TF+KMJ2d1MHGzvWAa9dkagO4ZyTj3EEmVlZTU43OM4v2z/YEKSNGTn817iTsYkI4jjBft0ppULIcfjOPxM0nNEGLlm5LdDklWis2MEFTgDAS9GOiOBVP6xZ8+eV3D4FWCwh+C4q5I4NA47lzHJQrpIo4jjBv+MgoKCMcS5m3CFCTmQk+3ydvI+5HHeg6zjtx4uEXBjIJdJp4Y4jrcakiyntGUER5JQmwtJbkH2B2PGjBnN2cQGGbQ644h3L+EGF+TYkZmZuZgNgl4kHz08IGBiHA/JplYUSPIs3a3lOK4xSUDoRgbZJiSRAfl4XvYJOb4lBDM4pMtXik5L9u3b9wsDeRWJgYASJAYwbm+zD96ztCT3EW8zjuz4SUekJZnNt1tLaEnkTbzMdnU+siDHDG4uZQzxTUNyNJD/2+hyt5KjM5zufytB3GMWMwZ7862hS/MIAltckORqWpKFzG5dSLyO07VZzFbJxpk/IHzVBTk2Q6bltGq/JZ4e3URACdJNADtHnzp16ksMih/jvkwDm8xuSRLXUOMv5O38RK7lM/VMxhxTGMzfxfVXTMgBIaXlkNZrKeT4X+Lp4QMCHWssH5LTJNasWdNSXFz8y+rq6l44+HzGJZMJufGQiQy6r2Wc0UqX6gmcPJu4t3E2Igcthnxav5HzKgbkv4mXlz5zh4ASxB1eRtKbN29uRnAt7yzkS967cPTPOpEkkvAs5MYTpBWRz+gjt2OfSPskcr9jQL6MaefNsSX1iRcEtIvlBTWzOK0zZsx4C9ElhPU4cr1TtAghpnB2Qw55v7FcyeGErrfnShBvuBnFku5WeXn5W4xJFuP0bxDJdEzimL60HAj9gfAQebzvGEEFPCGgBPEEm6tILcxGvcP4YDFOLd9COZLEKXXSqUPmNUj3MP9OK90qo5cjTunq87MRUIKcjYnvd0pKSk5Nnz79XWajluHc28jAM0mIL+Ob33N+KEIOx7f3vhcohRJUgiTI2NLd4h3Jy9T6S3DuLZxdk4R4TcTbRGu0iHcuW1FdyRGw/ZQgAQPcMXmmYBvy8vJ+zb1FOLuMG6Q1MDqQb6QFeo/3JYt4zyFdNSWHEXLdE1KCdA8/17FLS0ub+LRE3nI/QGsg4wcTkjQi+y7k+BEvE18ljpLDNfLeIuh7EG+4dSuWjElI4FVeCsrn6D8kTOO3/PtuV4f81+LbzIQ9RAv0Jl0rJUdXKAV0T1uQgIA1SLYFZ3+NrtMPkZX3JfLCT5xf3g5y2X5dw/kNZB6AHCXcV3IAQiIPbUESiXYXeUGS13njfhwS3MYYQz5YHEJoZSB+lHubaDlW8aXwB11E1VsJQEBbkASA7JQFL/o2MQ08G1LI/3w8wfkJ4tzFvTlKDif0gn2uLUiw+BqnzjSw/A+JfGh4+mNDiGMcXwWDQUBbkGBw1VRDgoASJCSG1GIEg4ASJBhcNdWQIKAECYkhtRjBIKAECQZXTTUkCChBQmJILUYwCChBgsFVUw0JAkqQkBhSixEMAkqQYHDVVEOCgBIkJIbUYgSDgBIkGFw11ZAgoAQJiSG1GMEgoAQJBldNNSQIKEFCYkgtRjAIKEGCwVVTDQkCSpCQGFKLEQwCSpBgcNVUQ4KAEiQkhtRiBINAqhOkjbWmnPcYCAb7pEiV1SBl3d+UxSjV/yc9BwfIYzenWGtSJYUTB6lkbW1tPxaRyA4yD5vTTmmCsObUBMK1LLfjuOmmzUYMUjeWHcoFn3FB5mFz2ilNEAwzBeOP4KzbB8TwUraCS2cpoiFUJDEkwn071QkyEPNK0CMOAqlKDoEkrIP0tDj21kfBIRA63ENHEAaU0hdI6ZmX4PzfMeUWumOh6ouFjiA1NTUy4K6JkMTRoirgGwIM51qPN3P4lqIFCYWOIMy61NKKlIGt6x2cLLBHMqvQLLjn5OTI/omhOUJHEPbta8BQmxhYbuccqtrMVq+jW9UM3tvYq31TWVlZqKbMZcP60B0Q44S8AcZo0zBefwoYusGjLUYD3xZw3sP5ybq6ujdPnjypBLHFOLH0qK+vb+zfv/9RiCIVwKcIgwihay1jlT+B96Ub+yfCk3yy8/Lhw4erE5h3QrIKc82aVlBQMBTDzWTweBk1nLwQ7ENtF8pWMyHeEslEWg0u68CyHHz/SEX0CvuYyMRIqGawpLhhJkh7+WbOnJlRUVExhKb/XAwqBNGWRJDpxgFBZAesutzc3Ir8/PzKyJ6L3UhRoyoCioAioAgoAoqAIqAIKAKKgCKgCCgCioAioAgoAoqAIqAIKAKKgCKgCCQagf8HVt65DU9UiXEAAAAASUVORK5CYII=",he={name:"index",components:{SidenavList:ue},data(){return{logo:pe,logoDark:me}},computed:{...(0,oe.aH)(["sidebarType","isDarkMode","isModalOpen"])},methods:{...(0,oe.PY)(["resetState"]),handleResetAndNavigate(){this.resetState(),this.$router.push("/")}}};const ye=(0,ne.A)(he,[["render",g],["__scopeId","data-v-52c38549"]]);var fe=ye;const ge=e=>((0,o.Qi)("data-v-6ba83181"),e=e(),(0,o.jt)(),e),ke={class:"header-bar"},be={class:"nav-list"},Le=["onClick"],ve={class:"button-container"},xe={class:"button-contain"},we={class:"navbar-nav justify-content-end"},_e={class:"nav-item d-xl-none ps-3 d-flex align-items-center"},Ce=ge((()=>(0,o.Lk)("div",{class:"hamburger-menu"},[(0,o.Lk)("div",{class:"line"}),(0,o.Lk)("div",{class:"line"}),(0,o.Lk)("div",{class:"line"})],-1))),De=[Ce];function Se(e,t,a,l,s,n){const i=(0,o.g2)("buttonTemplet");return(0,o.uX)(),(0,o.CE)("header",ke,[(0,o.Lk)("ul",be,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.navItems,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t,onClick:t=>n.handleClick(e),class:(0,d.C4)({active:e.active})},(0,d.v_)(e.text),11,Le)))),128))]),(0,o.Lk)("ul",ve,[(0,o.Lk)("li",xe,[(0,o.bF)(i)])]),(0,o.Lk)("div",null,[(0,o.Lk)("ul",we,[(0,o.Lk)("li",_e,[(0,o.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(...e)=>n.toggleSidebar&&n.toggleSidebar(...e)),class:"p-0 nav-link text-body lh-1",id:"iconNavbarSidenav"},De)])])])])}a(3725),a(9838);const Ne={key:0,class:"wellcom-login",style:{position:"absolute",right:"90px",top:"37px","font-weight":"bold",color:"white"}};function Me(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[s.loginData.name?((0,o.uX)(),(0,o.CE)("div",Ne," [ "+(0,d.v_)(this.$store.state.loginInfo.name)+"("+(0,d.v_)(this.$store.state.loginInfo.position)+") ] ",1)):(0,o.Q3)("",!0),s.loginData.name?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"btn btn-success wellcom-btn",style:{top:"8px",height:"30px",width:"65px",display:"flex","align-items":"center","justify-content":"center"},onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e))}," Logout ")):((0,o.uX)(),(0,o.CE)("button",{key:2,class:"btn-success",onClick:t[1]||(t[1]=(...e)=>n.login&&n.login(...e))}," Login "))],64)}var Re=a(4373);const Ae="/api",Ie="http://localhost:3000";var Ee={data(){return{loginData:{}}},watch:{loginData:{}},methods:{...(0,oe.PY)(["addLoginInfo","resetState"]),async loginconfig(){console.log("eee",this.$store.state.loginInfo.name),this.loginData=await this.$store.state.loginInfo},async logout(){try{if(this.loginData.name){const e=await Re.A.post(`${Ae}/logout`);if("로그아웃"===e.data){console.log("로그아웃 성공",e.data);const t={emp_num:0,name:"",birth:"",tel:"",job:"",job_num:0,position:"",employment_date:"",resignation_date:"",level:0};this.addLoginInfo(t),this.resetState(null),this.loginData={},this.$router.push({name:"MainPage"}),console.log("로그인이름",this.$store.state.loginInfo.name)}}}catch(e){console.error("로그아웃 실패",e)}},async login(){this.$router.push({name:"login"})}},mounted(){console.log("로그인 테스트"),this.loginconfig()}};const Fe=(0,ne.A)(Ee,[["render",Me],["__scopeId","data-v-4f6f9b39"]]);var Pe=Fe,Oe={name:"AppHeader",components:{buttonTemplet:Pe},data(){return{navItems:[{text:"영업",active:!1},{text:"자재",active:!1},{text:"생산",active:!1},{text:"품질",active:!1},{text:"설비",active:!1},{text:"기준정보",active:!1}]}},methods:{...(0,oe.PY)(["navbarMinimize"]),...(0,oe.i0)(["setHeaderMenu"]),handleClick(e){if(this.headerMenu==e.text)console.log("동일 헤더 클릭"),this.navbarMinimize();else{switch(console.log("다른 헤더 클릭"),e.text){case"영업":this.movePage("orderForm");break;case"자재":this.movePage("materialLotqty");break;case"생산":this.movePage("productionPlanAdd");break;case"품질":this.movePage("qCMaterialApply");break;case"설비":this.movePage("machineList");break;case"기준정보":this.movePage("employeemanagement");break}const t=document.querySelector(".g-sidenav-show");t.classList.contains("g-sidenav-pinned")||this.navbarMinimize()}this.navItems.forEach((e=>e.active=!1)),e.active=!0,this.setHeaderMenu(e.text)},toggleSidebar(){this.navbarMinimize()},movePage(e){this.$router.push({name:e})}},computed:{...(0,oe.aH)(["isAbsolute","headerMenu","sidebarState"]),currentRouteName(){return this.$route.name}}};const qe=(0,ne.A)(Oe,[["render",Se],["__scopeId","data-v-6ba83181"]]);var $e=qe,Te=a(8875);const je=e=>((0,o.Qi)("data-v-712db140"),e=e(),(0,o.jt)(),e),Qe={class:"login-container"},Ue={class:"login-form"},Je=je((()=>(0,o.Lk)("div",{class:"d-flex justify-content-center align-items-center pb-3"},[(0,o.Lk)("img",{src:"http://yeonsus.com/moive/jussionejo_color.png",width:"70",alt:"Nature Blend",class:"logimg"}),(0,o.Lk)("h2",{style:{"font-family":"'Roboto', Helvetica, Arial, sans-serif",margin:"0"}},"   Nature Blend ")],-1))),ze={class:"form-group"},Be=je((()=>(0,o.Lk)("label",{for:"username"},"사원번호",-1))),Ve={class:"form-group"},We=je((()=>(0,o.Lk)("label",{for:"password"},"비밀번호",-1))),Ge={key:0,class:"error-message"},Xe={class:"form-actions"};function Ke(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",Qe,[(0,o.Lk)("div",Ue,[Je,(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,l.D$)(((...t)=>e.eventLogin&&e.eventLogin(...t)),["prevent"]))},[(0,o.Lk)("div",ze,[Be,(0,o.bo)((0,o.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>n.empnum=e),placeholder:"사원번호를 입력하세요",required:""},null,512),[[l.Jo,n.empnum]])]),(0,o.Lk)("div",Ve,[We,(0,o.bo)((0,o.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),placeholder:"비밀번호를 입력하세요",required:""},null,512),[[l.Jo,n.password]])]),n.errorMessage?((0,o.uX)(),(0,o.CE)("div",Ge,[(0,o.Lk)("p",null,(0,d.v_)(n.errorMessage),1)])):(0,o.Q3)("",!0),(0,o.Lk)("div",Xe,[(0,o.Lk)("button",{type:"submit",class:"btn btn-success",onClick:t[2]||(t[2]=(...e)=>i.login&&i.login(...e))},"로그인")])],32)])])}var He={name:"Login",data(){return{empnum:"",password:"",errorMessage:""}},methods:{...(0,oe.PY)(["addLoginInfo"]),async login(){const e={empnum:this.empnum,password:this.password};this.errorMessage="";try{const t=await Re.A.post(`${Ae}/login`,e);if(console.log("abcd"),t&&t.data&&t.data[0]&&t.data[0].name){console.log("로그인성공");const e={emp_num:t.data[0].emp_num,name:t.data[0].name,birth:t.data[0].birth,tel:t.data[0].tel,job:t.data[0].job,job_num:t.data[0].job_num,position:t.data[0].position,employment_date:t.data[0].employment_date,resignation_date:t.data[0].resignation_date,level:t.data[0].level};this.addLoginInfo(e),console.log("로그인성공",e),this.$router.push("/")}else this.errorMessage="아이디 또는 비밀번호가 잘못되었습니다."}catch(t){this.errorMessage="로그인 중 문제가 발생했습니다. 다시 시도해주세요.",console.error("로그인 오류: ",t)}}},mounted(){console.log("로그인 테스트")}};const Ye=(0,ne.A)(He,[["render",Ke],["__scopeId","data-v-712db140"]]);var Ze=Ye,et={name:"App",components:{Notifications:Te.$0,Sidenav:fe,AppHeader:$e,LoginPage:Ze},methods:{...(0,oe.PY)(["toggleConfigurator","navbarMinimize","addLoginInfo"])},computed:{...(0,oe.aH)(["color","isAbsolute","isNavFixed","navbarFixed","absolute","showSidenav","showNavbar","showFooter","showConfig","hideConfigButton"]),loginPass(){return!!this.$store.state.loginInfo.name}},data(){return{}},mounted(){console.log("로그인 상태:",this.loginPass),this.$store.state.isTransparent="bg-transparent";const e=document.getElementsByClassName("g-sidenav-show")[0];window.innerWidth>1200&&e.classList.add("g-sidenav-pinned")}};const tt=(0,ne.A)(et,[["render",c]]);var at=tt,lt=a(5131),ot=(0,oe.y$)({state:{hideConfigButton:!1,isPinned:!0,showConfig:!1,sidebarType:"bg-white",color:"warning",isNavFixed:!1,isAbsolute:!1,showNavs:!0,showSidenav:!0,showNavbar:!0,showFooter:!0,showMain:!0,isDarkMode:!1,loginInfo:{emp_num:0,name:"",birth:"",tel:"",job:"",job_num:0,position:"",employment_date:"",resignation_date:"",level:0},navbarFixed:"position-sticky blur shadow-blur left-auto top-1 z-index-sticky px-0 mx-4",absolute:"position-absolute px-4 mx-0 w-100 z-index-2",headerMenu:""},mutations:{toggleConfigurator(e){e.showConfig=!e.showConfig},navbarMinimize(e){const t=document.querySelector(".g-sidenav-show");t.classList.contains("g-sidenav-pinned")?(t.classList.remove("g-sidenav-pinned"),e.isPinned=!0):(t.classList.add("g-sidenav-pinned"),e.isPinned=!1)},navbarFixed(e){!1===e.isNavFixed?e.isNavFixed=!0:e.isNavFixed=!1},toggleEveryDisplay(e){e.showNavbar=!e.showNavbar,e.showSidenav=!e.showSidenav,e.showFooter=!e.showFooter},toggleHideConfig(e){e.hideConfigButton=!e.hideConfigButton},color(e,t){e.color=t},selectHeaderMenu(e,t){e.headerMenu=t},addLoginInfo(e,t){e.loginInfo={...e.loginInfo,...t}},resetState(e){e.headerMenu=""}},actions:{setColor({commit:e},t){e("color",t)},setHeaderMenu({commit:e},t){e("selectHeaderMenu",t)}},plugins:[(0,lt.A)()],getters:{}}),st=a(1387);a(1339);function nt(e,t,a,l,s,n){const i=(0,o.g2)("default-line-chart");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(i,{chartData:s.chartData,chartOptions:s.chartOptions},null,8,["chartData","chartOptions"])])}const it={class:"chart-container"},rt={ref:"lineChartCanvas"};function ct(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",it,[(0,o.Lk)("canvas",rt,null,512)])}var dt=a(6912);dt.t1.register(...dt.$L);var ut={name:"DefaultLineChart",props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>({})}},mounted(){this.renderChart()},methods:{renderChart(){this.lineChart&&this.lineChart.destroy();const e=this.$refs.lineChartCanvas.getContext("2d");this.lineChart=new dt.t1(e,{type:"line",data:this.chartData,options:this.chartOptions})}},beforeUnmount(){this.lineChart&&this.lineChart.destroy()}};const pt=(0,ne.A)(ut,[["render",ct],["__scopeId","data-v-1ae0603e"]]);var mt=pt,ht={components:{DefaultLineChart:mt},data(){return{chartData:{labels:["2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월","1월"],datasets:[{label:"포도17",data:[680,600,750,650,720,850,1150,1500,1650,1100,1150,280],borderColor:"rgba(128, 0, 128, 1)",backgroundColor:"rgba(186, 85, 211, 0.2)",borderWidth:2,tension:.4},{label:"애플팜",data:[1500,1200,1300,1600,1500,2600,4e3,3500,3e3,2800,2200,600],borderColor:"rgba(250, 0, 0, 1)",backgroundColor:"rgba(255, 102, 102, 0.2)",borderWidth:2,tension:.4},{label:"오렌쥬시",data:[3e3,2500,2100,2600,2800,2600,3e3,3300,3400,3500,3200,1200],borderColor:"rgba(255, 165, 0, 1)",backgroundColor:"rgba(255, 213, 128, 0.2)",borderWidth:2,tension:.4},{label:"레몬의꿈",data:[1e3,850,700,880,910,900,1e3,1100,1150,1200,1e3,200],borderColor:"rgba(255, 255, 0, 1)",backgroundColor:"rgba(255, 235, 224, 0.2)",borderWidth:2,tension:.4},{label:"아이망고",data:[700,620,550,720,800,1200,2e3,1500,1150,750,660,120],borderColor:"rgba(0, 255, 127, 1)",backgroundColor:"rgba(173, 255, 47, 0.2)",borderWidth:2,tension:.4},{label:"당근이세요?",data:[300,250,210,260,280,260,350,550,600,430,320,50],borderColor:"rgba(0, 0, 139, 1)",backgroundColor:"rgba(0, 255, 255, 0.2)",borderWidth:2,tension:.4}]},chartOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{enabled:!0}},scales:{x:{title:{display:!1,text:"Months"},grid:{display:!1}},y:{beginAtZero:!0,title:{display:!0,text:"(만)원"},grid:{display:!1}}}}}}};const yt=(0,ne.A)(ht,[["render",nt]]);var ft=yt;const gt={class:"myChat"};function kt(e,t,a,l,s,n){const i=(0,o.g2)("pie-chart");return(0,o.uX)(),(0,o.CE)("div",gt,[(0,o.bF)(i,{id:"pie-chart-component",chartData:a.chartData,chartOptions:s.chartOptions},null,8,["chartData","chartOptions"])])}const bt={class:"chart-container"},Lt={ref:"pieChartCanvas"};function vt(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",bt,[(0,o.Lk)("canvas",Lt,null,512)])}dt.t1.register(...dt.$L);var xt={name:"PieChart",props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>({})}},mounted(){this.renderChart()},methods:{renderChart(){this.pieChart&&this.pieChart.destroy();const e=this.$refs.pieChartCanvas.getContext("2d");this.pieChart=new dt.t1(e,{type:"pie",data:this.chartData,options:this.chartOptions})}},beforeUnmount(){this.pieChart&&this.pieChart.destroy()}};const wt=(0,ne.A)(xt,[["render",vt],["__scopeId","data-v-5180eeaf"]]);var _t=wt,Ct={components:{PieChart:_t},props:{chartData:{type:Object,required:!0}},data(){return{chartOptions:{responsive:!0,plugins:{legend:{position:"right"},tooltip:{enabled:!0}}}}}};const Dt=(0,ne.A)(Ct,[["render",kt],["__scopeId","data-v-280ff3e8"]]);var St=Dt;const Nt={class:"border-radius-lg py-3 pe-1"};function Mt(e,t,a,l,s,n){const i=(0,o.g2)("reports-bar-chart");return(0,o.uX)(),(0,o.CE)("div",Nt,[(0,o.bF)(i,{chart:{labels:["오렌쥬시(500ml)","애플팜(500ml)","포도17(500ml)","오렌쥬시(750ml)","포도17(1.5L)"],datasets:[{label:"2024년 1월",data:[25600,22e3,15e3,7e3,5e3],backgroundColor:"rgba(251, 140, 0, 0.7)",borderColor:"rgba(251, 140, 0, 1)",borderWidth:1},{label:"2025년 1월",data:[10600,6e3,2600,2500,2e3],backgroundColor:"rgba(76, 175, 80, 0.7)",borderColor:"rgba(76, 175, 80, 1)",borderWidth:1}]}},null,8,["chart"])])}const Rt={class:"chart-container"},At={ref:"barChartCanvas"};function It(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",Rt,[(0,o.Lk)("canvas",At,null,512)])}dt.t1.register(...dt.$L);var Et={name:"ReportsBarChart",props:{chart:{type:Object,required:!0}},mounted(){this.renderChart()},methods:{renderChart(){this.barChart&&this.barChart.destroy();const e=this.$refs.barChartCanvas.getContext("2d");this.barChart=new dt.t1(e,{type:"bar",data:this.chart,options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{enabled:!0}},scales:{x:{beginAtZero:!0,grid:{display:!1},ticks:{callback:function(e){return e.toLocaleString()}}},y:{beginAtZero:!0,grid:{display:!1}}}}})}},beforeUnmount(){this.barChart&&this.barChart.destroy()}};const Ft=(0,ne.A)(Et,[["render",It],["__scopeId","data-v-1d054654"]]);var Pt=Ft,Ot={components:{ReportsBarChart:Pt}};const qt=(0,ne.A)(Ot,[["render",Mt]]);var $t=qt;const Tt={class:"border-radius-lg py-3 pe-1"};function jt(e,t,a,l,s,n){const i=(0,o.g2)("reports-bar-chart");return(0,o.uX)(),(0,o.CE)("div",Tt,[(0,o.bF)(i,{chart:{labels:s.dateLabels,datasets:[{label:"실적률",data:[90,94,97,96,95,96,50],backgroundColor:"rgba(76, 175, 80, 0.7)",borderColor:"rgba(76, 175, 80, 1)",borderWidth:1}]}},null,8,["chart"])])}const Qt={class:"chart-container"},Ut={ref:"barChartCanvas"};function Jt(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",Qt,[(0,o.Lk)("canvas",Ut,null,512)])}dt.t1.register(...dt.$L);var zt={name:"ReportsBarChart",props:{chart:{type:Object,required:!0}},mounted(){this.renderChart()},methods:{renderChart(){this.barChart&&this.barChart.destroy();const e=this.$refs.barChartCanvas.getContext("2d");this.barChart=new dt.t1(e,{type:"bar",data:this.chart,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",display:!1},tooltip:{enabled:!0}},scales:{x:{beginAtZero:!0,grid:{display:!1}},y:{beginAtZero:!0,grid:{display:!1},ticks:{stepSize:25,callback:function(e){return e+"%"},min:0,max:100}}}}})}},beforeUnmount(){this.barChart&&this.barChart.destroy()}};const Bt=(0,ne.A)(zt,[["render",Jt],["__scopeId","data-v-23e9e616"]]);var Vt=Bt,Wt={components:{ReportsBarChart:Vt},data(){return{dateLabels:this.generateDateLabels()}},methods:{generateDateLabels(){const e=[],t=new Date;for(let a=0;a<7;a++){const l=new Date(t);l.setDate(t.getDate()-a);const o=`${String(l.getMonth()+1).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`;e.unshift(o)}return e}}};const Gt=(0,ne.A)(Wt,[["render",jt]]);var Xt=Gt;const Kt={class:"d-flex"},Ht={class:"p-2 flex-fill"},Yt={class:"container-fluid pl-4 pr-4 pt-0 pm-0"},Zt={class:"row"},ea={class:"col-12"},ta={class:"card my-4"},aa=(0,o.Lk)("div",{class:"card-header p-0 position-relative mt-n4 mx-3 z-index-2 pb-2"},[(0,o.Lk)("div",{class:"bg-gradient-success shadow-success border-radius-lg pt-1 pb-0"},[(0,o.Lk)("h6",{class:"text-white text-capitalize ps-3"},"주간 공정 실적률")])],-1),la={class:"card-body px-0 pb-2 pt-0",style:{width:"180px"}},oa={class:"p-2 flex-fill"},sa={class:"container-fluid pl-4 pr-4 pt-0 pm-0"},na={class:"row"},ia={class:"col-12"},ra={class:"card my-4"},ca=(0,o.Lk)("div",{class:"card-header p-0 position-relative mt-n4 mx-3 z-index-2 pb-2"},[(0,o.Lk)("div",{class:"bg-gradient-success shadow-success border-radius-lg pt-1 pb-0"},[(0,o.Lk)("h6",{class:"text-white text-capitalize ps-3"},"1월 제품 판매량 TOP 5 (개)")])],-1),da={class:"card-body px-0 pb-2 pt-0",style:{width:"250px"}},ua={class:"p-2 flex-fill"},pa={class:"container-fluid pl-4 pr-4 pt-0 pm-0"},ma={class:"row"},ha={class:"col-12"},ya={class:"card my-4"},fa=(0,o.Lk)("div",{class:"card-header p-0 position-relative mt-n4 mx-3 z-index-2 pb-2"},[(0,o.Lk)("div",{class:"bg-gradient-success shadow-success border-radius-lg pt-1 pb-0"},[(0,o.Lk)("h6",{class:"text-white text-capitalize ps-3"},"자재별 보유 비율 (%)")])],-1),ga={class:"card-body px-0 pb-2 pt-0",style:{width:"250px"}},ka={class:"container-fluid pl-4 pr-4 pt-0 pm-0"},ba={class:"row"},La={class:"col-12"},va={class:"card my-4"},xa=(0,o.Lk)("div",{class:"card-header p-0 position-relative mt-n4 mx-3 z-index-2 pb-2"},[(0,o.Lk)("div",{class:"bg-gradient-success shadow-success border-radius-lg pt-1 pb-0"},[(0,o.Lk)("h6",{class:"text-white text-capitalize ps-3"},"월별 과일쥬스 매출액 (만원)")])],-1),wa={class:"card-body px-0 pb-2 pt-0"};var _a={__name:"main",setup(e){const t=(0,st.rd)(),a={labels:["포도","사과","오렌지","레몬","망고","당근","세척병(500ml)","세척병(750ml)","세척병(1.5L)","설탕","식용색소","향료"],datasets:[{label:"Material",data:[18,10,5,3,18,14,5,5,3,18,.5,.5],backgroundColor:["rgba(128, 0, 128, 0.8)","rgba(255, 0, 0, 0.8)","rgba(255, 206, 86, 0.8)","rgba(255, 215, 0, 0.8)","rgba(0, 255, 0, 0.8)","rgba(54, 162, 235, 0.8)","rgba(0, 0, 128, 0.8)","rgba(176, 196, 205, 0.8)","rgba(255, 192, 203, 0.8)","rgba(169, 169, 169, 0.8)","rgba(100, 80, 255, 0.8)","rgba(0, 0, 0, 0.8)"],borderColor:["rgba(128, 0, 128, 1)","rgba(255, 0, 0, 1)","rgba(255, 206, 86, 1)","rgba(255, 215, 0, 1)","rgba(0, 255, 0, 1)","rgba(54, 162, 235, 1)","rgba(0, 0, 128, 1)","rgba(176, 196, 205, 1)","rgba(255, 192, 203, 1)","rgba(169, 169, 169, 1)","rgba(100, 80, 255, 1)","rgba(0, 0, 0, 1)"]}]},l={labels:[...a.labels],datasets:[{...a.datasets[0],data:[...a.datasets[0].data],backgroundColor:[...a.datasets[0].backgroundColor],borderColor:[...a.datasets[0].borderColor]}]},s=l.labels.map(((e,t)=>({label:e,value:l.datasets[0].data[t],backgroundColor:l.datasets[0].backgroundColor[t],borderColor:l.datasets[0].borderColor[t]})));s.sort(((e,t)=>t.value-e.value)),l.labels=s.map((e=>e.label)),l.datasets[0].data=s.map((e=>e.value)),l.datasets[0].backgroundColor=s.map((e=>e.backgroundColor)),l.datasets[0].borderColor=s.map((e=>e.borderColor));const n=()=>{t.push({name:"Factoryprocess"})};return(e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.Lk)("h6",{style:{"margin-bottom":"0px",display:"flex","align-items":"center"}},[(0,o.eW)("    네츄럴 블렌드 통계자료 "),(0,o.Lk)("button",{onClick:n,type:"button",class:"btn",style:{top:"5px","background-color":"#f44335",color:"white",width:"140px",height:"30px",display:"flex","align-items":"center","justify-content":"center","margin-left":"30px"}}," 공정별 현황보기 ")])]),(0,o.Lk)("div",Kt,[(0,o.Lk)("div",Ht,[(0,o.Lk)("div",Yt,[(0,o.Lk)("div",Zt,[(0,o.Lk)("div",ea,[(0,o.Lk)("div",ta,[aa,(0,o.Lk)("div",la,[(0,o.bF)(Xt,{style:{width:"400px",height:"280px"},class:"p-3"})])])])])])]),(0,o.Lk)("div",oa,[(0,o.Lk)("div",sa,[(0,o.Lk)("div",na,[(0,o.Lk)("div",ia,[(0,o.Lk)("div",ra,[ca,(0,o.Lk)("div",da,[(0,o.bF)($t,{style:{width:"480px",height:"280px"},class:"p-3"})])])])])])]),(0,o.Lk)("div",ua,[(0,o.Lk)("div",pa,[(0,o.Lk)("div",ma,[(0,o.Lk)("div",ha,[(0,o.Lk)("div",ya,[fa,(0,o.Lk)("div",ga,[(0,o.bF)(St,{style:{width:"300px",height:"280px"},chartData:l})])])])])])])]),(0,o.Lk)("div",ka,[(0,o.Lk)("div",ba,[(0,o.Lk)("div",La,[(0,o.Lk)("div",va,[xa,(0,o.Lk)("div",wa,[(0,o.bF)(ft)])])])])])],64))}};const Ca=_a;var Da=Ca,Sa={__name:"MainPage",setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(Da)]))}};const Na=Sa;var Ma=Na;function Ra(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(),(0,o.Wv)(a,{key:e.$route.fullPath}))])}const Aa={},Ia=(0,ne.A)(Aa,[["render",Ra]]);var Ea=Ia;const Fa=e=>((0,o.Qi)("data-v-3ec487f4"),e=e(),(0,o.jt)(),e),Pa={class:"container-fluid py-4"},Oa=Fa((()=>(0,o.Lk)("h3",null,"설비 조회",-1))),qa={class:"main-container"},$a={class:"content overflow-hidden"},Ta={class:"row gx-3 align-items-center",style:{margin:"0"}},ja={class:"col-sm-auto"},Qa=Fa((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold"},"작동 상태",-1))),Ua=["value"],Ja={class:"col-sm-auto"},za=Fa((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold"},"설비 분류",-1))),Ba=["value"],Va={class:"row gx-3 align-items-center",style:{margin:"10px 0"}},Wa={class:"col-auto"},Ga=["value"],Xa={class:"col-5"},Ka={class:"row gx-3",style:{margin:"20px 0 0","justify-content":"center"}},Ha={class:"col-sm-auto"},Ya={class:"col-sm-auto"},Za={class:"grid-container work"},el={style:{display:"none"}};function tl(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay"),u=(0,o.g2)("MachineManage"),p=(0,o.g2)("InActAdd");return(0,o.uX)(),(0,o.CE)("div",Pa,[Oa,(0,o.Lk)("div",qa,[(0,o.Lk)("div",$a,[(0,o.Lk)("div",Ta,[(0,o.Lk)("div",ja,[Qa,(0,o.Lk)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.statusList,(e=>((0,o.uX)(),(0,o.CE)("label",{class:"me-3",key:e},[(0,o.eW)((0,d.v_)(e)+" ",1),(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",value:e,type:"radio","onUpdate:modelValue":t[0]||(t[0]=e=>n.pickedStatus=e)},null,8,Ua),[[l.XL,n.pickedStatus]])])))),128))])]),(0,o.Lk)("div",Ja,[za,(0,o.Lk)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.machineType,(e=>((0,o.uX)(),(0,o.CE)("label",{class:"me-3",key:e},[(0,o.eW)((0,d.v_)(e)+" ",1),(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",value:e,type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>n.pickedType=e)},null,8,Ba),[[l.lH,n.pickedType]])])))),128))])])]),(0,o.Lk)("div",Va,[(0,o.Lk)("div",Wa,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.selectSearchType=e),class:"form-select search"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.searchType,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e},(0,d.v_)(e),9,Ga)))),128))],512),[[l.u1,n.selectSearchType]])]),(0,o.Lk)("div",Xa,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.searchData=e),placeholder:"검색 내용을 입력하세요",class:"form-control search",onKeydown:t[4]||(t[4]=(0,l.jR)(((...e)=>i.enterkey&&i.enterkey(...e)),["enter"]))},null,544),[[l.Jo,n.searchData]])])]),(0,o.Lk)("div",Ka,[(0,o.Lk)("div",Ha,[(0,o.Lk)("button",{class:"btn btn-success toast-btn",type:"button","data-target":"warningToast",onClick:t[5]||(t[5]=(...e)=>i.updateFilter&&i.updateFilter(...e))}," 검색 ")]),(0,o.Lk)("div",Ya,[(0,o.Lk)("button",{class:"btn btn-warning toast-btn",type:"button","data-target":"warningToast",onClick:t[6]||(t[6]=(...e)=>i.resetSearch&&i.resetSearch(...e))}," 초기화 ")])])])]),(0,o.Lk)("div",Za,[(0,o.bF)(r,{rowData:s.rowData,columnDefs:s.columnDefs,theme:n.theme,onGridReady:i.onReady,rowHeight:50,style:{height:"493px"},pagination:!0,paginationPageSize:8,paginationPageSizeSelector:[8,16,40,80],onCellClicked:i.cellClickFnc,noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked","noRowsOverlayComponent"])]),(0,o.Lk)("div",el,[(0,o.bF)(c)]),(0,o.bF)(u,{isShowModal:n.isShowMachineAdd,isUpdate:!1,onCloseModal:i.closeMachineAdd,onConfirm:i.confirmMachineAdd},null,8,["isShowModal","onCloseModal","onConfirm"]),(0,o.bF)(p,{isShowModal:n.isShowInActAdd,machineNo:n.machineNo,onCloseModal:i.closeInActAdd,onConfirm:i.confirmInActAdd},null,8,["isShowModal","machineNo","onCloseModal","onConfirm"])])}const al=e=>((0,o.Qi)("data-v-02a086b7"),e=e(),(0,o.jt)(),e),ll={key:0,class:"modal-title fs-5"},ol={key:1,class:"modal-title fs-5"},sl={class:"container-fluid py-4"},nl={class:"row gx-3 gy-2 align-items-center"},il=al((()=>(0,o.Lk)("div",{class:"col-2"},[(0,o.Lk)("label",{for:"machineName"},"설비 이름")],-1))),rl={class:"col-6"},cl={class:"row gx-3 gy-2 align-items-center"},dl=al((()=>(0,o.Lk)("div",{class:"col-2"},[(0,o.Lk)("label",{for:"machineImg"},"설비 이미지")],-1))),ul={class:"col-6",style:{"text-align":"left"}},pl={class:"row gx-3 gy-2 align-items-center"},ml=al((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label"},"사용 여부",-1))),hl={class:"col-sm-6",style:{"text-align":"left"}},yl=["value","disabled"],fl={class:"row gx-3 gy-2 align-items-center"},gl=al((()=>(0,o.Lk)("div",{class:"col-2"},[(0,o.Lk)("label",{for:"modelNum"},"모델 번호")],-1))),kl={class:"col-6"},bl={class:"row gx-3 gy-2 align-items-center"},Ll=al((()=>(0,o.Lk)("div",{class:"col-2"},[(0,o.Lk)("a",null,"설비 분류")],-1))),vl={class:"col-3"},xl=["value"],wl={class:"row gx-3 gy-2 align-items-center"},_l=al((()=>(0,o.Lk)("div",{class:"col-2"},[(0,o.Lk)("label",{for:"clientNum"},"거래처")],-1))),Cl={class:"col-6"},Dl={class:"row gx-3 gy-2 align-items-center"},Sl=al((()=>(0,o.Lk)("div",{class:"col-2"},[(0,o.Lk)("label",{for:"uph"},"UPH")],-1))),Nl={class:"col-6"},Ml={class:"row align-items-center"},Rl={class:"col-11"},Al={key:0,class:"col-1 uphUnit"},Il={key:1,class:"col-1 uphUnit"},El={class:"row gx-3 gy-2 align-items-center"},Fl=al((()=>(0,o.Lk)("div",{class:"col-2"},[(0,o.Lk)("label",{for:"machineLocation"},"설비 위치")],-1))),Pl={class:"col-6"},Ol={class:"row gx-3 gy-2 align-items-center"},ql={class:"col-2"},$l={key:0,for:"empName"},Tl={key:1,for:"empName"},jl={class:"col-6"},Ql={class:"row gx-3 gy-2 align-items-center"},Ul=al((()=>(0,o.Lk)("div",{class:"col-2"},[(0,o.Lk)("label",{for:"buyDate"},"구매 일자")],-1))),Jl={class:"col-6"},zl=["readonly"],Bl=["disabled"],Vl={key:0,style:{color:"white"}},Wl={key:1,style:{color:"white"}};function Gl(e,t,a,s,n,i){const r=(0,o.g2)("ComList"),c=(0,o.g2)("Modal"),u=(0,o.g2)("MachineParts"),p=(0,o.g2)("ModalMachine");return(0,o.uX)(),(0,o.Wv)(p,{onClick:(0,l.D$)(i.closeModal,["self"]),modalSize:n.modalSize},{header:(0,o.k6)((()=>[a.isUpdate?((0,o.uX)(),(0,o.CE)("h1",ll,"설비 수정")):((0,o.uX)(),(0,o.CE)("h1",ol,"설비 등록"))])),body:(0,o.k6)((()=>[(0,o.Lk)("div",sl,[(0,o.Lk)("div",(0,o.v6)({class:"machineBody row gy-3"},n.machineData),[(0,o.Lk)("div",nl,[il,(0,o.Lk)("div",rl,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"machineName",name:"machineName","onUpdate:modelValue":t[0]||(t[0]=e=>n.machineData.machine_name=e)},null,512),[[l.Jo,n.machineData.machine_name]])])]),(0,o.Lk)("div",cl,[dl,(0,o.Lk)("div",ul,[(0,o.Lk)("input",{type:"file",id:"machineImg",name:"machineImg",onChange:t[1]||(t[1]=(...e)=>i.uploadImage&&i.uploadImage(...e))},null,32)])]),(0,o.Lk)("div",pl,[ml,(0,o.Lk)("div",hl,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.statusList,(e=>((0,o.uX)(),(0,o.CE)("label",{key:e,class:"me-3"},[(0,o.eW)((0,d.v_)(e)+" ",1),(0,o.bo)((0,o.Lk)("input",{type:"radio",name:"status",value:e,"onUpdate:modelValue":t[2]||(t[2]=e=>n.machineData.machine_state=e),disabled:a.isUpdate,class:"form-check-input"},null,8,yl),[[l.XL,n.machineData.machine_state]])])))),128))])]),(0,o.Lk)("div",fl,[gl,(0,o.Lk)("div",kl,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"modelNum",name:"modelNum","onUpdate:modelValue":t[3]||(t[3]=e=>n.machineData.model_num=e)},null,512),[[l.Jo,n.machineData.model_num]])])]),(0,o.Lk)("div",bl,[Ll,(0,o.Lk)("div",vl,[(0,o.bo)((0,o.Lk)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[4]||(t[4]=e=>n.machineData.process_code=e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.typeSelect,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.process_code,value:e.process_code},(0,d.v_)(e.machine_type),9,xl)))),128))],512),[[l.u1,n.machineData.process_code]])])]),(0,o.Lk)("div",wl,[_l,(0,o.Lk)("div",Cl,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"clientNum",name:"clientNum",onClick:t[5]||(t[5]=e=>i.openClientModal("client")),"onUpdate:modelValue":t[6]||(t[6]=e=>this.selectedCom=e),readonly:"",placeholder:"🔍"},null,512),[[l.Jo,this.selectedCom]])]),(0,o.bF)(c,{isShowModal:n.isShowModal.client,modalTitle:"거래처선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[7]||(t[7]=e=>i.closeClientModal("client")),onConfirm:t[8]||(t[8]=e=>i.confirmClientModal("client"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectclient:i.selectclient},null,8,["onSelectclient"]),[[l.aG,n.isShowModal.client]])])),_:1},8,["isShowModal"])]),(0,o.Lk)("div",Dl,[Sl,(0,o.Lk)("div",Nl,[(0,o.Lk)("div",Ml,[(0,o.Lk)("div",Rl,[(0,o.bo)((0,o.Lk)("input",{class:"form-control uhpInput",type:"number",id:"uph",name:"uph","onUpdate:modelValue":t[9]||(t[9]=e=>n.machineData.uph=e)},null,512),[[l.Jo,n.machineData.uph]])]),"p1"==this.machineData.process_code||"p3"==this.machineData.process_code?((0,o.uX)(),(0,o.CE)("div",Al,"개")):(0,o.Q3)("",!0),"p2"==this.machineData.process_code?((0,o.uX)(),(0,o.CE)("div",Il,"ml")):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",El,[Fl,(0,o.Lk)("div",Pl,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"machineLocation",name:"machineLocation","onUpdate:modelValue":t[10]||(t[10]=e=>n.machineData.machine_location=e)},null,512),[[l.Jo,n.machineData.machine_location]])])]),(0,o.Lk)("div",Ol,[(0,o.Lk)("div",ql,[a.isUpdate?((0,o.uX)(),(0,o.CE)("label",Tl,"수정자")):((0,o.uX)(),(0,o.CE)("label",$l,"등록자"))]),(0,o.Lk)("div",jl,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"empName",name:"empName","onUpdate:modelValue":t[11]||(t[11]=e=>this.machineData.emp_name=e),readonly:""},null,512),[[l.Jo,this.machineData.emp_name]])])]),(0,o.Lk)("div",Ql,[Ul,(0,o.Lk)("div",Jl,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"datetime-local",id:"buyDate",name:"buyDate","onUpdate:modelValue":t[12]||(t[12]=e=>n.machineData.buy_date=e),readonly:a.isUpdate},null,8,zl),[[l.Jo,n.machineData.buy_date]])])]),(0,o.Lk)("div",null,[0!=n.partCnt||a.isUpdate?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:0,class:"btn bg-gradient-warning mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:t[13]||(t[13]=e=>n.partCnt++)}," 부품 추가 "))])],16),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.partCnt,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e},[(0,o.bF)(u,{partDataList:n.partDataList,rowNum:e,lastNum:n.partCnt,isUpdate:a.isUpdate,oldPartNum:n.oldPartNum,machineData:n.machineData,onAdd:i.addClicked,onDel:i.delClicked,onChInput:i.partInput},null,8,["partDataList","rowNum","lastNum","isUpdate","oldPartNum","machineData","onAdd","onDel","onChInput"])])))),128))])])),footer:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"btn btn-secondary w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:t[14]||(t[14]=(...e)=>i.closeModal&&i.closeModal(...e))}," 닫기 "),(0,o.Lk)("button",{class:"btn btn-success w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:t[15]||(t[15]=(...e)=>i.confirm&&i.confirm(...e)),disabled:!n.fullInput},[a.isUpdate?((0,o.uX)(),(0,o.CE)("a",Vl,"수정")):((0,o.uX)(),(0,o.CE)("a",Wl,"등록"))],8,Bl)])),_:1},8,["onClick","modalSize"])}const Xl={class:"modal-content"},Kl={class:"modal-header"},Hl={class:"modal-body"},Yl={class:"modal-footer"};function Zl(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal}]),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",{class:(0,d.C4)(["modal-dialog modal-dialog-centered modal-dialog-scrollable",[a.modalSize]])},[(0,o.Lk)("div",Xl,[(0,o.Lk)("div",Kl,[(0,o.RG)(e.$slots,"header",{},(()=>[(0,o.eW)("slot")]),!0)]),(0,o.Lk)("div",Hl,[(0,o.RG)(e.$slots,"body",{},(()=>[(0,o.eW)("slot")]),!0)]),(0,o.Lk)("div",Yl,[(0,o.RG)(e.$slots,"footer",{},(()=>[(0,o.eW)("slot")]),!0)])])],2)],2)}var eo={name:"modalMachine",props:{isShowModal:Boolean,modalSize:String},data(){return{modalState:this.isShowModal}}};const to=(0,ne.A)(eo,[["render",Zl],["__scopeId","data-v-3a6ea0df"]]);var ao=to,lo=a(144);const oo={class:"modal-content"},so={class:"modal-header"},no={class:"modal-title fs-5",id:"exampleModalLabel"},io={class:"modal-body"},ro={class:"modal-footer"};function co(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal}]),onClick:t[2]||(t[2]=(0,l.D$)(((...e)=>i.closeModal&&i.closeModal(...e)),["self"])),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",style:(0,d.Tr)({maxWidth:a.width+"px"})},[(0,o.Lk)("div",oo,[(0,o.Lk)("div",so,[(0,o.Lk)("h1",no,(0,d.v_)(a.modalTitle),1)]),(0,o.Lk)("div",io,[(0,o.RG)(e.$slots,"list",{},(()=>[(0,o.eW)("slot")]),!0)]),(0,o.Lk)("div",ro,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>i.closeModal&&i.closeModal(...e))},(0,d.v_)(a.noBtn),1),(0,o.Lk)("button",{type:"button",class:"btn btn-warning",onClick:t[1]||(t[1]=(...e)=>i.confirm&&i.confirm(...e))},(0,d.v_)(a.yesBtn),1)])])],4)],2)}var uo={name:"Modal",props:{isShowModal:Boolean,modalTitle:String,noBtn:String,yesBtn:String,width:Number},data(){return{modalState:this.isShowModal}},methods:{closeModal(){this.$emit("closeModal")},confirm(){this.$emit("confirm")}}};const po=(0,ne.A)(uo,[["render",co],["__scopeId","data-v-3f348e5c"]]);var mo=po;const ho={class:"grid-container"};function yo(e,t,a,l,s,n){const i=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",ho,[(0,o.bF)(i,{rowData:s.rowData,columnDefs:s.columnData,theme:s.theme,onGridReady:n.onReady,onRowClicked:n.selectRow,rowSelection:"single"},null,8,["rowData","columnDefs","theme","onGridReady","onRowClicked"])])}var fo=a(1675);const go=fo.zl0.withParams({accentColor:"#EE9900",backgroundColor:"#f7f8fa",borderColor:"#5CAAC626",borderRadius:4,browserColorScheme:"light",cellTextColor:"#061A21",foregroundColor:"#02151C",headerBackgroundColor:"#EE9900",headerFontSize:16,headerFontWeight:700,headerTextColor:"#FFFFFF",headerVerticalPaddingScale:1,iconSize:16,rowVerticalPaddingScale:1,spacing:8,wrapperBorderRadius:8});var ko=go,bo={name:"partSelect",props:{machineData:Object},data(){return{theme:ko,rowData:[],columnData:[{headerName:"부품번호",field:"part_num",flex:1},{headerName:"설비분류",field:"changeTypeList",flex:1},{headerName:"부품이름",field:"part_name",flex:1}],selectedData:""}},methods:{async getChangePartList(e){let t=await Re.A.get(`${Ae}/parts/changePartList/${e}`).catch((e=>console.log(e)));for(let a in t.data)t.data[a].changeTypeList=t.data[a].machine_type.replace("p1","세척기기").replace("p2","음료제작기기").replace("p3","포장기기");this.rowData=t.data},selectRow(e){const t=e.data;this.$emit("selectData",t)},onReady(e){this.gridApi=e.api}},watch:{machineData:{handler(){this.getChangePartList(this.machineData.process_code)},deep:!0}}};const Lo=(0,ne.A)(bo,[["render",yo],["__scopeId","data-v-638ab526"]]);var vo=Lo;const xo=e=>((0,o.Qi)("data-v-1d17411b"),e=e(),(0,o.jt)(),e),wo={class:"container-fluid py-1"},_o={class:"row gx-3 align-items-center"},Co={class:"col-3"},Do={class:"row"},So=xo((()=>(0,o.Lk)("label",{for:"",class:"col-md-auto"},"부품이름",-1))),No=["readonly"],Mo={class:"col-7"},Ro={class:"row"},Ao=xo((()=>(0,o.Lk)("label",{for:"",class:"col-md-auto"},"교체주기",-1))),Io={class:"col"},Eo={class:"row"},Fo=["readonly"],Po=xo((()=>(0,o.Lk)("label",{for:"",class:"col"},"년",-1))),Oo={class:"col"},qo={class:"row"},$o=["readonly"],To=xo((()=>(0,o.Lk)("label",{for:"",class:"col"},"월",-1))),jo={class:"col"},Qo={class:"row"},Uo=["readonly"],Jo=xo((()=>(0,o.Lk)("label",{for:"",class:"col"},"일",-1))),zo={key:0,class:"col"},Bo={key:1,class:"col"},Vo={key:2,class:"col"};var Wo={__name:"MachineParts",props:{partDataList:Array,rowNum:Number,lastNum:Number,isUpdate:Boolean,oldPartNum:Array,machineData:Object},emits:["add","del","chInput"],setup(e,{emit:t}){const a=e;(0,o.KC)((()=>{n(a.oldPartNum[a.rowNum-1])}));const s=(0,lo.KR)({}),n=async e=>{let t=await Re.A.get(`${Ae}/parts/partInfo/${e}`).catch((e=>console.log(e)));s.value=t.data,c.value.partNum=t.data.part_num,c.value.partName=t.data.part_name,c.value.yearCycle=Math.floor(t.data.replace_cycle/365),c.value.monthCycle=Math.floor(t.data.replace_cycle%365/30),c.value.dayCycle=Math.floor(t.data.replace_cycle%365%30)};(0,o.$u)((()=>{c.value=a.partDataList[a.rowNum-1]}));const i=()=>{t("add")},r=()=>{t("del",a.rowNum)},c=(0,lo.KR)({partNum:0,partName:"",yearCycle:0,monthCycle:0,dayCycle:0}),d=(0,lo.KR)(!1),u=()=>{d.value=!0},p=()=>{n(h.value.part_num),m()},m=()=>{d.value=!1},h=(0,lo.KR)(),y=e=>{h.value=e};return(0,o.wB)(c.value,(e=>{t("chInput",a.rowNum,e)}),{deep:!0}),(e,t)=>((0,o.uX)(),(0,o.CE)("div",wo,[(0,o.Lk)("div",_o,[(0,o.Lk)("div",Co,[(0,o.Lk)("div",Do,[So,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"col","onUpdate:modelValue":t[0]||(t[0]=e=>c.value.partName=e),readonly:a.isUpdate},null,8,No),[[l.Jo,c.value.partName]])])]),(0,o.Lk)("div",Mo,[(0,o.Lk)("div",Ro,[Ao,(0,o.Lk)("div",Io,[(0,o.Lk)("div",Eo,[(0,o.bo)((0,o.Lk)("input",{type:"number",class:"col","onUpdate:modelValue":t[1]||(t[1]=e=>c.value.yearCycle=e),readonly:a.isUpdate},null,8,Fo),[[l.Jo,c.value.yearCycle]]),Po])]),(0,o.Lk)("div",Oo,[(0,o.Lk)("div",qo,[(0,o.bo)((0,o.Lk)("input",{type:"number",class:"col","onUpdate:modelValue":t[2]||(t[2]=e=>c.value.monthCycle=e),readonly:a.isUpdate},null,8,$o),[[l.Jo,c.value.monthCycle]]),To])]),(0,o.Lk)("div",jo,[(0,o.Lk)("div",Qo,[(0,o.bo)((0,o.Lk)("input",{type:"number",class:"col","onUpdate:modelValue":t[3]||(t[3]=e=>c.value.dayCycle=e),readonly:a.isUpdate},null,8,Uo),[[l.Jo,c.value.dayCycle]]),Jo])])])]),a.isUpdate?((0,o.uX)(),(0,o.CE)("div",zo,[(0,o.Lk)("button",{onClick:u},"교체"),(0,o.bF)(mo,{isShowModal:d.value,modalTitle:"교체 가능한 부품",noBtn:"닫기",yesBtn:"선택",onCloseModal:m,onConfirm:p},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(vo,{machineData:a.machineData,onSelectData:y},null,8,["machineData"]),[[l.aG,d.value]])])),_:1},8,["isShowModal"])])):(0,o.Q3)("",!0),a.rowNum!=a.lastNum||a.isUpdate?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Bo,[(0,o.Lk)("button",{onClick:i}," + "),(0,o.Lk)("button",{onClick:r}," - ")])),a.rowNum==a.lastNum||a.isUpdate?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Vo,[(0,o.Lk)("button",{onClick:r}," x ")]))])]))}};const Go=(0,ne.A)(Wo,[["__scopeId","data-v-1d17411b"]]);var Xo=Go;const Ko=function(e,t){let a=null==e?new Date:new Date(e),l=a.getFullYear(),o=("0"+(a.getMonth()+1)).slice(-2),s=("0"+a.getDate()).slice(-2),n=("0"+a.getHours()).slice(-2),i=("0"+a.getMinutes()).slice(-2),r=("0"+a.getSeconds()).slice(-2),c=t.replace("yyyy",l).replace("MM",o).replace("dd",s).replace("hh",n).replace("mm",i).replace("ss",r);return c};var Ho={dateFormat:Ko};const Yo={class:"grid-container"},Zo={style:{display:"none"}};function es(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.inputListsearch=e),class:"text-center styled-input",placeholder:"거래처명 입력하세요"},null,512),[[l.Jo,n.inputListsearch]]),(0,o.Lk)("div",Yo,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnClientlist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:e.noRowsOverlayComponent,onRowClicked:i.selectClient,rowSelection:"single"},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",Zo,[(0,o.bF)(c)])],64)}var ts={name:"ClientList",data(){return{rowData:[],theme:ko,selectedCom:"",columnClientlist:[{headerName:"거래처번호",field:"client_num",resizable:!0,sortable:!0},{headerName:"거래처명",field:"com_name",resizable:!0,sortable:!0}],inputListsearch:""}},created(){this.getClientList()},methods:{async getClientList(){let e=await Re.A.get(`${Ae}/machine/clientList`).catch((e=>console.log(e)));this.rowData=e.data},selectClient(e){const t=e.data;this.$emit("selectclient",t)},onReady(e){this.gridApi=e.api,e.api.sizeColumnsToFit();const t=document.querySelectorAll(".ag-paging-panel"),a=t[0];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t)}}}};const as=(0,ne.A)(ts,[["render",es],["__scopeId","data-v-137d46ae"]]);var ls=as,os={name:"MachineManage",props:{machineNo:Number,isUpdate:Boolean},components:{ModalMachine:ao,MachineParts:Xo,Modal:mo,ComList:ls},data(){return{modalSize:"modal-lg",localUrl:Ie,imgUrlTest:"",machineData:{machine_name:"",machine_img:"",model_num:"",machine_state:"사용",client_num:"",machine_location:"",uph:"",buy_date:"",process_code:"",emp_name:this.$store.state.loginInfo.name,emp_num:this.$store.state.loginInfo.emp_num},statusList:["사용","미사용"],typeSelect:[],isInsert:!1,fullInput:!1,imagePreview:null,partCnt:0,partDataList:[],emptyData:{partNum:0,partName:"",yearCycle:0,monthCycle:0,dayCycle:0},oldPartNum:[],searchCom:"",selectedCom:"",isShowModal:{client:!1}}},beforeMount(){this.getSelectItem(),this.createPartsData()},updated(){this.machineNo>0?(this.getMachineInfo(this.machineNo),this.getMachinePartInfo(this.machineNo)):this.machineData.buy_date=this.getToday()},methods:{...(0,oe.PY)(["addLoginInfo"]),async getSelectItem(){let e=await Re.A.get(`${Ae}/machine/machineType`).catch((e=>console.log(e)));this.typeSelect=e.data},closeModal(){this.$emit("closeModal"),this.isUpdate||this.deleteVal()},confirm(){this.machineData.buy_date=this.dateFormat(this.machineData.buy_date,"yyyy-MM-dd hh:mm:ss"),this.isUpdate?this.machineUpdate():(this.machineInsert(),this.deleteVal())},deleteVal(){for(let e in this.machineData)this.machineData[e]="";this.machineData.machine_state="사용",this.machineData.emp_num=this.$store.state.loginInfo.emp_num,this.partCnt=0},async machineInsert(){let e="사용"==this.machineData.machine_state?"run":"stop",t={machine_name:this.machineData.machine_name,machine_img:this.machineData.machine_img,machine_state:e,model_num:this.machineData.model_num,client_num:Number(this.machineData.client_num),uph:this.machineData.uph,machine_location:this.machineData.machine_location,buy_date:this.machineData.buy_date,process_code:this.machineData.process_code,emp_num:this.machineData.emp_num};t.upd=24*Number(this.machineData.uph),"run"==this.machineData.machine_state&&(t.install_date=this.machineData.buy_date);let a=await Re.A.post(`${Ae}/machine/machineInsert`,t).catch((e=>console.log(e))),l=a.data;for(let o in this.partDataList){let e=this.partDataList[o].yearCycle+this.partDataList[o].monthCycle+this.partDataList[o].dayCycle;if(""!=this.partDataList[o].part_name&&e>0){let e=await this.partInsert(this.partDataList[o],t,l.machine_num);console.log(e)}}"stop"==e&&(console.log("insert machine : ",l.machine_num),await this.inActInsert(l.machine_num,t)),l.machine_num>0?(this.$notify({text:"설비 등록이 성공했습니다.",type:"success"}),this.isInsert=!0,this.$emit("confirm",this.isInsert)):(this.$notify({text:"설비 등록이 실패했습니다.",type:"error"}),this.$emit("confirm",this.isInsert))},async inActInsert(e,t){let a={machine_num:e,inact_start_time:t.buy_date,inact_type:"기타",inact_info:"비가동 설비를 등록하였습니다.",inact_start_emp:t.emp_num};await Re.A.post(`${Ae}/inActs/inActInsert`,a).catch((e=>console.log(e)))},async getMachineInfo(e){let t=await Re.A.get(`${Ae}/machine/machineInfo/${e}`).catch((e=>console.log(e)));this.machineData=t.data,this.machineData.buy_date=this.dateFormat(this.machineData.buy_date,"yyyy-MM-dd hh:mm:ss"),this.machineData.machine_state="run"==this.machineData.machine_state?"사용":"미사용",this.machineData.emp_name=this.$store.state.loginInfo.name,this.selectedCom=this.machineData.com_name},async machineUpdate(){let e="사용"==this.machineData.machine_state?"run":"stop",t={machine_name:this.machineData.machine_name,machine_img:this.machineData.machine_img,machine_state:e,model_num:this.machineData.model_num,client_num:Number(this.machineData.client_num),uph:this.machineData.uph,machine_location:this.machineData.machine_location,buy_date:this.machineData.buy_date,process_code:this.machineData.process_code,emp_num:this.$store.state.loginInfo.emp_num};t.upd=24*Number(this.machineData.uph),"run"==this.machineData.machine_state&&(t.install_date=this.machineData.buy_date);let a=await Re.A.put(`${Ae}/machine/machineUpdate/${this.machineNo}`,t).catch((e=>console.log(e))),l=a.data;for(let o in this.oldPartNum)await this.partDelete(this.oldPartNum[o]);for(let o in this.partDataList)await this.partUpdate(this.partDataList[o].partNum);l.result?(this.$notify({text:"설비 수정이 성공했습니다.",type:"success"}),this.$emit("confirm")):(this.$notify({text:"설비 수정이 실패했습ㅋ니다.",type:"error"}),this.$emit("confirm"))},addClicked(){this.partCnt<4?this.partCnt++:this.$notify({text:"최대 부품 수입니다.",type:"error"})},async delClicked(e){let t=[...this.partDataList];t.splice(e-1,1),t.length=4,t[3]={...this.emptyData},this.partDataList=t,this.partCnt--},partInput(e,t){this.partDataList[e-1]=t},createPartsData(){this.partDataList.length=4;for(let e=0;e<4;e++)this.partDataList[e]={...this.emptyData}},async partInsert(e,t,a){let l=365*e.yearCycle+30*e.monthCycle+e.dayCycle,o={machine_type:t.process_code,part_name:e.partName,replace_cycle:l,client_num:t.client_num,part_location:t.machine_location,buy_date:t.buy_date,replace_date:t.buy_date,machine_num:a},s=await Re.A.post(`${Ae}/parts/partInsert`,o).catch((e=>console.log(e))),n=s.data;return n.part_num>0},async getMachinePartInfo(e){let t=await Re.A.get(`${Ae}/machine/machinePartList/${e}`).catch((e=>console.log(e))),a=[];for(let l in t.data){let e=t.data[l].part_num;a.push(e)}this.oldPartNum=[...a],this.partCnt=t.data.length},async partDelete(e){let t=!0;for(let a in this.partDataList)this.partDataList[a].partNum==e&&(t=!1);t&&await Re.A.delete(`${Ae}/parts/partDelete/${e}`).catch((e=>console.log(e)))},async partUpdate(e){let t=!0;for(let a in this.oldPartNum)this.oldPartNum[a]==e&&(t=!1);if(t){let t={replace_date:this.getToday(),machine_num:this.machineNo};await Re.A.put(`${Ae}/parts/partUpdate/${e}`,t).catch((e=>console.log(e)))}},getToday(){return this.dateFormat(null,"yyyy-MM-dd hh:mm:ss")},dateFormat(e,t){return Ho.dateFormat(e,t)},async uploadImage(e){const t=e.target.files[0],a=new FormData;a.append("machineImg",t),a.append("previousImgPath",this.machineData.machine_img);try{const e=await Re.A.post(`${Ae}/machine/uploadImg`,a,{headers:{"Content-Type":"multipart/form-data"}});console.log("가져온 경로 : ",e.data.filePath),this.machineData.machine_img=e.data.filePath}catch(l){console.error("이미지 업로드 실패:",l)}console.log("저장한 값 : ",this.machineData.machine_img)},selectclient(e){this.selectedCom=e.com_name,this.machineData.client_num=e.client_num,console.log("client : ",e)},openClientModal(e,t){this.isShowModal[e]=!0,this.indexNum=t,console.log(this.indexNum),console.log(`${e} modal open`)},confirmClientModal(e){"client"===e&&(this.searchCom=this.selectedCom),this.closeClientModal(e)},closeClientModal(e){this.isShowModal[e]=!1}},watch:{machineData:{handler(e){let t=!0;for(let a in e)if(""==e[a]&&"machine_img"!=a){t=!1;break}this.fullInput=t},deep:!0}}};const ss=(0,ne.A)(os,[["render",Gl],["__scopeId","data-v-02a086b7"]]);var ns=ss;const is=e=>((0,o.Qi)("data-v-39db22e3"),e=e(),(0,o.jt)(),e),rs=is((()=>(0,o.Lk)("h1",{class:"modal-title fs-5"},"비동기 내역 등록",-1))),cs={class:"container-fluid py-4"},ds={class:"row gx-3 gy-2 align-items-center"},us=is((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:"machineNum"},"설비 번호")],-1))),ps={class:"col"},ms=["readonly"],hs={class:"row gx-3 gy-2 align-items-center"},ys=is((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:"machineName"},"설비 이름")],-1))),fs={class:"col"},gs=["readonly"],ks={class:"row gx-3 gy-2 align-items-center"},bs=is((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:"machineLocation"},"설비 위치")],-1))),Ls={class:"col"},vs=["readonly"],xs={class:"row gx-3 gy-2 align-items-center"},ws=is((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:"StartDate"},"비가동 일시")],-1))),_s={class:"col"},Cs={class:"row"},Ds={class:"col-sm-5"},Ss=is((()=>(0,o.Lk)("div",{class:"col-sm-2 align-self-center text-center"},[(0,o.Lk)("a",null," ~ ")],-1))),Ns={class:"col-sm-5"},Ms={class:"row gx-3 gy-2 align-items-center"},Rs=is((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("a",null,"비가동 사유")],-1))),As={class:"col"},Is=is((()=>(0,o.Lk)("option",{value:"점검"},"점검",-1))),Es=is((()=>(0,o.Lk)("option",{value:"고장"},"고장",-1))),Fs=is((()=>(0,o.Lk)("option",{value:"휴식"},"휴식",-1))),Ps=is((()=>(0,o.Lk)("option",{value:"기타"},"기타",-1))),Os=[Is,Es,Fs,Ps],qs={class:"row gx-3 gy-2 align-items-center"},$s=is((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:"inActInfo"},"비고")],-1))),Ts={class:"col"},js=["disabled"];function Qs(e,t,a,s,n,i){const r=(0,o.g2)("ModalMachine");return(0,o.uX)(),(0,o.Wv)(r,{onClick:(0,l.D$)(i.closeModal,["self"])},{header:(0,o.k6)((()=>[rs])),body:(0,o.k6)((()=>[(0,o.Lk)("div",cs,[(0,o.Lk)("div",(0,o.v6)({class:"inactBody row gy-3"},n.inActData),[(0,o.Lk)("div",ds,[us,(0,o.Lk)("div",ps,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"number",id:"machineNum",name:"machineNum","onUpdate:modelValue":t[0]||(t[0]=e=>n.inActData.machine_num=e),readonly:n.machineCheck},null,8,ms),[[l.Jo,n.inActData.machine_num,void 0,{number:!0}]])])]),(0,o.Lk)("div",hs,[ys,(0,o.Lk)("div",fs,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"machineName",name:"machineName","onUpdate:modelValue":t[1]||(t[1]=e=>n.inActData.machine_name=e),readonly:n.machineCheck},null,8,gs),[[l.Jo,n.inActData.machine_name]])])]),(0,o.Lk)("div",ks,[bs,(0,o.Lk)("div",Ls,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"machineLocation",name:"machineLocation","onUpdate:modelValue":t[2]||(t[2]=e=>n.inActData.machine_location=e),readonly:n.machineCheck},null,8,vs),[[l.Jo,n.inActData.machine_location]])])]),(0,o.Lk)("div",xs,[ws,(0,o.Lk)("div",_s,[(0,o.Lk)("div",Cs,[(0,o.Lk)("div",Ds,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"datetime-local",id:"StartDate",name:"StartDate","onUpdate:modelValue":t[3]||(t[3]=e=>n.inActData.inact_start_time=e)},null,512),[[l.Jo,n.inActData.inact_start_time]])]),Ss,(0,o.Lk)("div",Ns,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"datetime-local",id:"EndDate",name:"EndDate","onUpdate:modelValue":t[4]||(t[4]=e=>n.inActData.inact_end_time=e)},null,512),[[l.Jo,n.inActData.inact_end_time]])])])])]),(0,o.Lk)("div",Ms,[Rs,(0,o.Lk)("div",As,[(0,o.bo)((0,o.Lk)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[5]||(t[5]=e=>n.inActData.inact_type=e)},Os,512),[[l.u1,n.inActData.inact_type]])])]),(0,o.Lk)("div",qs,[$s,(0,o.Lk)("div",Ts,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"inActInfo",name:"inActInfo","onUpdate:modelValue":t[6]||(t[6]=e=>n.inActData.inact_info=e)},null,512),[[l.Jo,n.inActData.inact_info]])])])],16)])])),footer:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"btn btn-secondary w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:t[7]||(t[7]=(...e)=>i.closeModal&&i.closeModal(...e))}," 닫기 "),(0,o.Lk)("button",{class:"btn btn-success w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:t[8]||(t[8]=(...e)=>i.confirm&&i.confirm(...e)),disabled:!n.fullInput}," 등록 ",8,js)])),_:1},8,["onClick"])}var Us={name:"inActAdd",props:{machineNo:Number},components:{ModalMachine:ao},data(){return{inActData:{machine_num:"",machine_name:"",machine_location:"",inact_start_time:"",inact_end_time:"",inact_type:"",inact_info:"",inact_start_emp:this.$store.state.loginInfo.emp_num,inact_end_emp:""},machineCheck:!1,machineData:{},fullInput:!1,isInsert:!1}},updated(){this.inActData.inact_start_time=this.getToday(),this.machineNo>0&&(this.machineCheck=!0,this.getMachinData())},methods:{...(0,oe.PY)(["addLoginInfo"]),async getMachinData(){let e=await Re.A.get(`${Ae}/machine/machineInfo/${this.machineNo}`).catch((e=>console.log(e)));this.machineData=e.data,this.inActData.machine_num=this.machineNo,this.inActData.machine_name=this.machineData.machine_name,this.inActData.machine_location=this.machineData.machine_location},closeModal(){this.$emit("closeModal"),this.deleteVal()},confirm(){this.inActData.inact_start_time=this.dateFormat(this.inActData.inact_start_time,"yyyy-MM-dd hh:mm:ss"),""!=this.inActData.inact_end_time&&(this.inActData.inact_end_time=this.dateFormat(this.inActData.inact_end_time,"yyyy-MM-dd hh:mm:ss")),this.inActInsert(),this.deleteVal()},deleteVal(){let e=this.inActData.inact_start_emp,t=this.inActData.inact_end_emp;for(let a in this.inActData)this.inActData[a]="";this.inActData.inact_start_emp=e,this.inActData.inact_end_emp=t},async inActInsert(){let e={machine_num:this.inActData.machine_num,inact_start_time:this.inActData.inact_start_time,inact_type:this.inActData.inact_type,inact_info:this.inActData.inact_info,inact_start_emp:this.inActData.inact_start_emp};""!=this.inActData.inact_end_time&&(e.inact_end_time=this.inActData.inact_end_time,e.inact_end_emp=this.inActData.inact_start_emp);let t=await Re.A.post(`${Ae}/inActs/inActInsert`,e).catch((e=>console.log(e))),a=t.data;a.inact_num>0?(this.$notify({text:"비가동 내용 등록이 성공했습니다.",type:"success"}),this.inActUpdate()):(this.$notify({text:"비가동 내용 등록이 실패했습니다.",type:"error"}),this.$emit("confirm",this.isInsert))},async inActUpdate(){let e={machine_state:"stop"},t=await Re.A.put(`${Ae}/machine/machineUpdate/${this.machineNo}`,e).catch((e=>console.log(e))),a=t.data;a.result?(console.log("설비 정지"),this.isInsert=!0,this.$emit("confirm",this.isInsert)):console.log("정지 실패")},getToday(){return this.dateFormat(null,"yyyy-MM-dd hh:mm:ss")},dateFormat(e,t){return Ho.dateFormat(e,t)}},watch:{inActData:{handler(e){let t=!0;console.log(e);for(let a in e)switch(a){case"inact_end_time":break;case"inact_end_emp":break;case"inact_info":"기타"==e["inact_type"]&&""==e[a]&&(t=!1);break;default:""==e[a]&&(t=!1)}this.fullInput=t},deep:!0}}};const Js=(0,ne.A)(Us,[["render",Qs],["__scopeId","data-v-39db22e3"]]);var zs=Js;const Bs={role:"presentation",class:"ag-overlay-loading-center",style:{"background-color":"#b4bebe"}},Vs=(0,o.Lk)("i",{class:"far fa-frown","aria-live":"polite","aria-atomic":"true"}," 데이터가 없습니다!",-1),Ws=[Vs];function Gs(e,t){return(0,o.uX)(),(0,o.CE)("div",Bs,Ws)}const Xs={},Ks=(0,ne.A)(Xs,[["render",Gs]]);var Hs=Ks,Ys={name:"machineList",setup(){const e=(0,lo.IJ)([]),t=(0,lo.IJ)([]),a=(0,lo.IJ)([{headerName:"번호",field:"machine_num",cellStyle:{textAlign:"center"},flex:2},{headerName:"공정이름",field:"process_name",flex:4},{headerName:"모델번호",field:"model_num",flex:4},{headerName:"설비분류",field:"machine_type",flex:4},{headerName:"설비이름",field:"machine_name",flex:4},{headerName:"설비위치",field:"machine_location",flex:3},{headerName:"작동상태",field:"machine_state",cellStyle:{textAlign:"center"},flex:3,cellClass:e=>"작동중"===e.value?"green":"작동정지"===e.value?"red":""}]),l=async()=>{let a=await Re.A.get(`${Ae}/machine/machineList`).catch((e=>console.log(e)));e.value=a.data,t.value=[...a.data];for(let e in t.value)t.value[e].machine_state="run"==t.value[e].machine_state?"작동중":"작동정지"};return{machineList:e,rowData:t,columnDefs:a,getMachineList:l}},components:{MachineManage:ns,InActAdd:zs,CustomNoRowsOverlay:Hs},data(){return{checkJob:"설비"==this.$store.state.loginInfo.job||"관리자"==this.$store.state.loginInfo.position,isShowMachineAdd:!1,isShowInActAdd:!1,theme:ko,inActClick:!1,machineNo:0,statusList:["전체","작동중","작동정지"],pickedStatus:"",machineType:["세척기기","음료제작기기","포장기기"],pickedType:[],searchType:["전체검색","공정이름","모델번호","설비이름"],selectSearchType:"전체검색",searchData:"",filters:[],noRowsOverlayComponent:"CustomNoRowsOverlay"}},beforeMount(){this.getMachineList()},methods:{...(0,oe.PY)(["addLoginInfo"]),onReady(){const e=document.querySelector(".ag-paging-panel");if(e){const t=document.createElement("div");t.style.display="flex",t.style.alignItems="center",t.style.gap="5px";const a=document.createElement("button");a.textContent="설비등록",a.style.marginRight="10px",a.style.cursor="pointer",a.style.color="white",a.style.border="none",a.style.padding="5px 10px",a.style.borderRadius="4px",a.style.position="absolute",a.style.left="10px",a.className="btn-success",this.checkJob||a.setAttribute("disabled",!0),a.addEventListener("click",(()=>{this.machineAddOpen()})),t.appendChild(a),e.insertBefore(t,e.firstChild)}},machineAddOpen(){this.isShowMachineAdd=!this.isShowMachineAdd,this.getMachineList()},confirmMachineAdd(e){this.closeMachineAdd(),1==e&&this.getMachineList()},closeMachineAdd(){this.isShowMachineAdd=!1},inActAddOpen(){this.isShowInActAdd=!this.isShowInActAdd},confirmInActAdd(e){this.closeInActAdd(),1==e&&this.searchMachines()},closeInActAdd(){this.isShowInActAdd=!1},cellClickFnc(e){switch(e.value){case"작동중":this.checkJob&&(this.machineNo=e.data.machine_num,this.inActAddOpen());break;case"작동정지":this.checkJob&&this.reStart(e.data.machine_num);break;default:this.$router.push({name:"machineInfo",params:{mno:e.data.machine_num}})}},async reStart(e){let t={inact_end_time:this.getToday(),inact_end_emp:this.$store.state.loginInfo.emp_num},a=await Re.A.put(`${Ae}/inActs/lastInAct/${e}`,t).catch((e=>console.log(e))),l=a.data;l.result?(console.log("비가동 내역 수정"),this.runMachine(e)):console.log("비가동 내역 수정 실패")},async runMachine(e){let t={machine_state:"run"},a=await Re.A.put(`${Ae}/machine/machineUpdate/${e}`,t).catch((e=>console.log(e))),l=a.data;l.result?(this.searchMachines(),console.log("설비 작동 시작")):console.log("설비 작동 실패")},resetSearch(){this.pickedStatus="",this.pickedType=[],this.selectSearchType="전체검색",this.searchData="",this.filters=[],this.getMachineList()},updateFilter(){const e={"세척기기":"p1","음료제작기기":"p2","포장기기":"p3"},t=this.pickedType.map((t=>e[t]));switch(this.filters={pickedStatus:this.pickedStatus,pickedType:t,selectSearchType:this.selectSearchType,searchData:this.searchData},this.filters.pickedStatus){case"전체":this.filters.pickedStatus="";break;case"작동중":this.filters.pickedStatus="run";break;case"작동정지":this.filters.pickedStatus="stop";break}switch(this.filters.selectSearchType){case"전체검색":this.filters.selectSearchType="all";break;case"공정이름":this.filters.selectSearchType="process_name";break;case"모델번호":this.filters.selectSearchType="model_num";break;case"설비이름":this.filters.selectSearchType="machine_name";break}this.searchMachines()},async searchMachines(){let e={machine_state:this.filters.pickedStatus,process_code:this.filters.pickedType,selectSearchType:this.filters.selectSearchType,searchData:this.filters.searchData},t=await Re.A.put(`${Ae}/machine/search`,e).catch((e=>console.log(e)));this.machineList=t.data,this.rowData=t.data;for(let a in this.rowData)this.rowData[a].machine_state="run"==this.rowData[a].machine_state?"작동중":"작동정지"},enterkey(e){e.preventDefault(),this.updateFilter()},getToday(){return this.dateFormat(null,"yyyy-MM-dd hh:mm:ss")},dateFormat(e,t){return Ho.dateFormat(e,t)}}};const Zs=(0,ne.A)(Ys,[["render",tl],["__scopeId","data-v-3ec487f4"]]);var en=Zs;const tn=e=>((0,o.Qi)("data-v-3f6645ab"),e=e(),(0,o.jt)(),e),an={class:"container-fluid py-4"},ln={class:"row align-items-center",style:{"justify-content":"space-between"}},on={class:"col-auto mname"},sn={class:"col-auto"},nn={class:"row"},rn={class:"col"},cn=["disabled"],dn={class:"col"},un=["disabled"],pn={class:"row align-items-center machineInfo"},mn={class:"col-3 mimg"},hn=["src"],yn={key:1,class:"noImg"},fn=tn((()=>(0,o.Lk)("a",null,"이미지 파일이 없습니다",-1))),gn=[fn],kn={class:"col-9 mdata"},bn={class:"row"},Ln={class:"col"},vn=tn((()=>(0,o.Lk)("div",{class:"mdata-header"}," 모델 번호 ",-1))),xn={class:"mdata-body"},wn={class:"col"},_n=tn((()=>(0,o.Lk)("div",{class:"mdata-header"}," 설비 분류 ",-1))),Cn={class:"mdata-body"},Dn={key:0,class:"col"},Sn=tn((()=>(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"mdata-header"}," 작동 상태 "),(0,o.Lk)("div",{class:"mdata-body"}," 작동중 ")],-1))),Nn=[Sn],Mn={key:1,class:"col"},Rn=tn((()=>(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"mdata-header"}," 작동 상태 "),(0,o.Lk)("div",{class:"mdata-body"}," 작동정지 ")],-1))),An=[Rn],In={class:"row"},En={class:"col"},Fn=tn((()=>(0,o.Lk)("div",{class:"mdata-header"}," 제작 업체 ",-1))),Pn={class:"mdata-body"},On={class:"col"},qn=tn((()=>(0,o.Lk)("div",{class:"mdata-header"}," 등록자 ",-1))),$n={class:"mdata-body"},Tn={class:"col"},jn=tn((()=>(0,o.Lk)("div",{class:"mdata-header"}," 구매 일자 ",-1))),Qn={class:"mdata-body"},Un={class:"row"},Jn={class:"col"},zn=tn((()=>(0,o.Lk)("div",{class:"mdata-header"}," UPH ",-1))),Bn={class:"mdata-body"},Vn={key:0,class:"col"},Wn=tn((()=>(0,o.Lk)("div",{class:"mdata-header"}," 하루 평균 생산량 ",-1))),Gn={class:"mdata-body"},Xn={key:1,class:"col"},Kn=tn((()=>(0,o.Lk)("div",{class:"mdata-header"}," 하루 평균 생산량 ",-1))),Hn={class:"mdata-body"},Yn={key:2,class:"col"},Zn=tn((()=>(0,o.Lk)("div",{class:"mdata-header"}," 불량률 ",-1))),ei={class:"mdata-body"},ti={key:3,class:"col"},ai=tn((()=>(0,o.Lk)("div",null,[(0,o.Lk)("div",{class:"mdata-header"}," 불량률 : "),(0,o.Lk)("div",{class:"mdata-body"},(0,d.v_)(0)+"% ")],-1))),li=[ai],oi={class:"row pinfo"},si={key:0,class:"col"},ni={key:1,class:"col"},ii={class:"row pinfo"},ri={key:0,class:"col"},ci={key:1,class:"col"};function di(e,t,a,l,s,n){const i=(0,o.g2)("MachineManage");return(0,o.uX)(),(0,o.CE)("div",an,[(0,o.Lk)("div",ln,[(0,o.Lk)("div",on,[(0,o.Lk)("h3",null,(0,d.v_)(s.machineData.machine_name)+"("+(0,d.v_)(s.machineData.machine_location)+")",1)]),(0,o.Lk)("div",sn,[(0,o.Lk)("div",nn,[(0,o.Lk)("div",rn,[(0,o.Lk)("button",{class:"btn btn-success w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:t[0]||(t[0]=(...e)=>n.machineUpdate&&n.machineUpdate(...e)),style:{margin:"5px"},disabled:!s.checkJob}," 설비 수정 ",8,cn)]),(0,o.Lk)("div",dn,[(0,o.Lk)("button",{class:"btn btn-danger w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:t[1]||(t[1]=(...e)=>n.machineDelete&&n.machineDelete(...e)),style:{margin:"5px"},disabled:!s.checkJob}," 설비 제거 ",8,un)])])])]),(0,o.bF)(i,{isShowModal:s.isShowModal,machineNo:s.machineNo,isUpdate:!0,onCloseModal:n.closeModal,onConfirm:n.confirmModal},null,8,["isShowModal","machineNo","onCloseModal","onConfirm"]),(0,o.Lk)("div",pn,[(0,o.Lk)("div",mn,[s.machineData.machine_img?((0,o.uX)(),(0,o.CE)("img",{key:0,src:`${s.localUrl}${s.machineData.machine_img}`},null,8,hn)):((0,o.uX)(),(0,o.CE)("div",yn,gn))]),(0,o.Lk)("div",kn,[(0,o.Lk)("div",bn,[(0,o.Lk)("div",Ln,[(0,o.Lk)("div",null,[vn,(0,o.Lk)("div",xn,(0,d.v_)(s.machineData.model_num),1)])]),(0,o.Lk)("div",wn,[(0,o.Lk)("div",null,[_n,(0,o.Lk)("div",Cn,(0,d.v_)(s.machineData.machine_type),1)])]),"사용"==s.machineData.machine_state?((0,o.uX)(),(0,o.CE)("div",Dn,Nn)):((0,o.uX)(),(0,o.CE)("div",Mn,An))]),(0,o.Lk)("div",In,[(0,o.Lk)("div",En,[(0,o.Lk)("div",null,[Fn,(0,o.Lk)("div",Pn,(0,d.v_)(s.machineData.com_name),1)])]),(0,o.Lk)("div",On,[(0,o.Lk)("div",null,[qn,(0,o.Lk)("div",$n,(0,d.v_)(s.machineData.name),1)])]),(0,o.Lk)("div",Tn,[(0,o.Lk)("div",null,[jn,(0,o.Lk)("div",Qn,(0,d.v_)(s.machineData.buy_date),1)])])]),(0,o.Lk)("div",Un,[(0,o.Lk)("div",Jn,[(0,o.Lk)("div",null,[zn,(0,o.Lk)("div",Bn,(0,d.v_)(s.machineData.uph+this.unit),1)])]),null!=s.machinePrdData.success_sum?((0,o.uX)(),(0,o.CE)("div",Vn,[(0,o.Lk)("div",null,[Wn,(0,o.Lk)("div",Gn,(0,d.v_)(s.machinePrdData.hour_sum>0?(s.machinePrdData.success_sum/s.machinePrdData.hour_sum*24).toFixed(3)+this.unit:(24*s.machinePrdData.success_sum).toFixed(3)+this.unit),1)])])):((0,o.uX)(),(0,o.CE)("div",Xn,[(0,o.Lk)("div",null,[Kn,(0,o.Lk)("div",Hn,(0,d.v_)(s.machineData.upd+this.unit),1)])])),null!=s.machinePrdData.success_sum?((0,o.uX)(),(0,o.CE)("div",Yn,[(0,o.Lk)("div",null,[Zn,(0,o.Lk)("div",ei,(0,d.v_)((s.machinePrdData.fail_sum/(Number(s.machinePrdData.success_sum)+Number(s.machinePrdData.fail_sum))*100).toFixed(3))+"% ",1)])])):((0,o.uX)(),(0,o.CE)("div",ti,li))])])]),(0,o.Lk)("div",oi,[s.machinePartList.length>=1?((0,o.uX)(),(0,o.CE)("div",si,[(0,o.Lk)("div",null,[(0,o.eW)("부품명 : "),(0,o.Lk)("a",null,(0,d.v_)(s.machinePartList[0].part_name),1)]),(0,o.Lk)("div",null,[(0,o.eW)("설치 일자 : "),(0,o.Lk)("a",null,(0,d.v_)(n.dateFormat(s.machinePartList[0].replace_date,"yyyy-MM-dd")),1)]),(0,o.Lk)("div",null,[(0,o.eW)("다음 교체일 : "),(0,o.Lk)("a",null,(0,d.v_)(n.replaceDate(s.machinePartList[0].replace_date,s.machinePartList[0].replace_cycle)),1)])])):(0,o.Q3)("",!0),s.machinePartList.length>=2?((0,o.uX)(),(0,o.CE)("div",ni,[(0,o.Lk)("div",null,[(0,o.eW)("부품명 : "),(0,o.Lk)("a",null,(0,d.v_)(s.machinePartList[1].part_name),1)]),(0,o.Lk)("div",null,[(0,o.eW)("설치 일자 : "),(0,o.Lk)("a",null,(0,d.v_)(n.dateFormat(s.machinePartList[1].replace_date,"yyyy-MM-dd")),1)]),(0,o.Lk)("div",null,[(0,o.eW)("다음 교체일 : "),(0,o.Lk)("a",null,(0,d.v_)(n.replaceDate(s.machinePartList[1].replace_date,s.machinePartList[1].replace_cycle)),1)])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ii,[s.machinePartList.length>=3?((0,o.uX)(),(0,o.CE)("div",ri,[(0,o.Lk)("div",null,[(0,o.eW)("부품명 : "),(0,o.Lk)("a",null,(0,d.v_)(s.machinePartList[2].part_name),1)]),(0,o.Lk)("div",null,[(0,o.eW)("설치 일자 : "),(0,o.Lk)("a",null,(0,d.v_)(n.dateFormat(s.machinePartList[2].replace_date,"yyyy-MM-dd")),1)]),(0,o.Lk)("div",null,[(0,o.eW)("다음 교체일 : "),(0,o.Lk)("a",null,(0,d.v_)(n.replaceDate(s.machinePartList[2].replace_date,s.machinePartList[2].replace_cycle)),1)])])):(0,o.Q3)("",!0),s.machinePartList.length>=4?((0,o.uX)(),(0,o.CE)("div",ci,[(0,o.Lk)("div",null,[(0,o.eW)("부품명 : "),(0,o.Lk)("a",null,(0,d.v_)(s.machinePartList[3].part_name),1)]),(0,o.Lk)("div",null,[(0,o.eW)("설치 일자 : "),(0,o.Lk)("a",null,(0,d.v_)(n.dateFormat(s.machinePartList[3].replace_date,"yyyy-MM-dd")),1)]),(0,o.Lk)("div",null,[(0,o.eW)("다음 교체일 : "),(0,o.Lk)("a",null,(0,d.v_)(n.replaceDate(s.machinePartList[3].replace_date,s.machinePartList[3].replace_cycle)),1)])])):(0,o.Q3)("",!0)])])}var ui={name:"machineInfo",components:{MachineManage:ns},data(){return{localUrl:Ie,checkJob:"설비"==this.$store.state.loginInfo.job||"관리자"==this.$store.state.loginInfo.position,machineData:{},machinePrdData:{},machinePartList:[],machineNo:0,isShowModal:!1,selectNo:null,unit:""}},beforeMount(){this.selectNo=this.$route.params.mno,this.getMachineInfo(this.selectNo),this.getMachinePrdInfo(this.selectNo),this.getMachinePartInfo(this.selectNo),console.log(this.$store.state.loginInfo)},methods:{...(0,oe.PY)(["addLoginInfo"]),async getMachineInfo(e){let t=await Re.A.get(`${Ae}/machine/machineInfo/${e}`).catch((e=>console.log(e)));this.machineData=t.data,this.allFormat(this.machineData),this.machineNo=this.machineData.machine_num,this.machineData.machine_state="run"==this.machineData.machine_state?"사용":"미사용"},async getMachinePrdInfo(e){let t=await Re.A.get(`${Ae}/machine/machinePrdInfo/${e}`).catch((e=>console.log(e)));this.machinePrdData=t.data},async getMachinePartInfo(e){let t=await Re.A.get(`${Ae}/machine/machinePartList/${e}`).catch((e=>console.log(e))),a=[];for(let l in t.data){let e=t.data[l].part_num,o=await this.getPartInfo(e);a.push(o)}this.machinePartList=[...a]},async getPartInfo(e){let t=await Re.A.get(`${Ae}/parts/partInfo/${e}`).catch((e=>console.log(e)));return t.data},machineUpdate(){this.isShowModal=!this.isShowModal},confirmModal(){let e=this.$route.params.mno;this.getMachineInfo(e),this.getMachinePrdInfo(e),this.getMachinePartInfo(e),this.closeModal()},closeModal(){this.isShowModal=!1},async machineDelete(){let e=await Re.A.delete(`${Ae}/machine/machineDelete/${this.selectNo}`).catch((e=>console.log(e))),t=e.data;"success"==t.result?(this.$notify({text:"설비 삭제가 성공했습니다.",type:"success"}),this.$router.go(-1)):this.$notify({text:"설비 삭제가 실패했습니다.",type:"error"})},allFormat(e){e.buy_date=this.dateFormat(e.buy_date,"yyyy-MM-dd"),"음료제작기기"==e.machine_type?this.unit=" ml":this.unit=" 개"},dateFormat(e,t){return Ho.dateFormat(e,t)},replaceDate(e,t){let a=new Date(e);return a.setDate(a.getDate()+t),Ho.dateFormat(a,"yyyy-MM-dd")}}};const pi=(0,ne.A)(ui,[["render",di],["__scopeId","data-v-3f6645ab"]]);var mi=pi;const hi=e=>((0,o.Qi)("data-v-538891ca"),e=e(),(0,o.jt)(),e),yi={key:0,class:"modal-title fs-5"},fi={key:1,class:"modal-title fs-5"},gi={class:"row gy-2"},ki={class:"row gx-3 gy-2 align-items-center"},bi=hi((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{class:""},"설비선택")],-1))),Li={class:"col-9"},vi=["value"],xi={class:"row gx-3 gy-2 align-items-center"},wi=hi((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:""},"부품이름")],-1))),_i={class:"col-9"},Ci={class:"row gx-3 gy-2 align-items-center"},Di=hi((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:""},"교체주기")],-1))),Si={class:"col-9"},Ni={class:"row gx-3 gy-2 align-items-center"},Mi=hi((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:""},"거래처")],-1))),Ri={class:"col-9"},Ai={class:"row gx-3 gy-2 align-items-center"},Ii=hi((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:""},"부품위치")],-1))),Ei={class:"col-9"},Fi={class:"row gx-3 gy-2 align-items-center"},Pi=hi((()=>(0,o.Lk)("div",{class:"col-3"},[(0,o.Lk)("label",{for:""},"구매날짜")],-1))),Oi={class:"col-9"},qi=["disabled"],$i={key:0},Ti={key:1};var ji={__name:"PartAdd",props:{partNo:Number,isUpdate:Boolean},emits:["closeModal","confirm"],setup(e,{emit:t}){const a=e,s=(0,lo.KR)(""),n=(0,lo.KR)(""),i=(0,lo.KR)({client:!1});function r(e){n.value=e.com_name,y.value.client_num=e.client_num}function c(e,t){i.value[e]=!0,this.indexNum=t}function u(e){"client"===e&&(s.value=n.value),this.closeClientModal(e)}function p(e){this.isShowModal[e]=!1}const m=(0,oe.Pj)(),h=(0,lo.KR)("설비"==m.state.loginInfo.job||"관리자"==m.state.loginInfo.position);(0,o.$u)((()=>{a.partNo>0&&v()}));const y=(0,lo.KR)({machine_type:"",part_name:"",replace_cycle:"",client_num:"",part_location:"",buy_date:""}),f=(0,lo.KR)(!0),g=["세척기기","음료제작기기","포장기기"],k=(0,lo.KR)([]),{notify:b}=(0,Te.hN)(),L=async()=>{for(let t in k.value)"세척기기"==k.value[t]?y.value.machine_type+="p1":"음료제작기기"==k.value[t]?y.value.machine_type+="p2":"포장기기"==k.value[t]&&(y.value.machine_type+="p3"),Number(t)+1<k.value.length&&(y.value.machine_type+=" / ");let e={machine_type:y.value.machine_type,part_name:y.value.part_name,replace_cycle:y.value.replace_cycle,client_num:y.value.client_num,part_location:y.value.part_location,buy_date:Ho.dateFormat(y.value.buy_date,"yyyy-MM-dd")},a=await Re.A.post(`${Ae}/parts/partInsert`,e).catch((e=>console.log(e))),l=a.data;l.part_num>0?(b({text:"부품 등록이 성공했습니다.",type:"success"}),t("confirm")):(b({text:"부품 등록이 실패했습니다.",type:"error"}),t("confirm"))},v=async()=>{let e=await Re.A.get(`${Ae}/parts/partInfo/${a.partNo}`).catch((e=>console.log(e)));y.value=e.data,y.value.machine_type=""},x=async()=>{for(let t in k.value)"세척기기"==k.value[t]?y.value.machine_type+="p1":"음료제작기기"==k.value[t]?y.value.machine_type+="p2":"포장기기"==k.value[t]&&(y.value.machine_type+="p3"),Number(t)+1<k.value.length&&(y.value.machine_type+=" / ");let e={machine_type:y.value.machine_type,part_name:y.value.part_name,replace_cycle:y.value.replace_cycle,client_num:y.value.client_num,part_location:y.value.part_location,buy_date:Ho.dateFormat(y.value.buy_date,"yyyy-MM-dd")},l=await Re.A.put(`${Ae}/parts/partUpdate/${a.partNo}`,e).catch((e=>console.log(e))),o=l.data;o.result?(b({text:"부품 수정이 성공했습니다.",type:"success"}),t("confirm")):(b({text:"부품 수정이 실패했습니다.",type:"error"}),t("confirm"))};function w(){t("closeModal"),C()}function _(){a.isUpdate?x():L(),C()}function C(){for(let e in y.value)y.value[e]=""}return(t,s)=>((0,o.uX)(),(0,o.Wv)(ao,{onClick:(0,l.D$)(w,["self"])},{header:(0,o.k6)((()=>[e.isUpdate?((0,o.uX)(),(0,o.CE)("h1",yi,"부품 수정")):((0,o.uX)(),(0,o.CE)("h1",fi,"부품 등록"))])),body:(0,o.k6)((()=>[(0,o.Lk)("div",(0,o.v6)({class:"partInfo container-fluid py-4"},y.value),[(0,o.Lk)("div",gi,[(0,o.Lk)("div",ki,[bi,(0,o.Lk)("div",Li,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(g,(e=>(0,o.Lk)("label",{class:"me-3",key:e},[(0,o.eW)((0,d.v_)(e)+" ",1),(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",value:e,type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>k.value=e)},null,8,vi),[[l.lH,k.value]])]))),64))])]),(0,o.Lk)("div",xi,[wi,(0,o.Lk)("div",_i,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"",name:"","onUpdate:modelValue":s[1]||(s[1]=e=>y.value.part_name=e)},null,512),[[l.Jo,y.value.part_name]])])]),(0,o.Lk)("div",Ci,[Di,(0,o.Lk)("div",Si,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"",name:"","onUpdate:modelValue":s[2]||(s[2]=e=>y.value.replace_cycle=e)},null,512),[[l.Jo,y.value.replace_cycle]])])]),(0,o.Lk)("div",Ni,[Mi,(0,o.Lk)("div",Ri,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"",name:"","onUpdate:modelValue":s[3]||(s[3]=e=>y.value.client_num=e),onClick:s[4]||(s[4]=e=>c("client")),placeholder:"🔍",readonly:""},null,512),[[l.Jo,y.value.client_num]])]),(0,o.bF)(mo,{isShowModal:i.value.client,modalTitle:"거래처선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:s[5]||(s[5]=e=>p("client")),onConfirm:s[6]||(s[6]=e=>u("client"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(ls,{onSelectclient:r},null,512),[[l.aG,i.value.client]])])),_:1},8,["isShowModal"])]),(0,o.Lk)("div",Ai,[Ii,(0,o.Lk)("div",Ei,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",id:"",name:"","onUpdate:modelValue":s[7]||(s[7]=e=>y.value.part_location=e)},null,512),[[l.Jo,y.value.part_location]])])]),(0,o.Lk)("div",Fi,[Pi,(0,o.Lk)("div",Oi,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"date",id:"",name:"","onUpdate:modelValue":s[8]||(s[8]=e=>y.value.buy_date=e)},null,512),[[l.Jo,y.value.buy_date]])])])])],16)])),footer:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"btn btn-secondary w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:w}," 닫기 "),(0,o.Lk)("button",{class:"btn btn-success w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:_,disabled:!f.value||!h.value},[a.isUpdate?((0,o.uX)(),(0,o.CE)("a",$i,"수정")):((0,o.uX)(),(0,o.CE)("a",Ti,"등록"))],8,qi)])),_:1},8,["onClick"]))}};const Qi=(0,ne.A)(ji,[["__scopeId","data-v-538891ca"]]);var Ui=Qi;const Ji={class:"partList container-fluid py-4"},zi=(0,o.Lk)("h3",null,"부품 관리 페이지",-1),Bi={class:"grid-container"};var Vi={__name:"PartList",setup(e){const t=(0,oe.Pj)(),a=(0,lo.KR)("설비"==t.state.loginInfo.job||"관리자"==t.state.loginInfo.position),l=(0,lo.IJ)([]),s=(0,lo.IJ)([{headerCheckboxSelection:!0,checkboxSelection:!0,headerName:"",width:75},{headerName:"번호",field:"part_num",cellStyle:{textAlign:"center"},flex:2},{headerName:"부품이름",field:"part_name",flex:3},{headerName:"설비분류",field:"machine_type",flex:5},{headerName:"거래처",field:"client_num",flex:3},{headerName:"교체주기",field:"replace_cycle",cellStyle:{textAlign:"right"},flex:3},{headerName:"구매일자",field:"buy_date",cellStyle:{textAlign:"center"},flex:5}]);let n=(0,lo.KR)(!1),i=(0,lo.KR)(0),r=(0,lo.KR)(!1);const c=async()=>{let e=await Re.A.get(`${Ae}/parts/partList`).catch((e=>console.log(e)));l.value=e.data;for(let t in l.value)l.value[t].buy_date=Ho.dateFormat(l.value[t].buy_date,"yyyy-MM-dd")},d=async()=>{const e=u.value.getSelectedRows();if(e.length>0)for(let t=0;t<e.length;t++){let a=await Re.A.delete(`${Ae}/parts/partDelete/${e[t].part_num}`).catch((e=>console.log(e))),l=a.data;"fail"==l.result&&console.log("삭제 실패")}c()},u=(0,lo.KR)(),p=e=>{u.value=e.api;const t=document.querySelector(".ag-paging-panel");if(t){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const l=document.createElement("button");l.textContent="선택부품삭제",l.style.marginRight="10px",l.style.cursor="pointer",l.style.color="white",l.style.border="none",l.style.padding="5px 10px",l.style.borderRadius="4px",l.style.position="absolute",l.style.left="10px",l.className="btn-danger";const o=document.createElement("button");o.textContent="부품등록",o.style.marginRight="10px",o.style.cursor="pointer",o.style.color="white",o.style.border="none",o.style.padding="5px 10px",o.style.borderRadius="4px",o.style.position="absolute",o.style.left="125px",o.className="btn-success",a.value||(l.setAttribute("disabled",!0),o.setAttribute("disabled",!0)),l.addEventListener("click",(()=>{console.log("delbtn clicked"),d()})),o.addEventListener("click",(()=>{console.log("addbtn clicked"),m()})),e.appendChild(l),e.appendChild(o),t.insertBefore(e,t.firstChild)}},m=()=>{n.value=!n.value},h=()=>{y(),c()},y=()=>{n.value=!1,f(),u.value.deselectAll()},f=()=>{i.value=0,r.value=!1},g=e=>{i.value=e.data.part_num,r.value=!0,m()};return(0,o.KC)((()=>{c()})),(e,t)=>{const a=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",Ji,[zi,(0,o.Lk)("div",Bi,[(0,o.bF)(a,{rowData:l.value,columnDefs:s.value,theme:(0,lo.R1)(ko),onGridReady:p,rowHeight:50,style:{height:"493px"},pagination:!0,paginationPageSize:8,paginationPageSizeSelector:[8,16,40,80],rowSelection:"multiple",onRowClicked:g},null,8,["rowData","columnDefs","theme"])]),(0,o.bF)(Ui,{isShowModal:(0,lo.R1)(n),partNo:(0,lo.R1)(i),isUpdate:(0,lo.R1)(r),onCloseModal:y,onConfirm:h},null,8,["isShowModal","partNo","isUpdate"])])}}};const Wi=Vi;var Gi=Wi;const Xi=e=>((0,o.Qi)("data-v-a80a2996"),e=e(),(0,o.jt)(),e),Ki={class:"container-fluid py-4"},Hi=Xi((()=>(0,o.Lk)("h3",null,"비가동 설비 현황",-1))),Yi={class:"grid-container work"},Zi={style:{display:"none"}},er=Xi((()=>(0,o.Lk)("div",{style:{margin:"40px 0"}},null,-1))),tr={class:"inActHeader row"},ar=Xi((()=>(0,o.Lk)("div",{class:"col"},[(0,o.Lk)("h3",null,"비가동 설비 내역")],-1))),lr={class:"col-auto"},or={class:"row align-items-center"},sr={class:"col-auto"},nr={class:"row",style:{"margin-top":"6px"}},ir={class:"col-auto"},rr=["value"],cr={class:"col-auto gx-5"},dr={class:"row"},ur={class:"col searchDate"},pr=Xi((()=>(0,o.Lk)("div",{class:"col-1 align-self-center text-center"},"~",-1))),mr={class:"col searchDate"},hr={class:"grid-container"},yr={style:{display:"none"}};function fr(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)("div",Ki,[Hi,(0,o.Lk)("div",Yi,[(0,o.bF)(r,{rowData:s.machineRow,columnDefs:s.machineCol,theme:n.theme,onGridReady:e.onReady,style:{height:"303px"},onCellClicked:i.cellClickFnc,noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked","noRowsOverlayComponent"])]),(0,o.Lk)("div",Zi,[(0,o.bF)(c)]),er,(0,o.Lk)("div",tr,[ar,(0,o.Lk)("div",lr,[(0,o.Lk)("div",or,[(0,o.Lk)("div",sr,[(0,o.Lk)("div",nr,[(0,o.Lk)("div",ir,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.machineType,(e=>((0,o.uX)(),(0,o.CE)("label",{class:"me-3",key:e},[(0,o.eW)((0,d.v_)(e)+" ",1),(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",type:"checkbox",value:e,"onUpdate:modelValue":t[0]||(t[0]=e=>n.pickedType=e)},null,8,rr),[[l.lH,n.pickedType]])])))),128))])])])])]),(0,o.Lk)("div",cr,[(0,o.Lk)("div",dr,[(0,o.Lk)("div",ur,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2","onUpdate:modelValue":t[1]||(t[1]=e=>n.startDate=e)},null,512),[[l.Jo,n.startDate]])]),pr,(0,o.Lk)("div",mr,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2","onUpdate:modelValue":t[2]||(t[2]=e=>n.endDate=e)},null,512),[[l.Jo,n.endDate]])])])])]),(0,o.Lk)("div",hr,[(0,o.bF)(r,{rowData:s.inActRow,columnDefs:s.inActCol,theme:n.theme,onGridReady:i.inActOnReady,style:{height:"303px"},pagination:!0,paginationPageSize:5,paginationPageSizeSelector:[5,10,25,50],quickFilterText:n.inActSearchData,noRowsOverlayComponent:n.noRowsOverlayComponent,tooltipShowDelay:500,tooltipHideDelay:3e3},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent"])]),(0,o.Lk)("div",yr,[(0,o.bF)(c)])])}var gr={name:"inActList",setup(){const e=(0,lo.IJ)([]),t=(0,lo.IJ)([{headerName:"번호",field:"machine_num",cellStyle:{textAlign:"center"},flex:2},{headerName:"공정이름",field:"process_name",flex:4},{headerName:"모델번호",field:"model_num",flex:4},{headerName:"설비분류",field:"machine_type",flex:4},{headerName:"설비이름",field:"machine_name",flex:4},{headerName:"설비위치",field:"machine_location",flex:3},{headerName:"작동상태",field:"machine_state",cellStyle:{textAlign:"center"},flex:3,cellClass:()=>"red"}]),a=(0,lo.IJ)([]),l=(0,lo.IJ)([{headerName:"번호",field:"inact_num",cellStyle:{textAlign:"center"},flex:2},{headerName:"모델번호",field:"model_num",flex:3},{headerName:"설비분류",field:"machine_type",flex:4},{headerName:"설비이름",field:"machine_name",flex:4},{headerName:"사유",field:"inact_type",cellStyle:{textAlign:"center"},flex:2,tooltipValueGetter:e=>e.data.inact_info?`${e.data.inact_info}`:""},{headerName:"시작일시",field:"inact_start_time",cellStyle:{textAlign:"center"},flex:4,tooltipField:"start_name"},{headerName:"종료일시",field:"inact_end_time",cellStyle:{textAlign:"center"},flex:4,tooltipField:"end_name"}]),o=(e,t)=>Ho.dateFormat(e,t),s=async()=>{let t=await Re.A.get(`${Ae}/inActs/inActMachines`).catch((e=>console.log(e)));e.value=t.data;for(let a in e.value)e.value[a].machine_state="작동정지"},n=async()=>{let e=await Re.A.get(`${Ae}/inActs/inActList`).catch((e=>console.log(e)));a.value=e.data;for(let t in a.value)a.value[t].inact_start_time=o(a.value[t].inact_start_time,"yyyy-MM-dd"),null!=a.value[t].inact_end_time&&(a.value[t].inact_end_time=o(a.value[t].inact_end_time,"yyyy-MM-dd"))};return{machineRow:e,machineCol:t,inActRow:a,inActCol:l,getInActMachines:s,getInActList:n,dateFormat:o}},components:{CustomNoRowsOverlay:Hs},data(){return{checkJob:"설비"==this.$store.state.loginInfo.job||"관리자"==this.$store.state.loginInfo.position,isShowModal:!1,theme:ko,inActSearchData:"",machineType:["세척기기","음료제작기기","포장기기"],pickedType:[],startDate:"",endDate:"",filters:[],noRowsOverlayComponent:"CustomNoRowsOverlay"}},beforeMount(){this.getInActMachines(),this.getInActList()},methods:{...(0,oe.PY)(["addLoginInfo"]),cellClickFnc(e){switch(e.value){case"작동정지":this.checkJob&&this.reStart(e.data.machine_num);break;default:this.$router.push({name:"machineInfo",params:{mno:e.data.machine_num}})}},async reStart(e){let t={inact_end_time:this.getToday(),inact_end_emp:this.$store.state.loginInfo.emp_num},a=await Re.A.put(`${Ae}/inActs/lastInAct/${e}`,t).catch((e=>console.log(e))),l=a.data;l.result?(console.log("비가동 내역 수정"),this.runMachine(e)):console.log("비가동 내역 수정 실패")},async runMachine(e){let t={machine_state:"run"},a=await Re.A.put(`${Ae}/machine/machineUpdate/${e}`,t).catch((e=>console.log(e))),l=a.data;l.result?(this.getInActMachines(),this.getInActList(),console.log("설비 작동 시작")):console.log("설비 작동 실패")},updateFilter(){console.log("필터 변경");const e={"세척기기":"p1","음료제작기기":"p2","포장기기":"p3"},t=this.pickedType.map((t=>e[t]));this.filters={pickedType:t},""!=this.startDate&&(this.filters.startDate=this.dateFormat(this.startDate,"yyyy-MM-dd")+" 00:00:00"),""!=this.endDate&&(this.filters.endDate=this.dateFormat(this.endDate,"yyyy-MM-dd")+" 23:59:59"),console.log(this.filters),this.searchInActs()},async searchInActs(){console.log("검색 동작");let e={process_code:this.filters.pickedType,startDate:this.filters.startDate,endDate:this.filters.endDate},t=await Re.A.put(`${Ae}/inActs/search`,e).catch((e=>console.log(e)));this.inActRow=t.data;for(let a in this.inActRow)this.inActRow[a].inact_start_time=this.dateFormat(this.inActRow[a].inact_start_time,"yyyy-MM-dd"),this.inActRow[a].inact_end_time=this.dateFormat(this.inActRow[a].inact_end_time,"yyyy-MM-dd")},inActOnReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[1];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="전체 검색",t.style.padding="5px",t.style.width="150px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inActSearchData=t})),e.appendChild(t),a.insertBefore(e,a.firstChild)}},getToday(){return this.dateFormat(null,"yyyy-MM-dd hh:mm:ss")}},watch:{pickedType:{handler(){this.updateFilter()},deep:!0},startDate:{handler(e){null!=e&&this.updateFilter()},deep:!0},endDate:{handler(e){null!=e&&this.updateFilter()},deep:!0}}};const kr=(0,ne.A)(gr,[["render",fr],["__scopeId","data-v-a80a2996"]]);var br=kr;const Lr={class:"grid-container"};function vr(e,t,a,l,s,n){const i=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",Lr,[(0,o.bF)(i,{rowData:s.rowData,columnDefs:s.columnData,theme:s.theme,onGridReady:n.onReady,onRowClicked:n.selectRow,rowSelection:"single"},null,8,["rowData","columnDefs","theme","onGridReady","onRowClicked"])])}var xr={name:"machineSelect",data(){return{theme:ko,rowData:[],columnData:[{headerName:"설비번호",field:"machine_num",flex:1},{headerName:"설비분류",field:"machine_type",flex:1},{headerName:"설비이름",field:"machine_name",flex:1}],selectedData:""}},methods:{async getMachineList(){let e=await Re.A.get(`${Ae}/machine/machineList`).catch((e=>console.log(e)));this.rowData=e.data},selectRow(e){const t=e.data;this.$emit("selectData",t)},onReady(e){this.gridApi=e.api}},created(){this.getMachineList()}};const wr=(0,ne.A)(xr,[["render",vr],["__scopeId","data-v-74838c74"]]);var _r=wr;const Cr=e=>((0,o.Qi)("data-v-3fb6b4fd"),e=e(),(0,o.jt)(),e),Dr={class:"container-fluid py-4"},Sr=Cr((()=>(0,o.Lk)("h3",null,"정비 요청 내역",-1))),Nr={class:"row align-items-center"},Mr={class:"col-8"},Rr={class:"grid-container"},Ar={class:"col-4 requestInfo"},Ir={class:"inputDiv"},Er={class:"row my-3 align-items-center",style:{"text-align":"center"}},Fr={key:0},Pr={key:1},Or={key:2},qr={class:"row my-3 align-items-center"},$r=Cr((()=>(0,o.Lk)("div",{class:"col-4"},[(0,o.Lk)("label",null,"설비 번호 : ")],-1))),Tr={class:"col"},jr={class:"row my-3 align-items-center"},Qr=Cr((()=>(0,o.Lk)("div",{class:"col-4"},[(0,o.Lk)("label",null,"설비 이름 : ")],-1))),Ur={class:"col"},Jr={class:"row my-3 align-items-center"},zr=Cr((()=>(0,o.Lk)("div",{class:"col-4"},[(0,o.Lk)("label",null,"설비 분류 : ")],-1))),Br={class:"col"},Vr={class:"row my-3 align-items-center"},Wr=Cr((()=>(0,o.Lk)("div",{class:"col-4"},[(0,o.Lk)("label",null,"설비 위치 : ")],-1))),Gr={class:"col"},Xr={class:"row my-3 align-items-center"},Kr=Cr((()=>(0,o.Lk)("div",{class:"col-4"},[(0,o.Lk)("label",null,"요청 사유 : ")],-1))),Hr={class:"col"},Yr={class:"row my-3 align-items-center"},Zr=Cr((()=>(0,o.Lk)("div",{class:"col-4"},[(0,o.Lk)("label",null,"요청 일자 : ")],-1))),ec={class:"col-8"},tc={class:"row my-3 align-items-center"},ac=Cr((()=>(0,o.Lk)("div",{class:"col-4"},[(0,o.Lk)("label",null,"정비 내역 : ")],-1))),lc={class:"col"};var oc={__name:"RequestList",setup(e){const t=(0,oe.Pj)(),a=(0,lo.KR)("설비"==t.state.loginInfo.job||"관리자"==t.state.loginInfo.position),s=(0,lo.IJ)([]),n=(0,lo.IJ)([{headerName:"설비번호",field:"machine_num",cellStyle:{textAlign:"center"},flex:2},{headerName:"설비분류",field:"machine_type",flex:2},{headerName:"설비이름",field:"machine_name",flex:3},{headerName:"요청사유",field:"request",flex:3},{headerName:"요청자",field:"request_emp_name",flex:2},{headerName:"요청일자",field:"request_date",cellStyle:{textAlign:"center"},flex:3}]),i=(0,lo.IJ)({machine_num:"",machine_name:"",machine_type:"",machine_location:"",request:"",request_date:"",maintenance_detail:""}),r=(0,lo.IJ)(),c=(0,lo.KR)("add"),d=(0,lo.KR)(!1),u=()=>{d.value=!0},p=()=>{m()},m=()=>{d.value=!1},h=(0,lo.KR)(),y=e=>{h.value=e,i.value.machine_num=e.machine_num,i.value.machine_name=e.machine_name,i.value.machine_type=e.machine_type,i.value.machine_location=e.machine_location,i.value.machine_num=e.machine_num},f=async()=>{let e=await Re.A.get(`${Ae}/maintenances/requestList`).catch((e=>console.log(e))),t=[];for(let a of e.data)"wait"==a.maintenance_state&&t.push(a);s.value=t;for(let a in s.value)s.value[a].request_date=Ho.dateFormat(s.value[a].request_date,"yyyy-MM-dd")},g=()=>{const e=document.querySelector(".ag-paging-panel");if(e){const t=document.createElement("div");t.style.display="flex",t.style.alignItems="center",t.style.gap="5px";const a=document.createElement("button");a.textContent="정비요청",a.style.marginRight="10px",a.style.cursor="pointer",a.style.color="white",a.style.border="none",a.style.padding="5px 10px",a.style.borderRadius="4px",a.style.position="absolute",a.style.left="10px",a.className="btn-success",a.addEventListener("click",(()=>{c.value="add",k(),r.value=null})),t.appendChild(a),e.insertBefore(t,e.firstChild)}},k=()=>{for(let e in i.value)i.value[e]=""},b=e=>{r.value=e.data.maintenance_num,v(),L()},L=async()=>{let e=await Re.A.get(`${Ae}/maintenances/maintenanceInfo/${r.value}`).catch((e=>console.log(e)));i.value=e.data},v=()=>{a.value&&(c.value="update")},x=()=>{a.value&&(c.value="complete")},w=()=>{"add"==c.value?C():"update"!=c.value&&"complete"!=c.value||D(),r.value=null,f(),k()},{notify:_}=(0,Te.hN)(),C=async()=>{let e={machine_num:i.value.machine_num,request:i.value.request,request_emp:t.state.loginInfo.emp_num,request_date:i.value.request_date},a=await Re.A.post(`${Ae}/maintenances/request`,e).catch((e=>console.log(e))),l=a.data;l.maintenance_num>0?_({text:"정비 요청 등록이 성공했습니다.",type:"success"}):_({text:"정비 요청 등록이 실패했습니다.",type:"error"})},D=async()=>{let e={};"update"==c.value?(e.request=i.value.request,e.request_date=i.value.request_date):"complete"==c.value&&(e.maintenance_detail=i.value.maintenance_detail,e.maintenance_state="done",e.work_emp=t.state.loginInfo.emp_num,e.end_date=N());let a=await Re.A.put(`${Ae}/maintenances/maintenanceUpdate/${r.value}`,e).catch((e=>console.log(e))),l=a.data;l.result?(_({text:"정비 요청 수정이 성공했습니다.",type:"success"}),f()):_({text:"정비 요청 수정이 실패했습니다.",type:"error"})},S=()=>{k(),null!=r.value&&L()},N=()=>Ho.dateFormat(null,"yyyy-MM-dd hh:mm:ss");return(0,o.KC)((()=>{f()})),(e,t)=>{const a=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",Dr,[Sr,(0,o.Lk)("div",Nr,[(0,o.Lk)("div",Mr,[(0,o.Lk)("div",Rr,[(0,o.bF)(a,{rowData:s.value,columnDefs:n.value,theme:(0,lo.R1)(ko),onGridReady:g,rowHeight:50,style:{height:"493px"},pagination:!0,paginationPageSize:8,paginationPageSizeSelector:[8,16,40,80],onRowClicked:b,noRowsOverlayComponent:Hs},null,8,["rowData","columnDefs","theme"])])]),(0,o.Lk)("div",Ar,[(0,o.Lk)("div",{class:"row my-3 align-items-center tapDiv"},[(0,o.Lk)("div",{class:"col tap",style:{"border-right":"2px solid black"}},[(0,o.Lk)("a",{class:"tapBtn",onClick:v},"요청 수정")]),(0,o.Lk)("div",{class:"col tap"},[(0,o.Lk)("a",{class:"tapBtn",onClick:x},"작업 완료")])]),(0,o.Lk)("div",Ir,[(0,o.Lk)("div",Er,["add"==c.value?((0,o.uX)(),(0,o.CE)("h4",Fr,"정비 요청 등록")):(0,o.Q3)("",!0),"update"==c.value?((0,o.uX)(),(0,o.CE)("h4",Pr,"요청 내역 수정")):(0,o.Q3)("",!0),"complete"==c.value?((0,o.uX)(),(0,o.CE)("h4",Or,"정비 완료 내용")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",qr,[$r,(0,o.Lk)("div",Tr,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",style:{"background-color":"white"},"onUpdate:modelValue":t[0]||(t[0]=e=>i.value.machine_num=e),onClick:u,readonly:"",placeholder:"🔍"},null,512),[[l.Jo,i.value.machine_num]]),(0,o.bF)(mo,{isShowModal:d.value,modalTitle:"설비 선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:m,onConfirm:p},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(_r,{onSelectData:y},null,512),[[l.aG,d.value]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",jr,[Qr,(0,o.Lk)("div",Ur,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",style:{"background-color":"white"},"onUpdate:modelValue":t[1]||(t[1]=e=>i.value.machine_name=e),readonly:""},null,512),[[l.Jo,i.value.machine_name]])])]),(0,o.Lk)("div",Jr,[zr,(0,o.Lk)("div",Br,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",style:{"background-color":"white"},"onUpdate:modelValue":t[2]||(t[2]=e=>i.value.machine_type=e),readonly:""},null,512),[[l.Jo,i.value.machine_type]])])]),(0,o.Lk)("div",Vr,[Wr,(0,o.Lk)("div",Gr,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",style:{"background-color":"white"},"onUpdate:modelValue":t[3]||(t[3]=e=>i.value.machine_location=e),readonly:""},null,512),[[l.Jo,i.value.machine_location]])])]),(0,o.Lk)("div",Xr,[Kr,(0,o.Lk)("div",Hr,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"text",style:{"background-color":"white"},"onUpdate:modelValue":t[4]||(t[4]=e=>i.value.request=e)},null,512),[[l.Jo,i.value.request]])])]),(0,o.Lk)("div",Yr,[Zr,(0,o.Lk)("div",ec,[(0,o.bo)((0,o.Lk)("input",{class:"form-control",type:"datetime-local",style:{"background-color":"white"},"onUpdate:modelValue":t[5]||(t[5]=e=>i.value.request_date=e)},null,512),[[l.Jo,i.value.request_date]])])]),(0,o.Lk)("div",tc,[ac,(0,o.Lk)("div",lc,["complete"!=c.value?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,class:"form-control",type:"text",readonly:"",style:{border:"1px solid"},"onUpdate:modelValue":t[6]||(t[6]=e=>i.value.maintenance_detail=e)},null,512)),[[l.Jo,i.value.maintenance_detail]]):(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:1,class:"form-control",type:"text",style:{"background-color":"white"},"onUpdate:modelValue":t[7]||(t[7]=e=>i.value.maintenance_detail=e)},null,512)),[[l.Jo,i.value.maintenance_detail]])])])]),(0,o.Lk)("div",{class:"row my-3 align-items-center justify-content-center"},[(0,o.Lk)("div",{class:"col-auto"},[(0,o.Lk)("button",{class:"btn btn-success w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:w}," 완료 ")]),(0,o.Lk)("div",{class:"col-auto"},[(0,o.Lk)("button",{class:"btn btn-danger w-100 mb-0 toast-btn",type:"button","data-target":"warningToast",onClick:S}," 취소 ")])])])])])}}};const sc=(0,ne.A)(oc,[["__scopeId","data-v-3fb6b4fd"]]);var nc=sc;const ic={class:"container-fluid py-4"},rc=(0,o.Lk)("h3",null,"정비 완료 내역",-1),cc={class:"grid-container"};var dc={__name:"RequestEnd",setup(e){const t=(0,lo.IJ)([]),a=(0,lo.IJ)([{headerName:"설비번호",field:"machine_num",cellStyle:{textAlign:"center"},flex:2},{headerName:"설비분류",field:"machine_type",flex:3},{headerName:"설비이름",field:"machine_name",flex:3},{headerName:"정비내용",field:"maintenance_detail",flex:4},{headerName:"작업자",field:"work_emp_name",cellStyle:{textAlign:"center"},flex:2},{headerName:"완료일자",field:"end_date",cellStyle:{textAlign:"center"},flex:3}]),l=async()=>{let e=await Re.A.get(`${Ae}/maintenances/completeList`).catch((e=>console.log(e))),a=[];for(let t of e.data)"done"==t.maintenance_state&&a.push(t);t.value=a;for(let l in t.value)t.value[l].end_date=Ho.dateFormat(t.value[l].end_date,"yyyy-MM-dd")};return(0,o.KC)((()=>{l()})),(e,l)=>{const s=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",ic,[rc,(0,o.Lk)("div",cc,[(0,o.bF)(s,{rowData:t.value,columnDefs:a.value,theme:(0,lo.R1)(ko),onGridReady:e.onReady,rowHeight:50,style:{height:"493px"},pagination:!0,paginationPageSize:8,paginationPageSizeSelector:[8,16,40,80]},null,8,["rowData","columnDefs","theme","onGridReady"])])])}}};const uc=dc;var pc=uc;const mc=(e,t)=>{ot.state.loginInfo.name?5!==ot.state.loginInfo.job_num&&3!==ot.state.loginInfo.level?((0,Te.me)({title:"로그인요청",text:"설비팀 또는 관리자만 접속 가능합니다.",type:"error"}),t(!1)):t():((0,Te.me)({title:"로그인요청",text:"로그인이 필요한 페이지입니다.",type:"error"}),t(!1))},hc=[{path:"/",name:"machineList",redirect:{name:"machineList"},beforeEnter:(e,t,a)=>{mc(e,a)}},{path:"list",name:"machineList",component:en},{path:"machineInfo/:mno",name:"machineInfo",component:mi},{path:"partList",name:"partList",component:Gi,beforeEnter:(e,t,a)=>{mc(e,a)}},{path:"inActList",name:"inActList",component:br,beforeEnter:(e,t,a)=>{mc(e,a)}},{path:"requestList",name:"requestList",component:nc},{path:"requestEnd",name:"requestEnd",component:pc,beforeEnter:(e,t,a)=>{mc(e,a)}}];var yc=hc;function fc(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(),(0,o.Wv)(a,{key:e.$route.fullPath}))])}const gc={},kc=(0,ne.A)(gc,[["render",fc]]);var bc=kc;const Lc=e=>((0,o.Qi)("data-v-6ccd4cea"),e=e(),(0,o.jt)(),e),vc={class:"container-fluid pl-4 pr-4 pt-0 pm-0"},xc={class:"row"},wc={class:"col-12"},_c={class:"card my-4"},Cc=Lc((()=>(0,o.Lk)("div",{class:"card-header p-0 position-relative mt-n4 mx-3 z-index-2"},[(0,o.Lk)("div",{class:"shadow-warning border-radius-lg pt-4 pb-3"},[(0,o.Lk)("h6",{class:"text-black text-capitalize ps-3"},"자재 주문 등록")])],-1))),Dc={class:"card-body px-0 pb-2"},Sc={class:"table-responsive p-0"},Nc={class:"table align-items-center mb-0"},Mc={class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"},Rc=Lc((()=>(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 생산계획코드 ",-1))),Ac=Lc((()=>(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 생산번호 ",-1))),Ic=Lc((()=>(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 생산계획명 ",-1))),Ec=Lc((()=>(0,o.Lk)("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," 계획등록일자 ",-1))),Fc=Lc((()=>(0,o.Lk)("th",{class:"text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7"}," 총수량 ",-1))),Pc=["value"],Oc={class:"d-flex px-2 py-1"},qc={class:"d-flex flex-column justify-content-center"},$c={class:"mb-0 text-sm"},Tc={class:"align-middle text-center text-sm"},jc={class:"d-flex px-2 py-1"},Qc={class:"d-flex flex-column justify-content-center"},Uc={class:"mb-0 text-sm"},Jc={class:"align-middle text-center text-sm"},zc={class:"d-flex px-2 py-1"},Bc={class:"d-flex flex-column justify-content-center"},Vc={class:"mb-0 text-sm"},Wc={class:"align-middle text-center"},Gc={class:"d-flex px-2 py-1"},Xc={class:"d-flex flex-column justify-content-center"},Kc={class:"mb-0 text-sm"},Hc={class:"align-middle"},Yc={class:"d-flex px-2 py-1"},Zc={class:"d-flex flex-column justify-content-center"},ed={class:"mb-0 text-sm"};function td(e,t,a,s,n,i){const r=(0,o.g2)("materialChild");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",vc,[(0,o.Lk)("div",xc,[(0,o.Lk)("div",wc,[(0,o.Lk)("div",_c,[Cc,(0,o.Lk)("div",Dc,[(0,o.Lk)("div",Sc,[(0,o.Lk)("table",Nc,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",Mc,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>n.allSelected=e),onClick:t[1]||(t[1]=(...e)=>i.click_all&&i.click_all(...e))},null,512),[[l.lH,n.allSelected]]),(0,o.eW)("전체선택")])]),Rc,Ac,Ic,Ec,Fc])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.productorderlist,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.order_code},[(0,o.Lk)("td",null,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",value:e.order_plan_num,"onUpdate:modelValue":t[2]||(t[2]=e=>n.checked=e)},null,8,Pc),[[l.lH,n.checked]])])]),(0,o.Lk)("td",null,[(0,o.Lk)("div",Oc,[(0,o.Lk)("div",qc,[(0,o.Lk)("h6",$c,(0,d.v_)(e.order_plan_num),1)])])]),(0,o.Lk)("td",Tc,[(0,o.Lk)("div",jc,[(0,o.Lk)("div",Qc,[(0,o.Lk)("h6",Uc,(0,d.v_)(e.plan_num),1)])])]),(0,o.Lk)("td",Jc,[(0,o.Lk)("div",zc,[(0,o.Lk)("div",Bc,[(0,o.Lk)("h6",Vc,(0,d.v_)(e.product_code),1)])])]),(0,o.Lk)("td",Wc,[(0,o.Lk)("div",Gc,[(0,o.Lk)("div",Xc,[(0,o.Lk)("h6",Kc,(0,d.v_)(i.dateFormat(e.plan_create_date,"yyyy-MM-dd")),1)])])]),(0,o.Lk)("td",Hc,[(0,o.Lk)("div",Yc,[(0,o.Lk)("div",Zc,[(0,o.Lk)("h6",ed,(0,d.v_)(e.plan_qty),1)])])])])))),128))])]),(0,o.Lk)("button",{type:"button",class:"btn btn-outline-warning",onClick:t[3]||(t[3]=e=>i.materialSelect(n.checked))},"선택"),(0,o.eW)(" 현재1건씩만처리됨 모든데이터다처리하고 중복값들 묶어서 아랫쪽으로 내리는 스크립트 필요 ")])])])])])]),(0,o.Lk)("div",null,[(0,o.bF)(r,{needMaterialList:n.needMaterialList},null,8,["needMaterialList"])])],64)}const ad=e=>((0,o.Qi)("data-v-4bc7f800"),e=e(),(0,o.jt)(),e),ld={class:"container-fluid pl-4 pr-4 pt-0 pm-0"},od={class:"row"},sd={class:"col-12"},nd={class:"card my-4"},id={class:"card-body px-0 pb-2"},rd={class:"table-responsive p-0"},cd={class:"table align-items-center mb-0"},dd={class:"align-middle text-center text-xxs font-weight-bolder opacity-7"},ud=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 원자재코드 ",-1))),pd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 자재명 ",-1))),md=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 자재재고 ",-1))),hd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 안전재고 ",-1))),yd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 계획재고 ",-1))),fd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 발주중재고 ",-1))),gd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 필요수량 ",-1))),kd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 거래처명 ",-1))),bd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 거래처선택 ",-1))),Ld=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 발주수량(KG) ",-1))),vd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 단가 ",-1))),xd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 총금액 ",-1))),wd=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 납기일 ",-1))),_d=ad((()=>(0,o.Lk)("th",{class:"align-middle text-center text-xxs font-weight-bolder opacity-7"}," 발주제거 ",-1))),Cd={class:"align-middle text-center"},Dd=["value"],Sd={class:"d-flex px-2 py-1"},Nd={class:"d-flex flex-column justify-content-center"},Md={class:"mb-0 text-sm"},Rd={class:"align-middle text-center"},Ad={class:"d-flex px-2 py-1"},Id={class:"d-flex flex-column justify-content-center"},Ed={class:"mb-0 text-sm"},Fd={class:"align-middle text-center"},Pd={class:"d-flex px-2 py-1"},Od={class:"d-flex flex-column justify-content-center"},qd={class:"mb-0 text-sm"},$d={class:"align-middle text-center"},Td={class:"d-flex px-2 py-1"},jd={class:"d-flex flex-column justify-content-center"},Qd={class:"mb-0 text-sm"},Ud={class:"align-middle text-center"},Jd={class:"d-flex px-2 py-1"},zd={class:"d-flex flex-column justify-content-center"},Bd={class:"mb-0 text-sm"},Vd={class:"align-middle text-center"},Wd={class:"d-flex px-2 py-1"},Gd={class:"d-flex flex-column justify-content-center"},Xd={class:"mb-0 text-sm"},Kd={class:"align-middle text-center"},Hd={class:"d-flex px-2 py-1"},Yd={class:"d-flex flex-column justify-content-center"},Zd={class:"mb-0 text-sm"},eu={class:"align-middle text-center"},tu={class:"d-flex px-2 py-1"},au={class:"d-flex flex-column justify-content-center"},lu={class:"mb-0 text-sm"},ou={class:"align-middle text-center"},su={class:"d-flex px-2 py-1"},nu={class:"d-flex flex-column justify-content-center"},iu={class:"mb-0 text-sm"},ru=["onClick"],cu={class:"align-middle text-center"},du={class:"d-flex px-2 py-1"},uu={class:"d-flex flex-column justify-content-center"},pu={class:"mb-0 text-sm"},mu=["onUpdate:modelValue"],hu={class:"align-middle text-center"},yu={class:"d-flex px-2 py-1"},fu={class:"d-flex flex-column justify-content-center"},gu={class:"mb-0 text-sm"},ku=["onUpdate:modelValue"],bu={class:"align-middle text-center"},Lu={class:"d-flex px-2 py-1"},vu={class:"d-flex flex-column justify-content-center"},xu={class:"mb-0 text-sm"},wu={class:"align-middle text-center"},_u={class:"d-flex px-2 py-1"},Cu={class:"d-flex flex-column justify-content-center"},Du={class:"mb-0 text-sm"},Su=["onUpdate:modelValue"],Nu={class:"align-middle text-center"},Mu={class:"d-flex px-2 py-1"},Ru={class:"d-flex flex-column justify-content-center"},Au={class:"mb-0 text-sm"},Iu=["onClick"];function Eu(e,t,a,s,n,i){const r=(0,o.g2)("Modal");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",ld,[(0,o.Lk)("div",od,[(0,o.Lk)("div",sd,[(0,o.Lk)("div",nd,[(0,o.Lk)("div",id,[(0,o.Lk)("div",rd,[(0,o.Lk)("table",cd,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",dd,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.allSelected2=t),onClick:t[1]||(t[1]=(...e)=>i.click_all2&&i.click_all2(...e))},null,512),[[l.lH,e.allSelected2]])])]),ud,pd,md,hd,yd,fd,gd,kd,bd,Ld,vd,xd,wd,_d])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.needMaterialListCopy,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.material_code},[(0,o.Lk)("td",Cd,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",value:e.material_code,"onUpdate:modelValue":t[2]||(t[2]=e=>n.checked2=e)},null,8,Dd),[[l.lH,n.checked2]])])]),(0,o.Lk)("td",null,[(0,o.Lk)("div",Sd,[(0,o.Lk)("div",Nd,[(0,o.Lk)("h6",Md,(0,d.v_)(e.material_code),1)])])]),(0,o.Lk)("td",Rd,[(0,o.Lk)("div",Ad,[(0,o.Lk)("div",Id,[(0,o.Lk)("h6",Ed,(0,d.v_)(e.material),1)])])]),(0,o.Lk)("td",Fd,[(0,o.Lk)("div",Pd,[(0,o.Lk)("div",Od,[(0,o.Lk)("h6",qd,(0,d.v_)(i.gToKg(e.stok_qty))+" Kg",1)])])]),(0,o.Lk)("td",$d,[(0,o.Lk)("div",Td,[(0,o.Lk)("div",jd,[(0,o.Lk)("h6",Qd,(0,d.v_)(i.gToKg(e.safety_inventory))+" Kg",1)])])]),(0,o.Lk)("td",Ud,[(0,o.Lk)("div",Jd,[(0,o.Lk)("div",zd,[(0,o.Lk)("h6",Bd,(0,d.v_)(i.gToKg(e.plan_qty))+" Kg",1)])])]),(0,o.Lk)("td",Vd,[(0,o.Lk)("div",Wd,[(0,o.Lk)("div",Gd,[(0,o.Lk)("h6",Xd,(0,d.v_)(i.gToKg(e.ordering_qty))+" Kg",1)])])]),(0,o.Lk)("td",Kd,[(0,o.Lk)("div",Hd,[(0,o.Lk)("div",Yd,[(0,o.Lk)("h6",Zd,(0,d.v_)(i.gToKg(e.need_qty))+" Kg",1)])])]),(0,o.Lk)("td",eu,[(0,o.Lk)("div",tu,[(0,o.Lk)("div",au,[(0,o.Lk)("h6",lu,(0,d.v_)(e.clientName),1)])])]),(0,o.Lk)("td",ou,[(0,o.Lk)("div",su,[(0,o.Lk)("div",nu,[(0,o.Lk)("h6",iu,[(0,o.Lk)("button",{type:"button",onClick:t=>i.openModal(e.material,i.gToKg(e.need_qty)),"data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," 거래처선택 ",8,ru)])])])]),(0,o.Lk)("td",cu,[(0,o.Lk)("div",du,[(0,o.Lk)("div",uu,[(0,o.Lk)("h6",pu,[(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.qty=t,class:"form-control",style:{width:"50px"},placeholder:"수량"},null,8,mu),[[l.Jo,e.qty,void 0,{number:!0}]])])])])]),(0,o.Lk)("td",hu,[(0,o.Lk)("div",yu,[(0,o.Lk)("div",fu,[(0,o.Lk)("h6",gu,[(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.pic=t,class:"form-control",style:{width:"50px"},placeholder:"단가"},null,8,ku),[[l.Jo,e.pic,void 0,{number:!0}]])])])])]),(0,o.Lk)("td",bu,[(0,o.Lk)("div",Lu,[(0,o.Lk)("div",vu,[(0,o.Lk)("h6",xu,(0,d.v_)(i.calculateTotalPrice(e.qty,e.pic))+" 원",1)])])]),(0,o.Lk)("td",wu,[(0,o.Lk)("div",_u,[(0,o.Lk)("div",Cu,[(0,o.Lk)("h6",Du,[(0,o.bo)((0,o.Lk)("input",{type:"date","onUpdate:modelValue":t=>e.lastDate=t,class:"form-control"},null,8,Su),[[l.Jo,e.lastDate]])])])])]),(0,o.Lk)("td",Nu,[(0,o.Lk)("div",Mu,[(0,o.Lk)("div",Ru,[(0,o.Lk)("h6",Au,[(0,o.Lk)("button",{onClick:t=>i.materialRemove(e.material_code)},"항목제거",8,Iu)])])])])])))),128))])]),(0,o.Lk)("button",{type:"button",class:"btn btn-outline-warning",onClick:t[3]||(t[3]=(...e)=>i.materialInputGo&&i.materialInputGo(...e))},"발주하기"),(0,o.eW)((0,d.v_)(n.checked2)+" 모달로 거래처1개만 선택해야함 제발 ㅠㅠ // 주문도 하나만 체크 하고 해야함 // 제약조건 다 안했음 ",1)])])])])])]),(0,o.Lk)("div",null,[(0,o.bF)(r,{isShowModal:n.isShowModal,modalName:n.modalName,needQty:n.needQty,onCloseModal:i.closeModal,onConfirm:i.confirm},null,8,["isShowModal","modalName","needQty","onCloseModal","onConfirm"])])],64)}a(5019),a(2598);const Fu=e=>((0,o.Qi)("data-v-4b1e2d88"),e=e(),(0,o.jt)(),e),Pu={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Ou={class:"modal-content"},qu={class:"modal-header"},$u={class:"modal-title fs-5",id:"exampleModalLabel"},Tu={class:"modal-title fs-5",id:"exampleModalLabel"},ju={class:"modal-body"},Qu=Fu((()=>(0,o.Lk)("br",null,null,-1))),Uu={class:"container-fluid pl-4 pr-4 pt-0 pm-0"},Ju={class:"row"},zu={class:"col-12"},Bu={class:"card my-4"},Vu={class:"card-body px-0 pb-2"},Wu=Fu((()=>(0,o.Lk)("div",{class:"table-responsive p-0"},null,-1))),Gu={class:"table align-items-center mb-0"},Xu=Fu((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 업체명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 담당자 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 연락처 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 추가 ")])],-1))),Ku={class:"d-flex px-2 py-1"},Hu={class:"d-flex flex-column justify-content-center"},Yu={class:"mb-0 text-sm"},Zu={class:"d-flex px-2 py-1"},ep={class:"d-flex flex-column justify-content-center"},tp={class:"mb-0 text-sm"},ap={class:"align-middle text-center text-sm"},lp={class:"d-flex px-2 py-1"},op={class:"d-flex flex-column justify-content-center"},sp={class:"mb-0 text-sm"},np={class:"align-middle text-center text-sm"},ip={class:"d-flex px-2 py-1"},rp={class:"d-flex flex-column justify-content-center"},cp=["onClick"],dp={class:"container-fluid pl-4 pr-4 pt-0 pm-0"},up={class:"row"},pp={class:"col-12"},mp={class:"card my-4"},hp={class:"card-body px-0 pb-2"},yp=Fu((()=>(0,o.Lk)("div",{class:"table-responsive p-0"},null,-1))),fp={class:"table align-items-center mb-0"},gp=Fu((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 업체명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 발주수량(KG,EX) "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 단가(원) "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 선택취소 ")])],-1))),kp={key:0},bp={class:"text-uppercase text-xxs font-weight-bolder ps-2"},Lp={class:"align-middle text-center"},vp={class:"d-flex px-2 py-1"},xp={class:"d-flex flex-column justify-content-center"},wp={class:"mb-0 text-sm"},_p=["onUpdate:modelValue"],Cp={class:"align-middle text-center"},Dp={class:"d-flex px-2 py-1"},Sp={class:"d-flex flex-column justify-content-center"},Np={class:"mb-0 text-sm"},Mp=["onUpdate:modelValue"],Rp={class:"align-middle text-center"},Ap={class:"d-flex px-2 py-1"},Ip={class:"d-flex flex-column justify-content-center"},Ep=["onClick"],Fp={class:"modal-footer"};function Pp(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal}]),id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[(0,o.Lk)("div",Pu,[(0,o.Lk)("div",Ou,[(0,o.Lk)("div",qu,[(0,o.Lk)("h1",$u,(0,d.v_)(n.mainName)+" 거래처 선택",1),(0,o.Lk)("h1",Tu,"현재 필요 수량 "+(0,d.v_)(n.needQtyName)+" KG",1)]),(0,o.Lk)("div",ju,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=t=>e.clientName=t),placeholder:"거래처 입력",style:{display:"inline-block",width:"30%","margin-right":"10px"}},null,512),[[l.Jo,e.clientName]]),(0,o.Lk)("button",{style:{display:"inline-block",width:"20%"},onClick:t[1]||(t[1]=t=>i.searchClient(e.clientName))},"검색"),Qu,(0,o.Lk)("div",Uu,[(0,o.Lk)("div",Ju,[(0,o.Lk)("div",zu,[(0,o.Lk)("div",Bu,[(0,o.Lk)("div",Vu,[Wu,(0,o.Lk)("table",Gu,[Xu,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.clientList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.com_name},[(0,o.Lk)("td",null,[(0,o.Lk)("div",Ku,[(0,o.Lk)("div",Hu,[(0,o.Lk)("h6",Yu,(0,d.v_)(e.com_name),1)])])]),(0,o.Lk)("td",null,[(0,o.Lk)("div",Zu,[(0,o.Lk)("div",ep,[(0,o.Lk)("h6",tp,(0,d.v_)(e.emp_name),1)])])]),(0,o.Lk)("td",ap,[(0,o.Lk)("div",lp,[(0,o.Lk)("div",op,[(0,o.Lk)("h6",sp,(0,d.v_)(e.emp_tel),1)])])]),(0,o.Lk)("td",np,[(0,o.Lk)("div",ip,[(0,o.Lk)("div",rp,[(0,o.Lk)("button",{type:"button",onClick:t=>i.clientInput(e.com_name,e.client_num)},"추가",8,cp)])])])])))),128))])])])])])])]),(0,o.Lk)("div",dp,[(0,o.Lk)("div",up,[(0,o.Lk)("div",pp,[(0,o.Lk)("div",mp,[(0,o.Lk)("div",hp,[yp,(0,o.Lk)("table",fp,[gp,n.clientselect.length?((0,o.uX)(),(0,o.CE)("tbody",kp,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.clientselect,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.name},[(0,o.Lk)("td",bp,(0,d.v_)(e.name),1),(0,o.Lk)("td",Lp,[(0,o.Lk)("div",vp,[(0,o.Lk)("div",xp,[(0,o.Lk)("h6",wp,[(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.qty=t,class:"form-control",style:{width:"75px"},placeholder:"수량"},null,8,_p),[[l.Jo,e.qty,void 0,{number:!0}]])])])])]),(0,o.Lk)("td",Cp,[(0,o.Lk)("div",Dp,[(0,o.Lk)("div",Sp,[(0,o.Lk)("h6",Np,[(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.price=t,class:"form-control",style:{width:"75px"},placeholder:"단가"},null,8,Mp),[[l.Jo,e.price,void 0,{number:!0}]])])])])]),(0,o.Lk)("td",Rp,[(0,o.Lk)("div",Ap,[(0,o.Lk)("div",Ip,[(0,o.Lk)("button",{type:"button",onClick:t=>i.materialRemove2(e.name)},"삭제",8,Ep)])])])])))),128))])):(0,o.Q3)("",!0)])])])])])])]),(0,o.Lk)("div",Fp,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=(...e)=>i.closeModal&&i.closeModal(...e))},"Close"),(0,o.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>i.confirm&&i.confirm(...e))},"거래처등록")])])])],2)}a(9229);var Op={name:"Modal",props:{isShowModal:Boolean,modalName:String,needQty:String},data(){return{modalState:this.isShowModal,mainName:"",needQtyName:"",clientList:[],clientselect:[]}},watch:{modalName(e){this.mainName=e,this.fullClient(),this.clientselect=[]},needQty(e){this.needQtyName=e||"0"}},created(){},methods:{async fullClient(){let e=await Re.A.get(`${Ae}/material/fullClient`).catch((e=>console.log(e)));this.clientList=e.data},async fullClientInfo(e){let t=await Re.A.get(`${Ae}/material/fullClientKeyWord/${e}`).catch((e=>console.log(e)));this.clientList=t.data},closeModal(){this.clientselect=[],this.$emit("closeModal")},confirm(){let e={materialid:this.mainName};this.clientselect.forEach((t=>{Object.assign(t,e)})),this.$emit("confirm",this.clientselect),this.clientselect=[]},searchClient(e){e?this.fullClientInfo(e):this.fullClient(),console.log(this.clientName)},clientInput(e,t){let a={name:e,code:t,qty:0,price:0};this.clientselect.some((t=>t.name===e))||this.clientselect.push(a)},materialRemove2(e){this.clientselect=this.clientselect.filter((t=>t.name!==e))}}};const qp=(0,ne.A)(Op,[["render",Pp],["__scopeId","data-v-4b1e2d88"]]);var $p=qp,Tp={props:{needMaterialList:{type:Array,required:!0,default:()=>[]}},components:{Modal:$p},data(){return{qty:0,pic:0,checked2:[],needMaterialListCopy:[],isShowModal:!1,modalName:"",needQty:"",clientselect:[],materialObj:{}}},watch:{needMaterialList:{handler(e){this.needMaterialListCopy=e.map((e=>({...e,clientName:e.clientName||"-"})))},immediate:!0}},computed:{},methods:{dateFormat(e,t){return Ho.dateFormat(e,t)},gToKg(e){return.001*e},calculateTotalPrice(e,t){return e&&t?e*t:0},click_all2(){this.allSelected2?this.checked2=[]:this.checked2=this.needMaterialListCopy.map((e=>e.material_code)),this.allSelected2=!this.allSelected2},materialRemove(e){this.needMaterialListCopy=this.needMaterialListCopy.filter((t=>t.material_code!==e)),this.checked2=this.checked2.filter((t=>t!==e))},openModal(e,t){this.isShowModal=!this.isShowModal,this.modalName=e,this.needQty=t},confirm(e){console.log("살려줘",e);let t=this.needMaterialListCopy.find((t=>t.material===e[0].materialid));t&&(this.checked2.push(t.material_code),t.clientName=e[0].name,t.qty=e[0].qty,t.pic=e[0].price,t.code=e[0].code),this.closeModal()},closeModal(){this.isShowModal=!1},materialInputGo(){console.log(this.checked2);let e=this.needMaterialListCopy.filter((e=>this.checked2.includes(e.material_code))),t=e[0].pic*e[0].qty;this.materialObj={clientNum:e[0].code,empNum:1,materialCode:e[0].material_code,ordQty:e[0].qty,limitDate:e[0].lastDate,unitPrice:e[0].pic,totalPrice:t},this.materialInputPOList(this.materialObj)},async materialInputPOList(e){console.log(e);let t=await Re.A.post(`${Ae}/material/inputPoLIst`,e).catch((e=>console.log(e)));console.log(t.data);const a=t.data[0][0];"OK"==a.result?this.$router.push({name:"materialOrderList"}):alert("개발자한테 문의 해주세요 ERRCODE 001")}},created(){}};const jp=(0,ne.A)(Tp,[["render",Eu],["__scopeId","data-v-4bc7f800"]]);var Qp=jp,Up={name:"tables",components:{materialChild:Qp},data(){return{checked:[],allSelected:!1,productorderlist:[],needMaterialList:[]}},computed:{},methods:{async productorder(){let e=await Re.A.get(`${Ae}/material/orderplan`).catch((e=>console.log(e)));this.productorderlist=e.data,console.log(e.data)},dateFormat(e,t){return Ho.dateFormat(e,t)},click_all(){this.allSelected?this.checked=[]:this.checked=this.productorderlist.map((e=>e.plan_num)),this.allSelected=!this.allSelected},async needMaterialOrder(e){let t=await Re.A.get(`${Ae}/material/needOrderMaterial/${e}`).catch((e=>console.log(e)));console.log(t.data),this.needMaterialList=t.data},materialSelect(e){for(let t of e)console.log(t),this.needMaterialOrder(t)}},created(){this.productorder()}};const Jp=(0,ne.A)(Up,[["render",td],["__scopeId","data-v-6ccd4cea"]]);var zp=Jp;const Bp=(0,o.Lk)("div",{class:"p-3 pb-0"},[(0,o.Lk)("h3",null,"  자재 발주 관리")],-1),Vp={class:"d-flex"},Wp={class:"p-2 flex-fill"},Gp={class:"p-2 flex-fill"},Xp={key:0,style:{width:"100%",height:"100%","background-color":"#0005",position:"fixed",top:"0px",left:"0px","z-index":"1000"}},Kp={style:{position:"fixed",top:"50%",left:"30%",width:"50%"}};function Hp(e,t,a,l,s,n){const i=(0,o.g2)("newMaterialOrderPlan"),r=(0,o.g2)("newMaterialOrderList"),c=(0,o.g2)("newMaterialOrderOffer"),d=(0,o.g2)("material-progress");return(0,o.uX)(),(0,o.CE)(o.FK,null,[Bp,(0,o.Lk)("div",Vp,[(0,o.Lk)("div",Wp,[(0,o.bF)(i,{productorderlist:s.productorderlist,onPlanAndBomList:n.needMaterialList},null,8,["productorderlist","onPlanAndBomList"])]),(0,o.Lk)("div",Gp,[(0,o.bF)(r,{onPlanAndClientList:n.needClientList,material_code:s.material_code,material_name:s.material_name},null,8,["onPlanAndClientList","material_code","material_name"])])]),(0,o.bF)(c,{planMaterialList:s.planMaterialList,clientList:s.clientList,onSeachClient:n.seachClienting,onGoPOlist:n.letGoPoList},null,8,["planMaterialList","clientList","onSeachClient","onGoPOlist"]),s.showprogress2?((0,o.uX)(),(0,o.CE)("div",Xp,[(0,o.Lk)("div",Kp,[(0,o.bF)(d,{color:"success",percentage:s.number},null,8,["percentage"])])])):(0,o.Q3)("",!0)],64)}const Yp=(0,o.Lk)("div",null,[(0,o.Lk)("h4",{style:{"margin-bottom":"0px"}},"    미지시 생산계획 확인")],-1),Zp={class:"grid-container",style:{width:"900px","padding-top":"0px","padding-bottom":"10px"}},em={style:{display:"none"}},tm={key:0,style:{width:"100%",height:"100%","background-color":"#0005",position:"fixed",top:"0px",left:"0px","z-index":"1000"}},am={style:{position:"fixed",top:"50%",left:"30%",width:"50%"}};function lm(e,t,a,l,s,n){const i=(0,o.g2)("ag-grid-vue"),r=(0,o.g2)("CustomNoRowsOverlay"),c=(0,o.g2)("material-progress");return(0,o.uX)(),(0,o.CE)(o.FK,null,[Yp,(0,o.Lk)("div",Zp,[(0,o.bF)(i,{rowData:s.plandate,columnDefs:s.plancolumnDefs,theme:s.theme,pagination:!0,paginationPageSize:4,paginationPageSizeSelector:[4,10,20,40],onGridReady:n.onReady,style:{height:"261px"},rowSelection:"multiple",quickFilterText:s.plenlistsearch,noRowsOverlayComponent:s.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent"])]),(0,o.Lk)("div",em,[(0,o.bF)(r)]),s.showprogress?((0,o.uX)(),(0,o.CE)("div",tm,[(0,o.Lk)("div",am,[(0,o.bF)(c,{color:"success",percentage:s.number2},null,8,["percentage"])])])):(0,o.Q3)("",!0)],64)}a(9471);const om={class:"progress"};function sm(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",om,[(0,o.Lk)("div",{class:(0,d.C4)(["progress-bar",n.getClasses(a.color,a.variant)]),style:(0,d.Tr)({width:a.percentage+"%"})},null,6)])}var nm={name:"MaterialProgress",props:{color:{type:String,default:"success"},variant:{type:String,default:"fill"},percentage:{type:Number,required:!0}},methods:{getClasses:(e,t)=>{let a;return a="gradient"===t?`bg-gradient-${e}`:`bg-${e}`,`${a}`}}};const im=(0,ne.A)(nm,[["render",sm]]);var rm=im,cm={components:{CustomNoRowsOverlay:Hs,MaterialProgress:rm},data(){return{showprogress:!1,number2:0,noRowsOverlayComponent:"CustomNoRowsOverlay",plenlistsearch:"",plancolumnDefs:[{headerCheckboxSelection:!0,checkboxSelection:!0,headerName:"",width:45},{headerName:"계획번호",field:"order_plan_num",width:100,cellStyle:{textAlign:"center"}},{headerName:"생산번호",field:"plan_num",width:100,cellStyle:{textAlign:"center"}},{headerName:"상품코드",field:"product_code",width:100,cellStyle:{textAlign:"center"}},{headerName:"생산상품명",field:"product_name",cellStyle:{textAlign:"left"}},{headerName:"생산수량",field:"plan_qty",width:100,cellStyle:{textAlign:"right"}},{headerName:"계획작성일",field:"plan_create_date",cellStyle:{textAlign:"center"}}],plandate:[],theme:ko,needMaterialList:[]}},props:{productorderlist:{type:Array,required:!0,default:()=>[]}},watch:{productorderlist:{handler(e){this.plandate=e.map((e=>({...e,plan_create_date:this.dateFormat(e.plan_create_date,"yyyy-MM-dd"),plan_qty:e.plan_qty+" 개"})))},immediate:!0}},methods:{onReady(e){this.gridApi=e.api,e.api.sizeColumnsToFit();const t=document.querySelector(".ag-paging-panel");if(t){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const a=document.createElement("button");a.textContent="주문생성",a.style.marginRight="10px",a.style.cursor="pointer",a.style.backgroundColor="#4caf50",a.style.color="white",a.style.border="none",a.style.padding="5px 10px",a.style.borderRadius="4px",a.style.position="absolute",a.style.left="10px",a.addEventListener("click",(()=>{this.allInput()}));const l=document.createElement("input");l.type="text",l.placeholder="검색",l.style.padding="5px",l.style.width="100px",l.style.border="1px solid #ccc",l.style.borderRadius="4px",l.style.position="absolute",l.style.left="100px",l.addEventListener("input",(e=>{const t=e.target.value;this.plenlistsearch=t})),e.appendChild(a),e.appendChild(l),t.insertBefore(e,t.firstChild)}},async allInput(){const e=this.gridApi.getSelectedRows();let t=100/e.length;if(this.showprogress=!0,e.length>0){for(let a=0;a<e.length;a++)this.number2=this.number2+t,await this.needMaterialOrder(e[a]["order_plan_num"]);this.needMaterialList=this.needMaterialList.map((e=>({...e,stok_qty:e.material.includes("병")?Number(e.stok_qty).toLocaleString()+" 개":(.001*e.stok_qty).toLocaleString()+" kg",safety_inventory:e.material.includes("병")?Number(e.safety_inventory).toLocaleString()+" 개":(.001*e.safety_inventory).toLocaleString()+" kg",plan_qty:e.material.includes("병")?Number(e.plan_qty).toLocaleString()+" 개":(.001*e.plan_qty).toLocaleString()+" kg",ordering_qty:e.material.includes("병")?Number(e.ordering_qty).toLocaleString()+" 개":(.001*e.ordering_qty).toLocaleString()+" kg",need_qty:e.material.includes("병")?Number(e.safety_inventory)+Number(e.plan_qty)-Number(e.stok_qty)-Number(e.ordering_qty):.001*e.safety_inventory+.001*e.plan_qty-.001*e.stok_qty-.001*e.ordering_qty}))),this.needMaterialList=this.needMaterialList.map((e=>({...e,need_qty:e.need_qty>0?e.need_qty.toLocaleString():"0"}))),this.needMaterialList=this.needMaterialList.map((e=>({...e,need_qty:e.material.includes("병")?e.need_qty+" 개":e.need_qty+" kg"}))),console.log("결과 : ",this.needMaterialList),this.$emit("planAndBomList",this.needMaterialList),this.needMaterialList=[],this.$notify({text:"자재발주 리스트 생성 완료 했습니다.",type:"success"})}else this.$notify({text:"선택된 계획이 없습니다.",type:"error"});this.showprogress=!1,this.number2=0},async needMaterialOrder(e){let t=await Re.A.get(`${Ae}/material/needOrderMaterial/${e}`).catch((e=>console.log(e)));const a=[...this.needMaterialList,...t.data],l=a.reduce(((e,t)=>{const a=e.find((e=>e.material_code===t.material_code));return a?(a.plan_qty+=t.plan_qty,a.need_qty=parseInt(a.need_qty,10)+parseInt(t.need_qty,10)):e.push({...t}),e}),[]);this.needMaterialList=l},dateFormat(e,t){return Ho.dateFormat(e,t)}}};const dm=(0,ne.A)(cm,[["render",lm]]);var um=dm;const pm={style:{"margin-bottom":"0px"}},mm={class:"grid-container",style:{width:"700px","padding-top":"0px","padding-bottom":"10px"}},hm={style:{display:"none"}};function ym(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("h4",{style:{"margin-bottom":"0px"}},"    ["+(0,d.v_)(a.material_name)+"] 발주업체 선정",513),[[l.aG,n.isVisible2]]),(0,o.bo)((0,o.Lk)("h4",pm,"    발주업체 선정",512),[[l.aG,!n.isVisible2]])]),(0,o.Lk)("div",mm,[(0,o.bF)(r,{rowData:n.clientdate,columnDefs:n.clientcolumnDefs,theme:n.theme,pagination:!0,noRowsOverlayComponent:n.noRowsOverlayComponent,quickFilterText:n.clientNamesearch,paginationPageSize:4,paginationPageSizeSelector:[4,10,20,40],onGridReady:i.onReady,style:{height:"261px"},rowSelection:"multiple"},null,8,["rowData","columnDefs","theme","noRowsOverlayComponent","quickFilterText","onGridReady"])]),(0,o.Lk)("div",hm,[(0,o.bF)(c)])],64)}var fm={components:{CustomNoRowsOverlay:Hs},props:{material_code:{type:String,required:!0},material_name:{type:String,required:!0}},watch:{material_code:{handler:"fullClient",immediate:!0},material_name:{immediate:!0}},data(){return{noRowsOverlayComponent:"CustomNoRowsOverlay",clientNamesearch:"",isVisible2:!1,clientcolumnDefs:[{headerCheckboxSelection:!0,checkboxSelection:!0,headerName:"",width:45},{headerName:"NO.",field:"client_num",width:100,cellStyle:{textAlign:"center"}},{headerName:"거래처명",field:"com_name",cellStyle:{textAlign:"left"}},{headerName:"발주담당자",field:"emp_name",width:130,cellStyle:{textAlign:"left"}},{headerName:"연락처",field:"emp_tel",cellStyle:{textAlign:"center"}}],clientdate:[],theme:ko}},methods:{onReady(e){this.gridApi=e.api,e.api.sizeColumnsToFit();const t=document.querySelectorAll(".ag-paging-panel"),a=t[1];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px",e.style.position="absolute",e.style.left="10px";const t=document.createElement("button");t.textContent="거래처선택",t.style.cursor="pointer",t.style.backgroundColor="#4caf50",t.style.color="white",t.style.border="none",t.style.width="90px",t.style.padding="5px 10px",t.style.borderRadius="4px",t.addEventListener("click",(()=>{this.allInput()}));const l=document.createElement("input");l.type="text",l.placeholder="검색",l.style.padding="5px",l.style.width="60px",l.style.border="1px solid #ccc",l.style.borderRadius="4px",l.addEventListener("input",(e=>{const t=e.target.value;this.clientNamesearch=t})),e.appendChild(t),e.appendChild(l),a.insertBefore(e,a.firstChild)}},async allInput(){const e=this.gridApi.getSelectedRows();e.length>0?(this.selectedRows=e.map((e=>({...e,material:this.material_name,material_code:this.material_code}))),this.$emit("planAndClientList",this.selectedRows),this.clientdate=[],this.isVisible2=!this.isVisible2,this.$notify({text:"거래처가 정상적으로 선택 됐습니다.",type:"success"})):this.$notify({text:"선택된 거래처가 없습니다.",type:"error"})},async fullClient(){if(this.material_code){this.isVisible2=!this.isVisible2;let e=await Re.A.get(`${Ae}/material/fullClient`).catch((e=>console.log(e)));this.clientdate=e.data,console.log(e.data)}}}};const gm=(0,ne.A)(fm,[["render",ym]]);var km=gm;const bm=(0,o.Lk)("div",null,[(0,o.Lk)("h4",{style:{"margin-bottom":"0px"}},"    자재주문")],-1),Lm={class:"grid-container",style:{"padding-top":"0px"}},vm={style:{display:"none"}};function xm(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay"),d=(0,o.g2)("matelList"),u=(0,o.g2)("Modal"),p=(0,o.g2)("flat-pickr");return(0,o.uX)(),(0,o.CE)(o.FK,null,[bm,(0,o.Lk)("div",Lm,[(0,o.bF)(r,{rowData:n.materialdate,columnDefs:n.materialcolumnDefs,theme:n.theme,pagination:!0,paginationPageSize:50,onGridReady:i.onReady,style:{height:"387px"},rowSelection:"multiple",singleClickEdit:!0,editOnFocus:!0,onCellValueChanged:i.onCellValueChanged,noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","onGridReady","onCellValueChanged","noRowsOverlayComponent"])]),(0,o.Lk)("div",vm,[(0,o.bF)(c)]),(0,o.Lk)("div",null,[(0,o.bF)(u,{isShowModal:n.isShowModal,modalTitle:"자재선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:i.closeModal,onConfirm:i.confirm},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(d,{onSelectmaterial:i.confirm},null,8,["onSelectmaterial"]),[[l.aG,n.isShowModal]])])),_:1},8,["isShowModal","onCloseModal","onConfirm"])]),(0,o.bF)(p,{class:"form-control custom-input",placeholder:"📅  ",modelValue:e.selectedDate,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedDate=t),config:e.dateConfig},null,8,["modelValue","config"])],64)}const wm=e=>((0,o.Qi)("data-v-9d5d4a92"),e=e(),(0,o.jt)(),e),_m={class:"modal-content"},Cm={class:"modal-header"},Dm={class:"modal-title fs-5",id:"exampleModalLabel"},Sm=wm((()=>(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),Nm={class:"modal-body"},Mm={class:"modal-footer"};function Rm(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal}]),onClick:t[2]||(t[2]=(0,l.D$)(((...e)=>i.closeModal&&i.closeModal(...e)),["self"])),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",style:(0,d.Tr)({maxWidth:a.width+"px"})},[(0,o.Lk)("div",_m,[(0,o.Lk)("div",Cm,[(0,o.Lk)("h1",Dm,(0,d.v_)(a.modalTitle),1),Sm]),(0,o.Lk)("div",Nm,[(0,o.RG)(e.$slots,"list",{},(()=>[(0,o.eW)("slot")]),!0)]),(0,o.Lk)("div",Mm,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>i.closeModal&&i.closeModal(...e))},(0,d.v_)(a.noBtn),1),(0,o.Lk)("button",{type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=(...e)=>i.confirm&&i.confirm(...e))},(0,d.v_)(a.yesBtn),1)])])],4)],2)}var Am={name:"Modal",props:{isShowModal:Boolean,modalTitle:String,noBtn:String,yesBtn:String,width:Number},data(){return{modalState:this.isShowModal}},methods:{closeModal(){this.$emit("closeModal")},confirm(){this.$emit("confirm")}}};const Im=(0,ne.A)(Am,[["render",Rm],["__scopeId","data-v-9d5d4a92"]]);var Em=Im;const Fm={class:"grid-container"},Pm={style:{display:"none"}};function Om(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.inputListsearch=e),class:"text-center styled-input",placeholder:"자재명 입력하세요"},null,512),[[l.Jo,n.inputListsearch]]),(0,o.Lk)("div",Fm,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnMateriallist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:e.noRowsOverlayComponent,onRowClicked:i.selectMaterial,rowSelection:"single"},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",Pm,[(0,o.bF)(c)])],64)}var qm={name:"MaterialList",data(){return{rowData:[],theme:ko,selectedCom:"",columnMateriallist:[{headerName:"자재코드",field:"material_code",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}},{headerName:"자재명",field:"material_name",resizable:!0,sortable:!0,flex:3,cellStyle:{textAlign:"left"}},{headerName:"안전재고",field:"safety_inventory",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){if(e.data.material_name.includes("병")){const t=e.value.toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}{const t=e.value.toLocaleString()+" kg";return`<span style="text-align: right;">${t}</span>`}}return'<span style="text-align: right;"></span>'}},{headerName:"현재재고",field:"stok_qty",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){if(e.data.material_name.includes("병")){const t=e.value.toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}{const t=e.value.toLocaleString()+" kg";return`<span style="text-align: right;">${t}</span>`}}return'<span style="text-align: right;"></span>'}}],inputListsearch:""}},created(){this.getMaterialList()},methods:{async getMaterialList(){let e=await Re.A.get(`${Ae}/material/material_list`).catch((e=>console.log(e)));this.rowData=e.data.map((e=>({...e,stok_qty:e.material_name&&e.material_name.includes("병")?Number(e.stok_qty).toLocaleString():(.001*e.stok_qty).toLocaleString(),safety_inventory:e.material_name&&e.material_name.includes("병")?Number(e.safety_inventory).toLocaleString():(.001*e.safety_inventory).toLocaleString()})))},selectMaterial(e){const t=e.data;this.$emit("selectmaterial",t)},onReady(e){this.gridApi=e.api,e.api.sizeColumnsToFit();const t=document.querySelectorAll(".ag-paging-panel"),a=t[0];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t)}}}};const $m=(0,ne.A)(qm,[["render",Om],["__scopeId","data-v-490aa4a2"]]);var Tm=$m,jm={components:{CustomNoRowsOverlay:Hs,Modal:Em,matelList:Tm},props:{planMaterialList:{type:Array,required:!0,default:()=>[]},clientList:{type:Array,required:!0,default:()=>[]}},watch:{planMaterialList:{handler(e){this.materialdate=e.map((e=>({...e})))},immediate:!0},clientList:{handler(e){e.length&&(this.clientdata=e.map((e=>({...e}))),this.poListSum())},immediate:!0}},data(){return{isShowModal:!1,noRowsOverlayComponent:"CustomNoRowsOverlay",materialcolumnDefs:[{headerCheckboxSelection:!0,checkboxSelection:!0,headerName:"",width:45},{headerName:"자재코드",field:"material_code",width:110,cellStyle:{textAlign:"center"}},{headerName:"자재명",field:"material",cellStyle:{textAlign:"left"}},{headerName:"자재재고",field:"stok_qty",width:110,cellStyle:{textAlign:"right"}},{headerName:"안전재고",field:"safety_inventory",width:110,cellStyle:{textAlign:"right"}},{headerName:"계획재고",field:"plan_qty",width:110,cellStyle:{textAlign:"right"}},{headerName:"발주재고",field:"ordering_qty",width:110,cellStyle:{textAlign:"right"}},{headerName:"필요수량",field:"need_qty",width:110,cellStyle:{textAlign:"right"}},{headerName:"거래처",width:110,cellStyle:{textAlign:"center"},field:"선택",editable:!1,cellRenderer:e=>{const t=document.createElement("div");t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.height="100%";const a=document.createElement("button");return a.innerText="선택하기",a.style.cursor="pointer",a.style.backgroundColor="#4caf50",a.style.width="60px",a.style.height="30px",a.style.color="white",a.style.border="none",a.style.borderRadius="4px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.addEventListener("click",(()=>{this.$emit("seachClient",e.data.material_code,e.data.material)})),t.appendChild(a),t}},{headerName:"거래처명",field:"com_name",cellStyle:{textAlign:"left"}},{headerName:"발주량",field:"go_qty",width:100,editable:!0,cellStyle:{cursor:"text",textAlign:"right"},cellRenderer:e=>{if(e.value){if(e.data.material.includes("병")){const t=e.value.toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}{const t=e.value.toLocaleString()+" kg";return`<span style="text-align: right;">${t}</span>`}}return'<span style="display: flex; align-items: center; justify-content: flex-start; height: 100%;"><i class="fas fa-edit" style="color: #6c757d88"></i></span>'}},{headerName:"단가",field:"go_price",width:100,editable:!0,cellStyle:{cursor:"text",textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString()+" 원";return`<span style="text-align: right;">${t}</span>`}return'<span style="display: flex; align-items: center; justify-content: flex-start; height: 100%;"><i class="fas fa-edit" style="color: #6c757d88"></i></span>'}},{headerName:"총금액",field:"go_total_price",width:130,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString()+" 원";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"납기일",field:"limit_date",width:130,editable:!0,cellEditor:"agDateCellEditor",cellStyle:{cursor:"text",textAlign:"right"},cellRenderer:e=>{if(e.value){const t=new Date(e.value);if(isNaN(t.getTime()))return e.value;const a=t.toISOString().split("T")[0];return`<span style="text-align: right;">${a}</span>`}return'<span style="text-align: right;"><i class="far fa-calendar-alt" style="color: #6c757d88"></i></span>'},cellEditorParams:{dateFormat:"yyyy-MM-dd"},valueFormatter:e=>{if(!e.value)return"";const t=new Date(e.value);return isNaN(t.getTime())?e.value:t.toISOString().split("T")[0]}},{headerName:"발주제거",field:"행삭제",editable:!1,width:110,cellStyle:{textAlign:"center"},cellRenderer:e=>{const t=document.createElement("div");t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.height="100%";const a=document.createElement("button");return a.innerText="주문삭제",a.style.cursor="pointer",a.style.backgroundColor="#f44335",a.style.width="60px",a.style.height="30px",a.style.color="white",a.style.border="none",a.style.borderRadius="4px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.addEventListener("click",(()=>{console.log(e.data.com_name),e.data.com_name?this.materialdate=this.materialdate.filter((function(t){return!(t.material_code===e.data.material_code&&t.com_name===e.data.com_name)})):this.materialdate=this.materialdate.filter((function(t){return t.material_code!==e.data.material_code}))})),t.appendChild(a),t}}],materialdate:[],clientdata:[],theme:ko}},methods:{onReady(e){this.gridApi=e.api,e.api.sizeColumnsToFit();const t=document.querySelectorAll(".ag-paging-panel"),a=t[2];if(a){const e=document.createElement("button");e.textContent="발주진행",e.style.marginRight="10px",e.style.cursor="pointer",e.style.backgroundColor="#4caf50",e.style.color="white",e.style.border="none",e.style.padding="5px 10px",e.style.borderRadius="4px",e.style.position="absolute",e.style.left="10px",e.addEventListener("click",(()=>{console.log("발주진행 버튼 클릭"),this.allInput2()})),a.insertBefore(e,a.firstChild);const t=document.createElement("button");t.textContent="개별주문",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#0077ff",t.style.color="white",t.style.border="none",t.style.padding="5px 10px",t.style.borderRadius="4px",t.style.position="absolute",t.style.left="100px",t.addEventListener("click",(()=>{console.log("개별주문 버튼 클릭"),this.isShowModal=!this.isShowModal,console.log(this.isShowModal)})),a.insertBefore(t,a.firstChild)}},closeModal(){this.isShowModal=!1},confirm(e){console.log("모달확인",e),this.closeModal();const t={material_code:e.material_code,material:e.material_name+" (개별주문)"};this.materialdate.push(t),this.materialdate=[...this.materialdate]},onCellValueChanged(e){const{data:t}=e;if(t.go_qty||t.go_price){const a=parseFloat(t.go_qty)||0,l=parseFloat(t.go_price)||0;t.go_total_price=a*l,e.api.applyTransaction({update:[t]})}},poListSum(){let e="NO",t=this.materialdate.length;for(let a=0;a<t;a++){for(let t=0;t<this.clientdata.length;t++){if(console.log(e),"OK"==e){console.log(e);const l={...this.materialdate[a],com_name:this.clientdata[t]["com_name"],emp_name:this.clientdata[t]["emp_name"],emp_tel:this.clientdata[t]["emp_tel"],client_num:this.clientdata[t]["client_num"]};this.materialdate.push(l)}this.materialdate[a]["material_code"]!==this.clientdata[t]["material_code"]||this.materialdate[a]["com_name"]||(console.log("매치되었음"),this.materialdate[a]["com_name"]=this.clientdata[t]["com_name"],this.materialdate[a]["emp_name"]=this.clientdata[t]["emp_name"],this.materialdate[a]["emp_tel"]=this.clientdata[t]["emp_tel"],this.materialdate[a]["client_num"]=this.clientdata[t]["client_num"],e="OK")}if("OK"==e)break}this.materialdate.sort(((e,t)=>e.material_code.localeCompare(t.material_code))),this.materialdate=[...this.materialdate]},allInput2(){const e=this.gridApi.getSelectedRows();if(console.log(e),e.length>0){let t="OK";e.forEach((e=>{if(e.limit_date){const t=new Date(e.limit_date);e.limit_date=t.toISOString().split("T")[0]}if(!e.com_name||!e.go_qty||!e.go_price||!e.limit_date)return this.$notify({text:"선택한 행의 값을 모두 채워주세요.",type:"error"}),void(t="NO")})),"OK"===t&&this.$emit("goPOlist",e)}else this.$notify({text:"선택된 자재가 없습니다.",type:"error"})}}};const Qm=(0,ne.A)(jm,[["render",xm]]);var Um=Qm,Jm={name:"myBestPage",components:{newMaterialOrderPlan:um,newMaterialOrderList:km,newMaterialOrderOffer:Um,MaterialProgress:rm},data(){return{loginInfo:{},showprogress2:!1,productorderlist:[],planMaterialList:[],material_code:"",material_name:"",clientList:[],polist:[],my_result:"OK",number:0}},computed:{},methods:{...(0,oe.PY)(["addLoginInfo"]),async productorder(){if(this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"자재"===this.loginInfo.job||"관리자"===this.loginInfo.position){let e=await Re.A.get(`${Ae}/material/orderplan`).catch((e=>console.log(e)));this.productorderlist=e.data}else this.$notify({text:"자재팀 또는 관리자만 접속 가능합니다.",type:"error"}),this.$router.push({name:"MainPage"})},needMaterialList(e){this.planMaterialList=[],this.planMaterialList=e,console.log("부모에서 받은 자재 리스트:",this.planMaterialList)},seachClienting(e,t){this.material_code=e,this.material_name=t,console.log("부모에서 받은 자재 코드:",this.material_code,this.material_name)},needClientList(e){this.clientList=e,console.log("부모한테 받은 회사코드",this.clientList),this.material_code="",this.material_name=""},async letGoPoList(e){this.polist=e,console.log("부모한테 받은 발주서 : ",this.polist),this.polist=this.polist.map((e=>({...e,emp_num:this.loginInfo.emp_num,go_qty:e.material.includes("병")?Number(e.go_qty):1e3*Number(e.go_qty),go_price:e.material.includes("병")?Number(e.go_price):1e3*Number(e.go_price),go_total_price:e.material.includes("병")?Number(e.go_total_price):1e3*Number(e.go_total_price)})));let t=new Date;t=t.getTime();let a=100/this.polist.length;this.showprogress2=!0;for(let l=0;l<this.polist.length;l++)this.number=this.number+a,await this.inputpolist(t,this.polist[l]);"OK"===this.my_result?(this.showprogress2=!1,this.number=0,this.$notify({text:"발주 등록에 성공 하셨습니다.",type:"success"}),this.$router.push({name:"materialOrderList"})):(this.showprogress2=!1,this.number=0,this.$notify({text:this.my_result+"발주 오류 관리자 호출 해주세요.",type:"error"}))},async inputpolist(e,t){let a=await Re.A.post(`${Ae}/material/inputPoLIst2/${e}`,t).catch((e=>console.log(e)));this.productorderlist=a.data,"OK"!==this.productorderlist[0][0]["v_result"]&&(this.my_result=this.productorderlist[0][0]["v_result"])}},created(){this.productorder()}};const zm=(0,ne.A)(Jm,[["render",Hp]]);var Bm=zm;const Vm=e=>((0,o.Qi)("data-v-d31f08cc"),e=e(),(0,o.jt)(),e),Wm=["onClick"],Gm={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Xm={class:"modal-content"},Km=Vm((()=>(0,o.Lk)("div",{class:"modal-header",style:{"background-color":"#e9ecef"}},[(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"발주서 취소"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Hm={key:0,class:"modal-body"},Ym={class:"container my-4"},Zm={class:"table-responsive"},eh={class:"table table-bordered align-middle"},th=Vm((()=>(0,o.Lk)("th",null,"발주번호",-1))),ah=Vm((()=>(0,o.Lk)("th",{scope:"row"},"담당",-1))),lh=Vm((()=>(0,o.Lk)("th",null,"자재명",-1))),oh={class:"text-dark",style:{"font-weight":"bold"}},sh=Vm((()=>(0,o.Lk)("th",null,"업체",-1))),nh={class:"text-dark",style:{"font-weight":"bold"}},ih=Vm((()=>(0,o.Lk)("th",null,"주문수량",-1))),rh={class:"text-dark",style:{"font-weight":"bold"}},ch=Vm((()=>(0,o.Lk)("th",null,"주문일",-1))),dh=Vm((()=>(0,o.Lk)("th",null,"단가",-1))),uh=Vm((()=>(0,o.Lk)("th",null,"총액",-1))),ph={class:"modal-footer"};var mh={__name:"materialOrderListModal",props:{isShowModal:Boolean,deleteList:Object,totalcanceNO_display:Boolean},emits:["closeModal","confirm"],setup(e,{emit:t}){const{isShowModal:a,deleteList:s,totalcanceNO_display:n}=e;console.log(s);const i=()=>{t("closeModal")},r=e=>{t("confirm",e)};return(t,a)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:e.isShowModal}]),onClick:(0,l.D$)(i,["self"]),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",Gm,[(0,o.Lk)("div",Xm,[Km,e.isShowModal?((0,o.uX)(),(0,o.CE)("div",Hm,[(0,o.Lk)("div",Ym,[(0,o.Lk)("div",Zm,[(0,o.Lk)("table",eh,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[th,(0,o.Lk)("td",null,(0,d.v_)(e.deleteList.order_code),1),ah,(0,o.Lk)("td",null,(0,d.v_)(e.deleteList.name),1)]),(0,o.Lk)("tr",null,[lh,(0,o.Lk)("td",oh,(0,d.v_)(e.deleteList.material_name),1),sh,(0,o.Lk)("td",nh,(0,d.v_)(e.deleteList.com_name),1)]),(0,o.Lk)("tr",null,[ih,(0,o.Lk)("td",rh,(0,d.v_)(e.deleteList.ord_qty),1),ch,(0,o.Lk)("td",null,(0,d.v_)(e.deleteList.order_date),1)]),(0,o.Lk)("tr",null,[dh,(0,o.Lk)("td",null,(0,d.v_)(e.deleteList.unit_price),1),uh,(0,o.Lk)("td",null,(0,d.v_)(e.deleteList.total_price),1)])])])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",ph,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:i},"닫기"),e.totalcanceNO_display?((0,o.uX)(),(0,o.CE)("button",{key:0,type:"button",class:"btn",style:{"background-color":"#f44335",color:"white"},onClick:a[0]||(a[0]=e=>r(1))},"전체취소")):(0,o.Q3)("",!0),(0,o.Lk)("button",{type:"button",class:"btn",style:{"background-color":"#fb8c00",color:"white"},onClick:a[1]||(a[1]=e=>r(2))},"자재취소")])])])],10,Wm))}};const hh=(0,ne.A)(mh,[["__scopeId","data-v-d31f08cc"]]);var yh=hh;const fh=e=>((0,o.Qi)("data-v-a46e257e"),e=e(),(0,o.jt)(),e),gh=fh((()=>(0,o.Lk)("div",{class:"p-3"},[(0,o.Lk)("h3",null,"  자재 발주 조회")],-1))),kh={class:"main-container"},bh={class:"content",style:{height:"250px"}},Lh={class:"row gx-3 gy-2 align-items-center"},vh={class:"col-sm-2"},xh=fh((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialCode"},"자재명",-1))),wh=["onKeydown"],_h={class:"col-sm-2"},Ch=fh((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"clientName"},"업체명",-1))),Dh=["onKeydown"],Sh={class:"col-sm-2"},Nh=fh((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"POListCode"},"자재발주코드",-1))),Mh=["onKeydown"],Rh={class:"col-sm-2"},Ah=fh((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialState"},"발주 상태",-1))),Ih={id:"materialState",style:{"padding-left":"20px",display:"inline-flex","align-items":"center",gap:"15px","white-space":"nowrap"}},Eh={style:{"white-space":"nowrap"}},Fh={style:{"white-space":"nowrap"}},Ph={style:{"white-space":"nowrap"}},Oh={class:"row gx-3 gy-2 mt-2"},qh={class:"col-sm-2"},$h=fh((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"startDate"},"발주일(부터)",-1))),Th={class:"input-group"},jh=["onKeydown"],Qh={class:"col-sm-2"},Uh=fh((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"endDate"},"발주일(까지)",-1))),Jh={class:"input-group"},zh=["onKeydown"],Bh={class:"grid-container",style:{"padding-top":"10px"}};var Vh={__name:"materialOrderList",setup(e){const{notify:t}=(0,Te.hN)(),a=(0,st.rd)(),s=(0,oe.Pj)(),n=(0,lo.KR)({}),i=()=>{n.value=s.state.loginInfo,"자재"===n.value.job||"관리자"===n.value.position?console.log(n.value.job):(t({text:"자재팀 또는 관리자만 접속 가능합니다.",type:"error"}),a.push({name:"MainPage"}))},r=(0,lo.KR)(""),c=(0,lo.KR)(""),d=(0,lo.KR)(""),u=(0,lo.KR)(""),p=(0,lo.KR)(""),m=(0,lo.KR)([]),h=(0,lo.KR)({}),y=(0,lo.KR)([]),f=()=>{r.value="",c.value="",d.value="",u.value="",p.value="",m.value=[],h.value={materialCode:"",clientName:"",POListCode:"",startDate:"",endDate:"",materialState:[]},E()},g=(0,lo.KR)(null),k=()=>{if(g.value){const e=g.value.api;e.exportDataAsCsv({fileName:"자재_발주_리스트.csv"})}},b=()=>{console.log(r.value),console.log(c.value),console.log(d.value),console.log(u.value),console.log(p.value),console.log(m.value),h.value={materialCode:r.value,clientName:c.value,POListCode:d.value,startDate:u.value,endDate:p.value,materialState:m.value},E()},L=(0,lo.KR)([{headerName:"No.",field:"body_num",width:75,cellStyle:{textAlign:"center"}},{headerName:"자재발주코드",field:"order_code",width:130,cellStyle:{textAlign:"center"}},{headerName:"자재명",field:"material_name",cellStyle:{textAlign:"left"}},{headerName:"업체명",field:"com_name",width:150,cellStyle:{textAlign:"left"}},{headerName:"발주수량",field:"ord_qty",width:110,cellStyle:{textAlign:"right"}},{headerName:"발주날짜",field:"order_date",width:110,cellStyle:{textAlign:"center"}},{headerName:"납기기한",field:"limit_date",width:110,cellStyle:{textAlign:"center"}},{headerName:"단가",field:"unit_price",width:110,cellStyle:{textAlign:"right"}},{headerName:"금액",field:"total_price",width:110,cellStyle:{textAlign:"right"}},{headerName:"발주담당",field:"name",width:100,cellStyle:{textAlign:"center"}},{headerName:"상태",field:"material_state",width:100,cellStyle:{textAlign:"center"},cellRenderer:e=>e.value?"발주등록"===e.data.material_state&&"검사요청완료"===e.data.inspec_status?"입고검사중":"발주등록"===e.data.material_state&&"검사완료"===e.data.inspec_status?"입고대기중":e.value:void 0},{headerName:"출력",field:"비고",width:100,editable:!1,cellRenderer:e=>{const t=document.createElement("div");t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.height="100%";const a=document.createElement("button");return a.innerText="발주서",a.style.cursor="pointer",a.style.backgroundColor="#4caf50",a.style.width="60px",a.style.height="30px",a.style.color="white",a.style.border="none",a.style.borderRadius="4px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.addEventListener("click",(()=>{console.log("발주서출력 : ",JSON.stringify(e.data)),C(e.data)})),t.appendChild(a),t}},{headerName:"취소",field:"취소",width:100,editable:!1,cellRenderer:e=>{if("발주등록"===e.data.material_state&&!e.data.inspec_status){const t=document.createElement("div");t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.height="100%";const a=document.createElement("button");return a.innerText="취소",a.style.cursor="pointer",a.style.backgroundColor="#f44335",a.style.width="60px",a.style.height="30px",a.style.color="white",a.style.border="none",a.style.borderRadius="4px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.addEventListener("click",(()=>{console.log("주문취소 : ",JSON.stringify(e.data)),console.log(e.data.order_code);const t=I.value.find((t=>t.order_code===e.data.order_code&&t.inspec_status));t&&(v.value=!1),y.value=e.data,console.log("모달 오픈"),D.value=!0})),t.appendChild(a),t}}}]),v=(0,lo.KR)(!0),x=async function(e){console.log(e);let t=await Re.A.get(`${Ae}/material/fullClientKeyWord/${e}`).catch((e=>console.log(e)));return t.data};function w(e){e=e.toString();const t=`${e.slice(0,3)}-${e.slice(3,5)}-${e.slice(5)}`;return t}const _=async function(e){let t=await Re.A.get(`${Ae}/material/matBodyList/${e}`).catch((e=>console.log(e)));return t.data},C=async e=>{const t=await x(e.com_name);t.value=t[0],t.value.com_num=w(t.value.com_num),console.log(t.value.emp_name);const a=await _(e.order_code);console.log(a);let l="",o=0;a.forEach(((e,t)=>{o+=e.material_name.includes("병")?e.total_price:.001*e.total_price,l+=`\n         <tr>\n            <td style="text-align: center;">${t+1}</td>\n            <td style="text-align: center;">${e.material_code}</td>\n            <td>${e.material_name}</td>\n            <td style="text-align: right;">${e.material_name.includes("병")?e.ord_qty.toLocaleString():(.001*e.ord_qty).toLocaleString()}</td>\n            <td style="text-align: center;">${e.material_name.includes("병")?"개":"kg"}</td>\n            <td style="text-align: right;">${(e.material_name.includes("병")?e.unit_price.toLocaleString():.001*e.unit_price).toLocaleString()}</td>\n            <td style="text-align: center;">원</td>\n            <td style="text-align: right;">${(e.material_name.includes("병")?e.total_price.toLocaleString():.001*e.total_price).toLocaleString()}</td>\n            <td style="text-align: center;">원</td>\n         </tr>\n      `}));const s=`\n      <html>\n      <head>\n      <meta charset="UTF-8">\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n      <title>네이처 블렌드 발주서</title>\n      <style>\n         body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 0;\n            line-height: 1.5;\n         }\n         .container {\n            width: 100%;\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 20px;\n            border: 1px solid black;\n         }\n         table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-bottom: 20px;\n         }\n         th {\n            border: 1px solid black;\n            padding: 8px;\n            text-align: center;\n         }\n         td {\n            border: 1px solid black;\n            padding: 8px;\n            text-align: left;\n         }\n         th {\n            background-color: #f4f4f4;\n         }\n         .note {\n            margin: 10px 0;\n            font-weight: bold;\n            text-align: left;\n         }\n         .compact td {\n            padding: 5px;\n         }\n         @media print {\n            .no-print {\n               display: none;\n            }\n         }\n      </style>\n      </head>\n      <body>\n      <div class="container">\n         <button class="btn no-print" style="background-color: #4caf50; color: white;" onclick="window.print()">출력하기</button>\n         <h1 style="text-align: center;">발 주 서</h1>\n         <table>\n            <tr>\n            <th>발주일자</th>\n            <td>${e.order_date}</td>\n            <th>납품일자</th>\n            <td>${e.limit_date}</td>\n            </tr>\n            <tr>\n            <th>발주번호</th>\n            <td>${e.order_code}</td>\n            <th>납품장소</th>\n            <td>대구 중구 중앙대로 403 5층(네이처 블렌드)</td>\n            </tr>\n            <tr>\n            <th>상호</th>\n            <td>${e.com_name}</td>\n            <th>등록번호</th>\n            <td>${t.value.com_num}</td>\n            </tr>\n            <tr>\n            <th>전화번호</th>\n            <td>${t.value.emp_tel}</td>\n            <th>담당자</th>\n            <td>${t.value.emp_name}</td>\n            </tr>\n            <tr>\n            <th>총액</th>\n            <td style="text-align: right;">${o.toLocaleString()} 원</td>\n            <th>업체주소</th>\n            <td>${t.value.address}</td>\n            </tr>\n         </table>\n\n         <table>\n            <tr>\n            <th>NO</th>\n            <th>품목코드</th>\n            <th>품목</th>\n            <th>수량</th>\n            <th>단위</th>\n            <th>단가</th>\n            <th>단위</th>\n            <th>총액</th>\n            <th>단위</th>\n            </tr>\n            ${l}\n         </table>\n\n         <div class="note">NOTE : 유선통화 내용 바탕으로 발주 넣었습니다.</div>\n\n         <table>\n            <tr>\n               <th class="merged-cell" rowspan="3">접수처</th>\n               <th>접수일자</th>\n               <td>${e.order_date}</td>\n               <th class="merged-cell" rowspan="3">결재</th>\n               <th>발주담당자</th>\n               <th>출고거래처</th>\n               <th>입고관리자</th>\n            </tr>\n            <tr>\n               <th>접수번호</th>\n               <td>${e.order_code}</td>\n               <td rowspan="2" style="text-align: center;">${e.name}</td>\n               <td rowspan="2">&nbsp;</td>\n               <td rowspan="2">&nbsp;</td>\n            </tr>\n            <tr>\n               <th>접수자</th>\n               <td>${e.name}</td>\n            </tr>\n         </table>\n      </div>\n      </body>\n      </html>\n   `,n=window.open("","_blank","width=1000,height=1000");n.document.open(),n.document.write(s),n.document.close()},D=(0,lo.KR)(!1),S=()=>{D.value=!1,v.value=!0,t({text:"발주를 취소하지 않았습니다.",type:"error"})},N=e=>{if(console.log("모달 확인 버튼 클릭됨",y.value),console.log("deleteNum : ",e),v.value=!0,D.value=!1,e){const t={deleteNum:e,body_num:y.value.body_num,order_code:y.value.order_code};M(t)}else t({text:"관리자 문의 부탁드립니다.",type:"error"})},M=async function(e){console.log(e);let a=await Re.A.post(`${Ae}/material/poListDelete`,e).catch((e=>console.log(e)));console.log(a.data),a.data.affectedRows>=1&&(t({text:"삭제 완료 했습니다.",type:"success"}),E())},R=e=>{e.preventDefault(),b()},A=e=>{e.api.sizeColumnsToFit()},I=(0,lo.KR)([]),E=async function(){let e=await Re.A.put(`${Ae}/material/polistorder2`,h.value).catch((e=>console.log(e)));console.log(e.data),I.value=e.data.map((e=>({...e,ord_qty:e.material_name.includes("병")?Number(e.ord_qty).toLocaleString()+" 개":(.001*Number(e.ord_qty)).toLocaleString()+" kg",order_date:Ho.dateFormat(e.order_date,"yyyy-MM-dd"),limit_date:Ho.dateFormat(e.limit_date,"yyyy-MM-dd"),unit_price:e.material_name.includes("병")?Number(e.unit_price).toLocaleString()+" 원":Number(.001*e.unit_price).toLocaleString()+" 원",total_price:e.material_name.includes("병")?Number(e.total_price).toLocaleString()+" 원":Number(.001*e.total_price).toLocaleString()+" 원"})))};return(0,o.KC)((()=>{E(),i()})),(e,t)=>{const a=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)(o.FK,null,[gh,(0,o.Lk)("div",kh,[(0,o.Lk)("div",bh,[(0,o.Lk)("form",Lh,[(0,o.Lk)("div",vh,[xh,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"materialCode","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),onKeydown:(0,l.jR)(R,["enter"]),autocomplete:"off"},null,40,wh),[[l.Jo,r.value]])]),(0,o.Lk)("div",_h,[Ch,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"clientName","onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),onKeydown:(0,l.jR)(R,["enter"]),autocomplete:"off"},null,40,Dh),[[l.Jo,c.value]])]),(0,o.Lk)("div",Sh,[Nh,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"POListCode","onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),onKeydown:(0,l.jR)(R,["enter"]),autocomplete:"off"},null,40,Mh),[[l.Jo,d.value]])]),(0,o.Lk)("div",Rh,[Ah,(0,o.Lk)("div",Ih,[(0,o.Lk)("label",Eh,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"a1","onUpdate:modelValue":t[3]||(t[3]=e=>m.value=e)},null,512),[[l.lH,m.value]]),(0,o.eW)("  발주등록")]),(0,o.Lk)("label",Fh,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"a3","onUpdate:modelValue":t[4]||(t[4]=e=>m.value=e)},null,512),[[l.lH,m.value]]),(0,o.eW)("  발주취소")]),(0,o.Lk)("label",Ph,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"a4","onUpdate:modelValue":t[5]||(t[5]=e=>m.value=e)},null,512),[[l.lH,m.value]]),(0,o.eW)("  발주완료")])])])]),(0,o.Lk)("div",Oh,[(0,o.Lk)("div",qh,[$h,(0,o.Lk)("div",Th,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"startDate","onUpdate:modelValue":t[6]||(t[6]=e=>u.value=e),onKeydown:(0,l.jR)(R,["enter"])},null,40,jh),[[l.Jo,u.value]])])]),(0,o.Lk)("div",Qh,[Uh,(0,o.Lk)("div",Jh,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"endDate","onUpdate:modelValue":t[7]||(t[7]=e=>p.value=e),onKeydown:(0,l.jR)(R,["enter"])},null,40,zh),[[l.Jo,p.value]])])])]),(0,o.Lk)("div",{class:"col-auto mt-1 text-center"},[(0,o.Lk)("button",{type:"button",class:"btn me-5",style:{"background-color":"#4caf50",color:"white"},onClick:b},"조회"),(0,o.Lk)("button",{type:"button",class:"btn me-5",style:{"background-color":"#fb8c00",color:"white"},onClick:f},"초기화"),(0,o.Lk)("button",{type:"button",class:"btn",style:{"background-color":"#0077ff",color:"white"},onClick:k},"엑셀다운")])])]),(0,o.Lk)("div",Bh,[(0,o.bF)(a,{ref_key:"gridRef",ref:g,rowData:I.value,columnDefs:L.value,theme:(0,lo.R1)(ko),pagination:!0,paginationPageSize:9,paginationPageSizeSelector:[9,20,50,100],onGridReady:A,style:{height:"471px"},rowSelection:"multiple",noRowsOverlayComponent:Hs},null,8,["rowData","columnDefs","theme"])]),(0,o.Lk)("div",null,[(0,o.bF)(yh,{isShowModal:D.value,deleteList:y.value,totalcanceNO_display:v.value,onCloseModal:S,onConfirm:N},null,8,["isShowModal","deleteList","totalcanceNO_display"])])],64)}}};const Wh=(0,ne.A)(Vh,[["__scopeId","data-v-a46e257e"]]);var Gh=Wh;const Xh=e=>((0,o.Qi)("data-v-20daadf4"),e=e(),(0,o.jt)(),e),Kh=["onClick"],Hh={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Yh={class:"modal-content"},Zh=Xh((()=>(0,o.Lk)("div",{class:"modal-header",style:{"background-color":"#e9ecef"}},[(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"입고하기"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ey={key:0,class:"modal-body"},ty={class:"container-fluid pl-4 pr-4 pt-0 pm-0"},ay={class:"row"},ly={class:"col-12"},oy={class:"card my-4 pb-2",style:{"border-radius":"10px"}},sy={class:"card-body px-0 pb-0 pt-0",style:{"background-color":"#fb8c00","border-radius":"10px"}},ny={class:"table align-items-center mb-0"},iy=Xh((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-center text-light text-xs font-weight-bolder ps-2"}," 발주코드 "),(0,o.Lk)("th",{class:"text-center text-light text-xs font-weight-bolder ps-2"}," 자재명 "),(0,o.Lk)("th",{class:"text-center text-light text-xs font-weight-bolder ps-2"}," 정상수량 "),(0,o.Lk)("th",{class:"text-center text-light text-xs font-weight-bolder ps-2"}," 창고선택 "),(0,o.Lk)("th",{class:"text-center text-light text-xs font-weight-bolder ps-2"}," 불량수량 "),(0,o.Lk)("th",{class:"text-center text-light text-xs font-weight-bolder ps-2"}," 창고선택 ")])],-1))),ry={key:0,style:{"background-color":"white"}},cy={class:"text-xxs font-weight-bolder ps-2 text-center"},dy={class:"align-middle text-dark text-bold",style:{"text-align":"left"}},uy={class:"align-middle text-bold",style:{color:"#4caf50"}},py={class:"text-xxs font-weight-bolder ps-2"},my=["onUpdate:modelValue"],hy=Xh((()=>(0,o.Lk)("option",{disabled:"",value:""},"창고선택",-1))),yy=["value"],fy={class:"align-middle text-bold",style:{color:"#f44335"}},gy={class:"text-xxs font-weight-bolder ps-2"},ky=["onUpdate:modelValue"],by=Xh((()=>(0,o.Lk)("option",{disabled:"",value:""},"창고선택",-1))),Ly=["value"];var vy={__name:"materialInputModal",props:{isShowModal:Boolean,nuwList:Array,whList:Array},emits:["closeModal","confirm"],setup(e,{emit:t}){const{isShowModal:a,nuwList:s,whList:n}=e,i=()=>{t("closeModal")},r=()=>{t("confirm",s)};return(t,a)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:e.isShowModal}]),onClick:(0,l.D$)(i,["self"]),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",Hh,[(0,o.Lk)("div",Yh,[Zh,e.isShowModal?((0,o.uX)(),(0,o.CE)("div",ey,[(0,o.Lk)("div",ty,[(0,o.Lk)("div",ay,[(0,o.Lk)("div",ly,[(0,o.Lk)("div",oy,[(0,o.Lk)("div",sy,[(0,o.Lk)("table",ny,[iy,e.nuwList.length?((0,o.uX)(),(0,o.CE)("tbody",ry,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.nuwList,(t=>((0,o.uX)(),(0,o.CE)("tr",{key:t.order_code},[(0,o.Lk)("td",cy,(0,d.v_)(t.order_code),1),(0,o.Lk)("td",dy,(0,d.v_)(t.material_name),1),(0,o.Lk)("td",uy,(0,d.v_)(t.pass_qnt),1),(0,o.Lk)("td",py,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e=>t.warehouse1=e,class:"form-select text-center",style:(0,d.Tr)({color:""===t.warehouse1?"":e.whList.find((e=>e.warehouse_code===t.warehouse1))?.warehouse_name.includes("폐기")?"#f44335":"#4caf50",fontWeight:""===t.warehouse1?"":e.whList.find((e=>e.warehouse_code===t.warehouse1))?.warehouse_name.includes("폐기")?"normal":"bold"})},[hy,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.whList,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.warehouse_code,value:e.warehouse_code,style:(0,d.Tr)({color:e.warehouse_name.includes("폐기")?"#f44335":"#4caf50",fontWeight:e.warehouse_name.includes("폐기")?"normal":"bold"})},(0,d.v_)(e.warehouse_name),13,yy)))),128))],12,my),[[l.u1,t.warehouse1]])]),(0,o.Lk)("td",fy,(0,d.v_)(t.rjc_qnt),1),(0,o.Lk)("td",gy,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e=>t.warehouse2=e,class:"form-select text-center",style:(0,d.Tr)({color:t.warehouse2&&e.whList.find((e=>e.warehouse_code===t.warehouse2))?.warehouse_name.includes("폐기")?"#f44335":"#4caf50",fontWeight:t.warehouse2&&e.whList.find((e=>e.warehouse_code===t.warehouse2))?.warehouse_name.includes("폐기")?"bold":"normal"})},[by,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.whList,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.warehouse_code,value:e.warehouse_code,style:(0,d.Tr)({color:e.warehouse_name.includes("폐기")?"#f44335":"#4caf50",fontWeight:e.warehouse_name.includes("폐기")?"bold":"normal"})},(0,d.v_)(e.warehouse_name),13,Ly)))),128))],12,ky),[[l.u1,t.warehouse2]])])])))),128))])):(0,o.Q3)("",!0)])])])])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:i},"닫기"),(0,o.Lk)("button",{type:"button",class:"btn",style:{"background-color":"#4caf50",color:"white"},onClick:r},"입고")])])])],10,Kh))}};const xy=(0,ne.A)(vy,[["__scopeId","data-v-20daadf4"]]);var wy=xy;const _y=e=>((0,o.Qi)("data-v-37fc4444"),e=e(),(0,o.jt)(),e),Cy={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Dy={class:"modal-content"},Sy={class:"modal-header",style:{"background-color":"#e9ecef"}},Ny={class:"modal-title fs-5",id:"exampleModalLabel"},My=_y((()=>(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),Ry={key:0,class:"modal-body"},Ay={class:"container mt-4"},Iy={key:0,class:"table table-bordered"},Ey=_y((()=>(0,o.Lk)("td",{class:"table-title"},"발주담당자",-1))),Fy=_y((()=>(0,o.Lk)("td",{class:"table-title"},"생산업체명",-1))),Py=_y((()=>(0,o.Lk)("td",{class:"table-title"},"발주코드",-1))),Oy=_y((()=>(0,o.Lk)("td",{class:"table-title"},"검수담당",-1))),qy=_y((()=>(0,o.Lk)("td",{class:"table-title"},"합격수량",-1))),$y={class:"highlight-green"},Ty=_y((()=>(0,o.Lk)("td",{class:"table-title"},"불량수량",-1))),jy={class:"highlight-red"},Qy={class:"table table-bordered text-center"},Uy=_y((()=>(0,o.Lk)("thead",{class:"table-light"},[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"검사코드"),(0,o.Lk)("th",null,"처리코드"),(0,o.Lk)("th",null,"사유"),(0,o.Lk)("th",null,"개수 (kg, 개)")])],-1))),Jy={style:{"text-align":"right"}},zy={key:1},By=_y((()=>(0,o.Lk)("td",{colspan:"4"},[(0,o.Lk)("h3",null,"불량 재고가 없습니다")],-1))),Vy=[By],Wy={class:"modal-footer"};function Gy(e,t,a,s,n,i){return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal2}]),onClick:t[1]||(t[1]=(0,l.D$)(((...e)=>i.closeModal2&&i.closeModal2(...e)),["self"])),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",Cy,[(0,o.Lk)("div",Dy,[(0,o.Lk)("div",Sy,[(0,o.Lk)("h1",Ny,"[ "+(0,d.v_)(a.inspection_data.material_name)+" ] 검수확인증",1),My]),a.isShowModal2?((0,o.uX)(),(0,o.CE)("div",Ry,[(0,o.Lk)("div",Ay,[n.resultdata&&Object.keys(n.resultdata).length>0?((0,o.uX)(),(0,o.CE)("table",Iy,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[Ey,(0,o.Lk)("td",null,(0,d.v_)(n.resultdata.Iname),1),Fy,(0,o.Lk)("td",null,(0,d.v_)(a.inspection_data.com_name),1)]),(0,o.Lk)("tr",null,[Py,(0,o.Lk)("td",null,(0,d.v_)(a.inspection_data.order_code),1),Oy,(0,o.Lk)("td",null,(0,d.v_)(n.resultdata.Qname),1)]),(0,o.Lk)("tr",null,[qy,(0,o.Lk)("td",$y,(0,d.v_)(a.inspection_data.pass_qnt),1),Ty,(0,o.Lk)("td",jy,(0,d.v_)(a.inspection_data.rjc_qnt),1)])])])):(0,o.Q3)("",!0),(0,o.Lk)("table",Qy,[Uy,(0,o.Lk)("tbody",null,[n.inspectionList.length?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(n.inspectionList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.qc_material_rjc_id},[(0,o.Lk)("td",null,(0,d.v_)(e.qc_material_rjc_id),1),(0,o.Lk)("td",null,(0,d.v_)(e.faulty_code),1),(0,o.Lk)("td",null,(0,d.v_)(e.faulty_reason),1),(0,o.Lk)("td",Jy,(0,d.v_)(e.rjc_quantity),1)])))),128)):((0,o.uX)(),(0,o.CE)("tr",zy,Vy))])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Wy,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[0]||(t[0]=(...e)=>i.confirm2&&i.confirm2(...e))},"닫기")])])])],2)}var Xy={name:"InspectionModal",components:{},props:{isShowModal2:Boolean,inspection_data:{type:Object,required:!0}},watch:{inspection_data:{handler:"one_start",immediate:!0}},data(){return{inspectionList:[],resultdata:{}}},methods:{one_start(){this.inspectionInfo()},async inspectionInfo(){let e=await Re.A.post(`${Ae}/material/inspectionInfo`,this.inspection_data).catch((e=>console.log(e)));this.resultdata=e.data[0],e.data[0]&&e.data[0]["faulty_code"]&&(this.inspectionList=e.data.map((e=>({faulty_code:e.faulty_code,faulty_reason:e.faulty_reason,qc_material_rjc_id:e.qc_material_rjc_id,rjc_quantity:this.inspection_data.material_name.includes("병")?Number(e.rjc_quantity)+" 개":.001*Number(e.rjc_quantity)+" kg"}))))},closeModal2(){this.inspectionList=[],this.resultdata={},this.$emit("closeModal2")},confirm2(){this.inspectionList=[],this.resultdata={},this.$emit("confirm2")}}};const Ky=(0,ne.A)(Xy,[["render",Gy],["__scopeId","data-v-37fc4444"]]);var Hy=Ky;const Yy=(0,o.Lk)("div",{class:"pt-3",style:{"padding-left":"16px"}},[(0,o.Lk)("h3",null,"  자재 입고")],-1),Zy={class:"grid-container pt-0"},ef={key:0,style:{width:"100%",height:"100%","background-color":"#0005",position:"fixed",top:"0px",left:"0px","z-index":"1000"}},tf={style:{position:"fixed",top:"50%",left:"30%",width:"50%"}};var af={__name:"materialInput",setup(e){const{notify:t}=(0,Te.hN)(),a=(0,st.rd)(),l=(0,oe.Pj)(),s=(0,lo.KR)({}),n=()=>{s.value=l.state.loginInfo,"자재"===s.value.job||"관리자"===s.value.position?console.log(s.value.job):(t({text:"자재팀 또는 관리자만 접속 가능합니다.",type:"error"}),a.push({name:"MainPage"}))},i=(0,lo.KR)(0),r=(0,lo.KR)(!1),c=(0,lo.KR)([]),d=(0,lo.KR)("test"),u=(0,lo.KR)([{headerCheckboxSelection:!0,checkboxSelection:!0,headerName:"",width:45},{headerName:"No.",field:"body_num",width:100,cellStyle:{textAlign:"center"}},{headerName:"자재발주코드",field:"order_code",cellStyle:{textAlign:"center"}},{headerName:"자재명",field:"material_name"},{headerName:"업체명",field:"com_name"},{headerName:"발주수량",field:"ord_qty",cellStyle:{textAlign:"right"}},{headerName:"입고수량",field:"total_qnt",cellStyle:{textAlign:"right"}},{headerName:"정상수량",field:"pass_qnt",cellStyle:{textAlign:"right"}},{headerName:"불량수량",field:"rjc_qnt",cellStyle:{textAlign:"right"}},{headerName:"단가",field:"unit_price",cellStyle:{textAlign:"right"}},{headerName:"총액",field:"total_price",cellStyle:{textAlign:"right"}},{headerName:"검사완료일",field:"inspec_end",cellStyle:{textAlign:"center"}},{headerName:"입고검사",field:"비고",width:150,editable:!1,cellStyle:{textAlign:"center"},cellRenderer:e=>{const t=document.createElement("div");t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.height="100%";const a=document.createElement("button");return a.innerText="검사표",a.style.cursor="pointer",a.style.backgroundColor="#fb8c00",a.style.width="60px",a.style.height="30px",a.style.color="white",a.style.border="none",a.style.borderRadius="4px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.addEventListener("click",(()=>{console.log("레코드 확인 : ",JSON.stringify(e.data)),m(e.data)})),t.appendChild(a),t}},{headerName:"입고",field:"입고",width:145,cellStyle:{textAlign:"center"},editable:!1,cellRenderer:e=>{const t=document.createElement("div");t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.height="100%";const a=document.createElement("button");return a.innerText="입고",a.style.cursor="pointer",a.style.backgroundColor="#4caf50",a.style.width="60px",a.style.height="30px",a.style.color="white",a.style.border="none",a.style.borderRadius="4px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.addEventListener("click",(()=>{console.log("레코드 확인 : ",JSON.stringify(e.data)),D(e.data)})),t.appendChild(a),t}}]),p=(0,lo.KR)({}),m=e=>{p.value={order_code:e.order_code,material_name:e.material_name,com_name:e.com_name,ord_qty:e.ord_qty,total_qnt:e.total_qnt,pass_qnt:e.pass_qnt,rjc_qnt:e.rjc_qnt},console.log(p.value),h.value=!0},h=(0,lo.KR)(!1),y=()=>{h.value=!1},f=()=>{h.value=!1},g=async function(){let e=await Re.A.get(`${Ae}/material/miql`).catch((e=>console.log(e)));c.value=e.data,c.value=e.data.map((e=>({...e,inspec_end:Ho.dateFormat(e.inspec_endm,"yyyy-MM-dd"),ord_qty:e.material_name.includes("병")?Number(e.ord_qty).toLocaleString()+" 개":(.001*Number(e.ord_qty)).toLocaleString()+" kg",total_qnt:e.material_name.includes("병")?Number(e.total_qnt).toLocaleString()+" 개":(.001*Number(e.total_qnt)).toLocaleString()+" kg",pass_qnt:e.material_name.includes("병")?Number(e.pass_qnt).toLocaleString()+" 개":(.001*Number(e.pass_qnt)).toLocaleString()+" kg",rjc_qnt:e.material_name.includes("병")?Number(e.rjc_qnt).toLocaleString()+" 개":(.001*Number(e.rjc_qnt)).toLocaleString()+" kg",unit_price:e.material_name.includes("병")?Number(e.unit_price).toLocaleString()+" 원":Number(.001*e.unit_price).toLocaleString()+" 원",total_price:e.material_name.includes("병")?Number(e.total_price).toLocaleString()+" 원":Number(1e-6*e.total_price).toLocaleString()+" 원"})))},k=(0,lo.KR)([]),b=async function(){let e=await Re.A.get(`${Ae}/material/warehouse`).catch((e=>console.log(e)));k.value=e.data},L=(0,lo.KR)(""),v=e=>{e.api.sizeColumnsToFit(),x.value=e.api;const t=document.querySelector(".ag-paging-panel");if(t){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const a=document.createElement("button");a.textContent="선택입고",a.style.marginRight="10px",a.style.cursor="pointer",a.style.backgroundColor="#4caf50",a.style.color="white",a.style.border="none",a.style.padding="5px 10px",a.style.borderRadius="4px",a.style.position="absolute",a.style.left="10px",a.addEventListener("click",(()=>{D()}));const l=document.createElement("input");l.type="text",l.placeholder=" 검색",l.style.padding="5px",l.style.width="200px",l.style.border="1px solid #ccc",l.style.borderRadius="4px",l.style.position="absolute",l.style.left="110px",l.addEventListener("input",(e=>{const t=e.target.value;L.value=t})),e.appendChild(a),e.appendChild(l),t.insertBefore(e,t.firstChild)}},x=(0,lo.KR)(null),w=(0,lo.KR)(!1),_=(0,lo.KR)([]),C=(0,lo.KR)([]),D=(e=null)=>{e&&e.isTrusted?C.value=x.value.getSelectedRows():C.value=e?[e]:x.value.getSelectedRows(),console.log("selectedRows ",C.value),console.log("data :",e),_.value=C.value.map((e=>({order_code:e.order_code,material_name:e.material_name,warehouse1:"",pass_qnt:e.pass_qnt,rjc_qnt:e.rjc_qnt,warehouse2:"W003"}))),C.value.length>0||console.log("선택된 항목이 없습니다."),b(),w.value=!0},S=()=>{w.value=!1},N=(0,lo.KR)([]),M=(0,lo.KR)([]),R=(0,lo.KR)([]),A=async function(){let e=await Re.A.get(`${Ae}/material/lotNum`).catch((e=>console.log(e)));const a=e.data[0]["LOTNUM"];a&&(M.value=a.slice(0,5),R.value=parseInt(a.slice(5),10));let l=100/_.value.length;r.value=!0;for(let t=0;t<_.value.length;t++)N.value={lot_code:M.value+(R.value+t).toString().padStart(3,"0"),order_code:_.value[t].order_code,material_name:_.value[t].material_name,pass_qnt:_.value[t].material_name.includes("병")?Number(parseFloat(_.value[t].pass_qnt.replace(/,/g,""))):1e3*Number(parseFloat(_.value[t].pass_qnt.replace(/,/g,""))),warehouse1:_.value[t].warehouse1,rjc_qnt:_.value[t].material_name.includes("병")?Number(parseFloat(_.value[t].rjc_qnt.replace(/,/g,""))):1e3*Number(parseFloat(_.value[t].rjc_qnt.replace(/,/g,""))),warehouse2:_.value[t].warehouse2,emp_num:s.value.emp_num},console.log(N.value),i.value=i.value+l,await I(N.value);g(),t({text:"입고 완료 되었습니다.",type:"success"}),r.value=!1,i.value=0},I=async function(e){console.log(e);let t=await Re.A.post(`${Ae}/material/inputMaterial`,e).catch((e=>console.log(e)));console.log(t.data)},E=()=>{for(let e=0;e<_.value.length;e++){if(!_.value[e]["warehouse1"]||!_.value[e]["warehouse2"]){t({title:"창고선택",text:"창고선택을 완료한후에 작업을 시작해주세요.",type:"error"});break}e==_.value.length-1&&(console.log(e),A())}console.log("모달 확인 버튼 클릭됨"),w.value=!1};return(0,o.KC)((()=>{g(),n()})),(e,t)=>{const a=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)(o.FK,null,[Yy,(0,o.Lk)("div",Zy,[(0,o.bF)(a,{rowData:c.value,columnDefs:u.value,theme:(0,lo.R1)(ko),pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100],onGridReady:v,style:{height:"700px"},quickFilterText:L.value,rowSelection:"multiple",noRowsOverlayComponent:Hs},null,8,["rowData","columnDefs","theme","quickFilterText"])]),(0,o.Lk)("div",null,[(0,o.bF)(wy,{isShowModal:w.value,testStr:d.value,nuwList:_.value,"onUpdate:nuwList":t[0]||(t[0]=e=>_.value=e),whList:k.value,onCloseModal:S,onConfirm:E},null,8,["isShowModal","testStr","nuwList","whList"])]),(0,o.Lk)("div",null,[(0,o.bF)(Hy,{isShowModal2:h.value,inspection_data:p.value,onCloseModal2:y,onConfirm2:f},null,8,["isShowModal2","inspection_data"])]),r.value?((0,o.uX)(),(0,o.CE)("div",ef,[(0,o.Lk)("div",tf,[(0,o.bF)(rm,{color:"success",percentage:i.value},null,8,["percentage"])])])):(0,o.Q3)("",!0)],64)}}};const lf=af;var of=lf;const sf=e=>((0,o.Qi)("data-v-f253ceb2"),e=e(),(0,o.jt)(),e),nf=["onClick"],rf={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},cf={class:"modal-content"},df=sf((()=>(0,o.Lk)("div",{class:"modal-header",style:{"background-color":"#e9ecef"}},[(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel",style:{"font-family":"Arial, Helvetica, sans-serif"}},"입고LOT별 현재고 조회"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),uf={key:0,class:"modal-body m-3"},pf={class:"table table-bordered"},mf=sf((()=>(0,o.Lk)("td",{class:"table-title"},"자재명",-1))),hf={style:{color:"black","text-align":"center"}},yf=sf((()=>(0,o.Lk)("td",{class:"table-title"},"로트번호",-1))),ff={style:{color:"black","text-align":"center"}},gf=sf((()=>(0,o.Lk)("td",{class:"table-title"},"정상수량",-1))),kf={class:"highlight-green"},bf=sf((()=>(0,o.Lk)("td",{class:"table-title"},"불량수량",-1))),Lf={class:"highlight-red"};var vf={__name:"materialInputListModal",props:{isShowModal:Boolean,newObject:Array},emits:["closeModal","confirm"],setup(e,{emit:t}){const{isShowModal:a,newObject:s}=e,n=()=>{t("closeModal")},i=()=>{t("confirm")};return(t,a)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:e.isShowModal}]),onClick:(0,l.D$)(n,["self"]),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",rf,[(0,o.Lk)("div",cf,[df,e.isShowModal?((0,o.uX)(),(0,o.CE)("div",uf,[(0,o.Lk)("table",pf,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[mf,(0,o.Lk)("td",hf,[(0,o.Lk)("h3",null,(0,d.v_)(e.newObject.material_name),1)])]),(0,o.Lk)("tr",null,[yf,(0,o.Lk)("td",ff,(0,d.v_)(e.newObject.lot_code),1)]),(0,o.Lk)("tr",null,[gf,(0,o.Lk)("td",kf,(0,d.v_)(e.newObject.pass_stok_qty),1)]),(0,o.Lk)("tr",null,[bf,(0,o.Lk)("td",Lf,(0,d.v_)(e.newObject.reject_stok_qty),1)])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:i},"닫기")])])])],10,nf))}};const xf=(0,ne.A)(vf,[["__scopeId","data-v-f253ceb2"]]);var wf=xf;const _f=e=>((0,o.Qi)("data-v-5f8e4d44"),e=e(),(0,o.jt)(),e),Cf=_f((()=>(0,o.Lk)("div",{class:"p-3"},[(0,o.Lk)("h3",null,"  자재 입고 조회")],-1))),Df={class:"main-container"},Sf={class:"content",style:{height:"250px"}},Nf={class:"row gx-3 gy-2 align-items-center"},Mf={class:"col-sm-2"},Rf=_f((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialCode"},"자재명",-1))),Af=["onKeydown"],If={class:"col-sm-2"},Ef=_f((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"clientName"},"업체명",-1))),Ff=["onKeydown"],Pf={class:"col-sm-2"},Of=_f((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"POListCode"},"자재발주코드",-1))),qf=["onKeydown"],$f={class:"row gx-3 gy-2 mt-2"},Tf={class:"col-sm-2"},jf=_f((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"startDate"},"입고일(부터)",-1))),Qf={class:"input-group"},Uf=["onKeydown"],Jf={class:"col-sm-2"},zf=_f((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"endDate"},"입고일(까지)",-1))),Bf={class:"input-group"},Vf=["onKeydown"],Wf={class:"grid-container",style:{"padding-top":"10px"}};var Gf={__name:"materialInputList",setup(e){const{notify:t}=(0,Te.hN)(),a=(0,st.rd)(),s=(0,oe.Pj)(),n=(0,lo.KR)({}),i=()=>{n.value=s.state.loginInfo,"자재"===n.value.job||"관리자"===n.value.position?console.log(n.value.job):(t({text:"자재팀 또는 관리자만 접속 가능합니다.",type:"error"}),a.push({name:"MainPage"}))},r=(0,lo.KR)(),c=(0,lo.KR)(),d=(0,lo.KR)(),u=(0,lo.KR)(),p=(0,lo.KR)(),m=(0,lo.KR)({}),h=()=>{r.value="",c.value="",d.value="",u.value="",p.value="",m.value={materialCode:"",clientName:"",POListCode:"",startDate:"",endDate:""},F()},y=(0,lo.KR)(null),f=()=>{if(y.value){const e=y.value.api;e.exportDataAsCsv({fileName:"자재_입고_리스트.csv"})}},g=(0,lo.KR)({}),k=e=>{g.value={order_code:e.order_code,material_name:e.material_name,com_name:e.com_name,ord_qty:e.ord_qty,total_qnt:e.total_qty,pass_qnt:e.pass_qty,rjc_qnt:e.reject_qty},console.log("검사표 모달오픈전 : ",g.value),b.value=!0},b=(0,lo.KR)(!1),L=()=>{b.value=!1},v=()=>{b.value=!1},x=()=>{console.log(r.value),console.log(c.value),console.log(d.value),console.log(u.value),console.log(p.value),m.value={materialCode:r.value,clientName:c.value,POListCode:d.value,startDate:u.value,endDate:p.value},F()},w=(0,lo.KR)([{headerName:"No.",field:"input_num",width:80,cellStyle:{textAlign:"center"}},{headerName:"자재발주코드",field:"order_code",width:150,cellStyle:{textAlign:"center"}},{headerName:"자재명",field:"material_name",cellStyle:{textAlign:"left"}},{headerName:"업체명",field:"com_name",cellStyle:{textAlign:"left"}},{headerName:"요청수량",field:"ord_qty",width:120,cellStyle:{textAlign:"right"}},{headerName:"입고수량",field:"in_qty",width:120,cellStyle:{textAlign:"right"}},{headerName:"정상수량",field:"pass_qty",width:120,cellStyle:{textAlign:"right"}},{headerName:"창고",field:"pass_warehouse_name",width:110,cellStyle:{textAlign:"left"}},{headerName:"불량수량",field:"reject_qty",width:120,cellStyle:{textAlign:"right"}},{headerName:"창고",field:"reject_warehouse_name",width:110,cellStyle:{textAlign:"left"}},{headerName:"입고일자",field:"inset_lot_date",width:140,cellStyle:{textAlign:"center"}},{headerName:"입고담당",field:"name",width:130,cellStyle:{textAlign:"center"}},{headerName:"입고검사",field:"비고",width:130,editable:!1,cellRenderer:e=>{const t=document.createElement("div");t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.height="100%";const a=document.createElement("button");return a.innerText="검사표",a.style.cursor="pointer",a.style.backgroundColor="#fb8c00",a.style.width="60px",a.style.height="30px",a.style.color="white",a.style.border="none",a.style.borderRadius="4px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.addEventListener("click",(()=>{console.log("레코드 확인 : ",JSON.stringify(e.data)),k(e.data)})),t.appendChild(a),t}},{headerName:"LOT조회",field:"LOT조회",width:130,editable:!1,cellRenderer:e=>{const t=document.createElement("div");t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.height="100%";const a=document.createElement("button");return a.innerText="조회",a.style.cursor="pointer",a.style.backgroundColor="#4caf50",a.style.width="60px",a.style.height="30px",a.style.color="white",a.style.border="none",a.style.borderRadius="4px",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.addEventListener("click",(()=>{S(e.data)})),t.appendChild(a),t}}]),_=(0,lo.KR)([]),C=(0,lo.KR)(!1),D=(0,lo.KR)([]),S=async e=>{console.log(e),_.value=await N(e.input_num),D.value={material_name:e.material_name,lot_code:_.value[0]["lot_code"],pass_stok_qty:e.material_name.includes("병")?_.value[0]["pass_stok_qty"].toLocaleString()+" 개":(.001*_.value[0]["pass_stok_qty"]).toLocaleString()+" kg",reject_stok_qty:e.material_name.includes("병")?_.value[0]["reject_stok_qty"].toLocaleString()+" 개":(.001*_.value[0]["reject_stok_qty"]).toLocaleString()+" kg"},console.log("newObject ",D),C.value=!0},N=async function(e){let t=await Re.A.get(`${Ae}/material/lotinfo/${e}`).catch((e=>console.log(e)));return t.data},M=()=>{console.log("모달 확인 버튼 클릭됨"),C.value=!1},R=()=>{C.value=!1},A=e=>{e.preventDefault(),x()},I=(0,lo.KR)([]),E=e=>{e.api.sizeColumnsToFit()};(0,o.KC)((()=>{F(),i()}));const F=async function(){let e=await Re.A.put(`${Ae}/material/materialInputList`,m.value).catch((e=>console.log(e)));console.log(e.data),I.value=e.data.map((e=>({...e,ord_qty:e.material_name.includes("병")?Number(e.ord_qty).toLocaleString()+" 개":(.001*Number(e.ord_qty)).toLocaleString()+" kg",in_qty:e.material_name.includes("병")?Number(e.in_qty).toLocaleString()+" 개":(.001*Number(e.in_qty)).toLocaleString()+" kg",pass_qty:e.material_name.includes("병")?Number(e.pass_qty).toLocaleString()+" 개":(.001*Number(e.pass_qty)).toLocaleString()+" kg",reject_qty:e.material_name.includes("병")?Number(e.reject_qty).toLocaleString()+" 개":(.001*Number(e.reject_qty)).toLocaleString()+" kg",inset_lot_date:Ho.dateFormat(e.inset_lot_date,"yyyy-MM-dd")})))};return(e,t)=>{const a=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)(o.FK,null,[Cf,(0,o.Lk)("div",Df,[(0,o.Lk)("div",Sf,[(0,o.Lk)("form",Nf,[(0,o.Lk)("div",Mf,[Rf,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"materialCode","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),autocomplete:"off",onKeydown:(0,l.jR)(A,["enter"])},null,40,Af),[[l.Jo,r.value]])]),(0,o.Lk)("div",If,[Ef,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"clientName","onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),autocomplete:"off",onKeydown:(0,l.jR)(A,["enter"])},null,40,Ff),[[l.Jo,c.value]])]),(0,o.Lk)("div",Pf,[Of,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"POListCode","onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),autocomplete:"off",onKeydown:(0,l.jR)(A,["enter"])},null,40,qf),[[l.Jo,d.value]])])]),(0,o.Lk)("div",$f,[(0,o.Lk)("div",Tf,[jf,(0,o.Lk)("div",Qf,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"startDate","onUpdate:modelValue":t[3]||(t[3]=e=>u.value=e),onKeydown:(0,l.jR)(A,["enter"])},null,40,Uf),[[l.Jo,u.value]])])]),(0,o.Lk)("div",Jf,[zf,(0,o.Lk)("div",Bf,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"endDate","onUpdate:modelValue":t[4]||(t[4]=e=>p.value=e),onKeydown:(0,l.jR)(A,["enter"])},null,40,Vf),[[l.Jo,p.value]])])])]),(0,o.Lk)("div",{class:"col-auto mt-1 text-center"},[(0,o.Lk)("button",{type:"button",class:"btn me-5",style:{"background-color":"#4caf50",color:"white"},onClick:x},"조회"),(0,o.Lk)("button",{type:"button",class:"btn me-5",style:{"background-color":"#fb8c00",color:"white"},onClick:h},"초기화"),(0,o.Lk)("button",{type:"button",class:"btn",style:{"background-color":"#0077ff",color:"white"},onClick:f},"엑셀다운")])])]),(0,o.Lk)("div",Wf,[(0,o.bF)(a,{ref_key:"gridRef",ref:y,rowData:I.value,columnDefs:w.value,theme:(0,lo.R1)(ko),pagination:!0,paginationPageSize:9,paginationPageSizeSelector:[9,20,50,100],onGridReady:E,style:{height:"471px"},rowSelection:"multiple",noRowsOverlayComponent:Hs},null,8,["rowData","columnDefs","theme"])]),(0,o.Lk)("div",null,[(0,o.bF)(wf,{isShowModal:C.value,newObject:D.value,onCloseModal:R,onConfirm:M},null,8,["isShowModal","newObject"])]),(0,o.Lk)("div",null,[(0,o.bF)(Hy,{isShowModal2:b.value,inspection_data:g.value,onCloseModal2:L,onConfirm2:v},null,8,["isShowModal2","inspection_data"])])],64)}}};const Xf=(0,ne.A)(Gf,[["__scopeId","data-v-5f8e4d44"]]);var Kf=Xf;const Hf=e=>((0,o.Qi)("data-v-4dc44239"),e=e(),(0,o.jt)(),e),Yf=["onClick"],Zf={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},eg={class:"modal-content"},tg=Hf((()=>(0,o.Lk)("div",{class:"modal-header",style:{"background-color":"#e9ecef"}},[(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"폐기 처리"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ag={key:0,class:"modal-body"},lg={class:"container my-4"},og={class:"table-responsive"},sg={class:"table table-bordered text-center"},ng=Hf((()=>(0,o.Lk)("th",null,"로트번호",-1))),ig={class:"fw-bold text-dark"},rg=Hf((()=>(0,o.Lk)("th",null,"자재명",-1))),cg={class:"fw-bold text-danger fs-4"},dg=Hf((()=>(0,o.Lk)("th",null,"업체명",-1))),ug={class:"fw-bold"},pg=Hf((()=>(0,o.Lk)("th",null,"현재고",-1))),mg={class:"fw-bold"},hg=Hf((()=>(0,o.Lk)("th",null,"상태",-1))),yg={class:"fw-bold text-danger fs-4"},fg=Hf((()=>(0,o.Lk)("th",null,"유통기한",-1))),gg={class:"fw-bold text-danger fs-4"},kg=Hf((()=>(0,o.Lk)("th",null,"폐기 사유 선택",-1))),bg=Hf((()=>(0,o.Lk)("option",{value:""},"직접입력",-1))),Lg=["value"],vg=Hf((()=>(0,o.Lk)("th",null,"폐기 사유 입력",-1))),xg=["readonly"];var wg={__name:"materialLotqtyModal",props:{isShowModal:Boolean,deleteList:Object},emits:["closeModal","confirm"],setup(e,{emit:t}){const{isShowModal:a,deleteList:s}=e,n=(0,lo.KR)([{code:"A1",result:"유통기한 임박 및 초과"},{code:"A2",result:"불량 자재 검수 후 폐기"},{code:"A3",result:"이슈발생으로 인한 리콜"}]),i=(0,lo.KR)(!0),r=(0,lo.KR)(""),c=()=>{const e=n.value.find((e=>e.code===r.value));e?(i.value=!1,p.value=e.result):(i.value=!0,p.value=null)},u=()=>{t("closeModal"),p.value="",i.value=!0,r.value=""},p=(0,lo.KR)(""),m=()=>{t("confirm",p.value),p.value="",i.value=!0,r.value=""};return(t,a)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:e.isShowModal}]),onClick:(0,l.D$)(u,["self"]),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",Zf,[(0,o.Lk)("div",eg,[tg,e.isShowModal?((0,o.uX)(),(0,o.CE)("div",ag,[(0,o.Lk)("div",lg,[(0,o.Lk)("div",og,[(0,o.Lk)("table",sg,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[ng,(0,o.Lk)("td",ig,(0,d.v_)(e.deleteList.lot_code),1)]),(0,o.Lk)("tr",null,[rg,(0,o.Lk)("td",cg,(0,d.v_)(e.deleteList.material_name),1)]),(0,o.Lk)("tr",null,[dg,(0,o.Lk)("td",ug,(0,d.v_)(e.deleteList.com_name),1)]),(0,o.Lk)("tr",null,[pg,(0,o.Lk)("td",mg,(0,d.v_)(e.deleteList.stok_qty),1)]),(0,o.Lk)("tr",null,[hg,(0,o.Lk)("td",yg,(0,d.v_)(e.deleteList.material_nomal)+"상품",1)]),(0,o.Lk)("tr",null,[fg,(0,o.Lk)("td",gg,(0,d.v_)(e.deleteList.limit_date),1)]),(0,o.Lk)("tr",null,[kg,(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),onChange:c,class:"form-select text-center"},[bg,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.code,value:e.code},(0,d.v_)(e.result),9,Lg)))),128))],544),[[l.u1,r.value]])])]),(0,o.bo)((0,o.Lk)("tr",null,[vg,(0,o.Lk)("td",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>p.value=e),class:"form-control",style:{"background-color":"white","padding-left":"20px",border:"1px solid"},readonly:!!r.value},null,8,xg),[[l.Jo,p.value]])])],512),[[l.aG,i.value]])])])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:u},"닫기"),(0,o.Lk)("button",{type:"button",class:"btn",style:{"background-color":"#f44335",color:"white"},onClick:m},"폐기하기")])])])],10,Yf))}};const _g=(0,ne.A)(wg,[["__scopeId","data-v-4dc44239"]]);var Cg=_g;const Dg=e=>((0,o.Qi)("data-v-0b312ac8"),e=e(),(0,o.jt)(),e),Sg=Dg((()=>(0,o.Lk)("div",{class:"p-3"},[(0,o.Lk)("h3",{style:{"font-family":"Arial, Helvetica, sans-serif"}},"  자재 LOT 조회")],-1))),Ng={class:"main-container"},Mg={class:"content",style:{height:"250px"}},Rg={class:"row gx-3 gy-2 align-items-center"},Ag={class:"col-sm-2",style:{width:"105px"}},Ig=Dg((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"qty_state"},"재고 상태",-1))),Eg={id:"qty_state",style:{"padding-left":"0px"}},Fg=Dg((()=>(0,o.Lk)("option",{value:"a1"},"전체",-1))),Pg=Dg((()=>(0,o.Lk)("option",{value:"a2"},"재고있음",-1))),Og=Dg((()=>(0,o.Lk)("option",{value:"a3"},"재고없음",-1))),qg=[Fg,Pg,Og],$g={class:"col-sm-2"},Tg=Dg((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialCode"},"자재명",-1))),jg=["onKeydown"],Qg={class:"col-sm-2"},Ug=Dg((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"clientName"},"업체명",-1))),Jg=["onKeydown"],zg={class:"col-sm-2"},Bg=Dg((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"POListCode"},"자재LOT번호",-1))),Vg=["onKeydown"],Wg={class:"col-sm-2"},Gg=Dg((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialNomal"},"불량여부",-1))),Xg=Dg((()=>(0,o.Lk)("br",null,null,-1))),Kg={id:"materialNomal",style:{"padding-left":"20px",display:"inline-flex","align-items":"center",gap:"15px","white-space":"nowrap"}},Hg={style:{"white-space":"nowrap"}},Yg={style:{"white-space":"nowrap"}},Zg={class:"col-sm-2"},ek=Dg((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialLotState"},"폐기 상태",-1))),tk=Dg((()=>(0,o.Lk)("br",null,null,-1))),ak={id:"materialLotState",style:{"padding-left":"20px",display:"inline-flex","align-items":"center",gap:"15px","white-space":"nowrap"}},lk={style:{"white-space":"nowrap"}},ok={style:{"white-space":"nowrap"}},sk={class:"row gx-3 gy-2 mt-2"},nk={class:"col-sm-2"},ik=Dg((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"startDate"},"입고일(부터)",-1))),rk={class:"input-group"},ck=["onKeydown"],dk={class:"col-sm-2"},uk=Dg((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"endDate"},"입고일(까지)",-1))),pk={class:"input-group"},mk=["onKeydown"],hk={class:"col-sm-2"},yk=Dg((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"limitOut"},"유통기한",-1))),fk=Dg((()=>(0,o.Lk)("br",null,null,-1))),gk={id:"limitOut",style:{"padding-left":"10px",display:"inline-flex","align-items":"center",gap:"15px","white-space":"nowrap"}},kk={style:{"white-space":"nowrap"}},bk={class:"grid-container",style:{"padding-top":"10px"}};var Lk={__name:"materialLotqty",setup(e){const{notify:t}=(0,Te.hN)(),a=(0,st.rd)(),s=(0,oe.Pj)(),n=(0,lo.KR)({}),i=()=>{n.value=s.state.loginInfo,n.value.name?console.log(n.value.job):(t({text:"로그인 하셔야 접속 가능합니다.",type:"error"}),a.push({name:"MainPage"}))},r=(0,lo.KR)("a1"),c=(0,lo.KR)(""),d=(0,lo.KR)(""),u=(0,lo.KR)(""),p=(0,lo.KR)(""),m=(0,lo.KR)(""),h=(0,lo.KR)(""),y=(0,lo.KR)([]),f=(0,lo.KR)([]),g=(0,lo.KR)({}),k=(0,lo.KR)([]),b=()=>{c.value="",d.value="",u.value="",p.value="",m.value="",r.value="a1",h.value="",y.value=[],f.value=[],g.value={materialCode:"",clientName:"",POListCode:"",startDate:"",endDate:"",qty_state:"",limitOut:"",materialNomal:[],materialLotState:[]},A()},L=()=>{console.log(r.value),console.log(c.value),console.log(d.value),console.log(u.value),console.log(p.value),console.log(m.value),console.log(y.value),console.log(f.value),console.log(h.value),g.value={materialCode:c.value,clientName:d.value,POListCode:u.value,startDate:p.value,endDate:m.value,materialNomal:y.value,materialLotState:f.value,qty_state:r.value,limitOut:h.value},A()},v=(0,lo.KR)([{headerName:"No.",field:"lot_seq",width:90,cellStyle:{textAlign:"center"},tooltipField:"lot_seq"},{headerName:"자재 LOT번호",field:"lot_code",width:160,cellStyle:{textAlign:"center"}},{headerName:"자재명",field:"material_name",cellStyle:{textAlign:"left"}},{headerName:"업체명",field:"com_name",cellStyle:{textAlign:"left"}},{headerName:"입고량",field:"in_qty",width:130,cellStyle:{textAlign:"right"}},{headerName:"입고담당",field:"name",width:120,cellStyle:{textAlign:"center"}},{headerName:"가용",field:"material_nomal",width:85,cellStyle:{textAlign:"center"}},{headerName:"현재고",field:"stok_qty",width:130,cellStyle:{textAlign:"right"}},{headerName:"불가용",field:"hold_qty",width:130,cellStyle:{textAlign:"right"}},{headerName:"출고재고",field:"out_qty",width:130,cellStyle:{textAlign:"right"}},{headerName:"입고일",field:"inset_lot_date",width:130,cellStyle:{textAlign:"center"}},{headerName:"유통기한",field:"limit_date",width:130,cellStyle:{textAlign:"center"}},{headerName:"창고위치",field:"warehouse_name",width:120,cellStyle:{textAlign:"left"}},{headerName:"폐기",field:"material_lot_state",width:80,cellStyle:{textAlign:"center"},tooltipValueGetter:e=>e.data.material_dis_content?`담당 : ${e.data.dis_name} / 사유 : ${e.data.material_dis_content}`:""},{headerName:"비고",field:"폐기처리",width:100,editable:!1,cellRenderer:e=>{if("정상"===e.data.material_lot_state&&("자재"===n.value.job||"관리자"===n.value.job)){const a=document.createElement("div");a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.style.height="100%";const l=document.createElement("button");return l.innerText="폐기처리",l.style.cursor="pointer",l.style.backgroundColor="#f44335",l.style.width="60px",l.style.height="30px",l.style.color="white",l.style.border="none",l.style.borderRadius="4px",l.style.display="flex",l.style.justifyContent="center",l.style.alignItems="center",l.addEventListener("click",(()=>{k.value=e.data;const a=Number(k.value.hold_qty.split(" ")[0]);0!==a?t({text:"공정 투입중인 자재는 폐기불가 합니다.",type:"error"}):(console.log("모달 오픈"),x.value=!0)})),a.appendChild(l),a}}}]),x=(0,lo.KR)(!1),w=()=>{x.value=!1,t({text:"폐기 취소 하였습니다.",type:"error"})},_=e=>{console.log("모달 확인 버튼 클릭됨");const a={lot_seq:k.value.lot_seq,trush_reason:e,emp_num:n.value.emp_num};k.value.lot_seq&&e?C(a):t({text:"폐기사유가 꼭 필요합니다.",type:"error"}),x.value=!1},C=async e=>{let a=await Re.A.post(`${Ae}/material/trushGo`,e).catch((e=>console.log(e)));"OK"===a.data[0][0]["v_result"]?(t({text:"폐기 성공 하였습니다.",type:"success"}),A()):t({text:"폐기실패 "+a.data[0]["v_result"]+" 관리자 문의 해주세요.",type:"error"})},D=(0,lo.KR)(null),S=()=>{if(D.value){const e=D.value.api;e.exportDataAsCsv({fileName:"자재_LOT_재고_리스트.csv"})}},N=e=>{e.preventDefault(),L()},M=e=>{e.api.sizeColumnsToFit()},R=(0,lo.KR)([]),A=async function(){let e=await Re.A.put(`${Ae}/material/lotqtylist`,g.value).catch((e=>console.log(e)));console.log(e.data),R.value=e.data.map((e=>({...e,in_qty:e.material_name.includes("병")?e.in_qty.toLocaleString()+" 개":(.001*e.in_qty).toLocaleString()+" kg",stok_qty:e.material_name.includes("병")?e.stok_qty.toLocaleString()+" 개":(.001*e.stok_qty).toLocaleString()+" kg",hold_qty:e.material_name.includes("병")?e.hold_qty.toLocaleString()+" 개":(.001*e.hold_qty).toLocaleString()+" kg",out_qty:e.material_name.includes("병")?e.out_qty.toLocaleString()+" 개":(.001*e.out_qty).toLocaleString()+" kg",inset_lot_date:Ho.dateFormat(e.inset_lot_date,"yyyy-MM-dd"),limit_date:Ho.dateFormat(e.limit_date,"yyyy-MM-dd")})))};return(0,o.KC)((()=>{A(),i()})),(e,t)=>{const a=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)(o.FK,null,[Sg,(0,o.Lk)("div",Ng,[(0,o.Lk)("div",Mg,[(0,o.Lk)("form",Rg,[(0,o.Lk)("div",Ag,[Ig,(0,o.Lk)("div",Eg,[(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),style:{width:"85px",border:"solid 1px","background-color":"white","text-align":"center"},"aria-label":"재고 상태 선택"},qg,512),[[l.u1,r.value]])])]),(0,o.Lk)("div",$g,[Tg,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"materialCode","onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),autocomplete:"off",onKeydown:(0,l.jR)(N,["enter"])},null,40,jg),[[l.Jo,c.value]])]),(0,o.Lk)("div",Qg,[Ug,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"clientName","onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),autocomplete:"off",onKeydown:(0,l.jR)(N,["enter"])},null,40,Jg),[[l.Jo,d.value]])]),(0,o.Lk)("div",zg,[Bg,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"POListCode","onUpdate:modelValue":t[3]||(t[3]=e=>u.value=e),autocomplete:"off",onKeydown:(0,l.jR)(N,["enter"])},null,40,Vg),[[l.Jo,u.value]])]),(0,o.Lk)("div",Wg,[Gg,Xg,(0,o.Lk)("div",Kg,[(0,o.Lk)("label",Hg,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"b1","onUpdate:modelValue":t[4]||(t[4]=e=>y.value=e)},null,512),[[l.lH,y.value]]),(0,o.eW)("  미불량")]),(0,o.Lk)("label",Yg,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"b2","onUpdate:modelValue":t[5]||(t[5]=e=>y.value=e)},null,512),[[l.lH,y.value]]),(0,o.eW)("  불량")])])]),(0,o.Lk)("div",Zg,[ek,tk,(0,o.Lk)("div",ak,[(0,o.Lk)("label",lk,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"c1","onUpdate:modelValue":t[6]||(t[6]=e=>f.value=e)},null,512),[[l.lH,f.value]]),(0,o.eW)("  미폐기")]),(0,o.Lk)("label",ok,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"c2","onUpdate:modelValue":t[7]||(t[7]=e=>f.value=e)},null,512),[[l.lH,f.value]]),(0,o.eW)("  폐기")])])])]),(0,o.Lk)("div",sk,[(0,o.Lk)("div",nk,[ik,(0,o.Lk)("div",rk,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"startDate","onUpdate:modelValue":t[8]||(t[8]=e=>p.value=e),onKeydown:(0,l.jR)(N,["enter"])},null,40,ck),[[l.Jo,p.value]])])]),(0,o.Lk)("div",dk,[uk,(0,o.Lk)("div",pk,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"endDate","onUpdate:modelValue":t[9]||(t[9]=e=>m.value=e),onKeydown:(0,l.jR)(N,["enter"])},null,40,mk),[[l.Jo,m.value]])])]),(0,o.Lk)("div",hk,[yk,fk,(0,o.Lk)("div",gk,[(0,o.Lk)("label",kk,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"out","onUpdate:modelValue":t[10]||(t[10]=e=>h.value=e)},null,512),[[l.lH,h.value]]),(0,o.eW)("  지난 자재 보기")])])])]),(0,o.Lk)("div",{class:"col-auto mt-1 text-center"},[(0,o.Lk)("button",{type:"button",class:"btn me-5",style:{"background-color":"#4caf50",color:"white"},onClick:L},"조회"),(0,o.Lk)("button",{type:"button",class:"btn me-5",style:{"background-color":"#fb8c00",color:"white"},onClick:b},"초기화"),(0,o.Lk)("button",{type:"button",class:"btn",style:{"background-color":"#0077ff",color:"white"},onClick:S},"엑셀다운")])])]),(0,o.Lk)("div",bk,[(0,o.bF)(a,{ref_key:"gridRef",ref:D,rowData:R.value,columnDefs:v.value,theme:(0,lo.R1)(ko),pagination:!0,paginationPageSize:9,paginationPageSizeSelector:[9,20,50,100],onGridReady:M,style:{height:"471px"},rowSelection:"multiple",noRowsOverlayComponent:Hs,tooltipShowDelay:500,tooltipHideDelay:3e3},null,8,["rowData","columnDefs","theme"])]),(0,o.Lk)("div",null,[(0,o.bF)(Cg,{isShowModal:x.value,deleteList:k.value,onCloseModal:w,onConfirm:_},null,8,["isShowModal","deleteList"])])],64)}}};const vk=(0,ne.A)(Lk,[["__scopeId","data-v-0b312ac8"]]);var xk=vk;const wk=e=>((0,o.Qi)("data-v-0a7b1f3a"),e=e(),(0,o.jt)(),e),_k=wk((()=>(0,o.Lk)("div",{class:"p-3"},[(0,o.Lk)("h3",null,"  자재 재고 조회")],-1))),Ck={class:"main-container"},Dk={class:"content",style:{height:"250px"}},Sk={class:"row gx-3 gy-2 align-items-center"},Nk={class:"col-sm-2",style:{width:"105px"}},Mk=wk((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"qty_state"},"재고 상태",-1))),Rk={id:"qty_state",style:{"padding-left":"0px"}},Ak=wk((()=>(0,o.Lk)("option",{value:"a1"},"전체",-1))),Ik=wk((()=>(0,o.Lk)("option",{value:"a2"},"재고있음",-1))),Ek=wk((()=>(0,o.Lk)("option",{value:"a3"},"재고없음",-1))),Fk=[Ak,Ik,Ek],Pk={class:"col-sm-2"},Ok=wk((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialCode"},"자재코드",-1))),qk=["onKeydown"],$k={class:"col-sm-2"},Tk=wk((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialName"},"자재명",-1))),jk=["onKeydown"],Qk={class:"row gx-3 gy-2 mt-2"},Uk={class:"col-sm-2"},Jk=wk((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"startDate"},"등록일(부터)",-1))),zk={class:"input-group"},Bk=["onKeydown"],Vk={class:"col-sm-2"},Wk=wk((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"endDate"},"등록일(까지)",-1))),Gk={class:"input-group"},Xk=["onKeydown"],Kk={class:"col-sm-2",style:{width:"120px"}},Hk=wk((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"limitOut"},"폐기필요",-1))),Yk=wk((()=>(0,o.Lk)("br",null,null,-1))),Zk={id:"limitOut",style:{"padding-left":"10px",display:"inline-flex","align-items":"center",gap:"15px","white-space":"nowrap"}},eb={style:{"white-space":"nowrap"}},tb={class:"col-sm-2",style:{width:"120px"}},ab=wk((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"product_qty"},"생산대기",-1))),lb=wk((()=>(0,o.Lk)("br",null,null,-1))),ob={id:"product_qty",style:{"padding-left":"10px",display:"inline-flex","align-items":"center",gap:"15px","white-space":"nowrap"}},sb={style:{"white-space":"nowrap"}},nb={class:"col-sm-2",style:{width:"120px"}},ib=wk((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"order_qty"},"발주중인",-1))),rb=wk((()=>(0,o.Lk)("br",null,null,-1))),cb={id:"order_qty",style:{"padding-left":"10px",display:"inline-flex","align-items":"center",gap:"15px","white-space":"nowrap"}},db={style:{"white-space":"nowrap"}},ub={class:"grid-container",style:{"padding-top":"10px"}};var pb={__name:"materialqty",setup(e){const{notify:t}=(0,Te.hN)(),a=(0,st.rd)(),s=(0,oe.Pj)(),n=(0,lo.KR)({}),i=()=>{n.value=s.state.loginInfo,n.value.name?console.log(n.value.job):(t({text:"로그인 하셔야 접속 가능합니다.",type:"error"}),a.push({name:"MainPage"}))},r=(0,lo.KR)("a1"),c=(0,lo.KR)(""),d=(0,lo.KR)(""),u=(0,lo.KR)(""),p=(0,lo.KR)(""),m=(0,lo.KR)(""),h=(0,lo.KR)(""),y=(0,lo.KR)(""),f=(0,lo.KR)({}),g=()=>{c.value="",d.value="",u.value="",p.value="",r.value="a1",m.value="",h.value="",y.value="",f.value={materialCode:"",materialName:"",startDate:"",endDate:"",qty_state:"",limitOut:"",product_qty:"",order_qty:""},C()},k=(0,lo.KR)(null),b=()=>{if(k.value){const e=k.value.api;e.exportDataAsCsv({fileName:"자재_재고_리스트.csv"})}},L=()=>{console.log(r.value),console.log(c.value),console.log(d.value),console.log(u.value),console.log(p.value),console.log(m.value),console.log(h.value),console.log(y.value),f.value={materialCode:c.value,materialName:d.value,startDate:u.value,endDate:p.value,qty_state:r.value,limitOut:m.value,product_qty:h.value,order_qty:y.value},C()},v=(0,lo.KR)([{headerName:"No.",field:"row_num",width:100,cellStyle:{textAlign:"center"}},{headerName:"자재코드",field:"material_code",width:250,cellStyle:{textAlign:"center"}},{headerName:"자재명",field:"material_name",cellStyle:{textAlign:"left"}},{headerName:"현재고량",field:"stok_qty",cellStyle:{textAlign:"right"}},{headerName:"불가용",field:"reject_qty",cellStyle:{textAlign:"right"}},{headerName:"폐기필요재고",field:"trush_qty",cellStyle:{textAlign:"right"}},{headerName:"발주중재고",field:"order_qty",cellStyle:{textAlign:"right"}},{headerName:"안전재고",field:"safety_inventory",cellStyle:{textAlign:"right"}},{headerName:"자재등록일",field:"regi_date",cellStyle:{textAlign:"center"}}]),x=e=>{e.preventDefault(),L()},w=e=>{e.api.sizeColumnsToFit()},_=(0,lo.KR)([]),C=async function(){console.log("aaaaa",f.value);let e=await Re.A.post(`${Ae}/material/materialqtylist`,f.value).catch((e=>console.log(e)));console.log(e.data),_.value=e.data.map((e=>({...e,stok_qty:e.material_name.includes("병")?Number(e.stok_qty).toLocaleString()+" 개":(.001*Number(e.stok_qty)).toLocaleString()+" kg",reject_qty:e.material_name.includes("병")?Number(e.reject_qty).toLocaleString()+" 개":(.001*Number(e.reject_qty)).toLocaleString()+" kg",trush_qty:e.material_name.includes("병")?Number(e.trush_qty).toLocaleString()+" 개":(.001*Number(e.trush_qty)).toLocaleString()+" kg",order_qty:e.material_name.includes("병")?Number(e.order_qty).toLocaleString()+" 개":(.001*Number(e.order_qty)).toLocaleString()+" kg",safety_inventory:e.material_name.includes("병")?Number(e.safety_inventory).toLocaleString()+" 개":(.001*Number(e.safety_inventory)).toLocaleString()+" kg",regi_date:Ho.dateFormat(e.regi_date,"yyyy-MM-dd")})))};return(0,o.KC)((()=>{C(),i()})),(e,t)=>{const a=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)(o.FK,null,[_k,(0,o.Lk)("div",Ck,[(0,o.Lk)("div",Dk,[(0,o.Lk)("form",Sk,[(0,o.Lk)("div",Nk,[Mk,(0,o.Lk)("div",Rk,[(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),style:{width:"85px",border:"solid 1px","background-color":"white","text-align":"center"},"aria-label":"재고 상태 선택"},Fk,512),[[l.u1,r.value]])])]),(0,o.Lk)("div",Pk,[Ok,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"materialCode","onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),autocomplete:"off",onKeydown:(0,l.jR)(x,["enter"])},null,40,qk),[[l.Jo,c.value]])]),(0,o.Lk)("div",$k,[Tk,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"materialName","onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),autocomplete:"off",onKeydown:(0,l.jR)(x,["enter"])},null,40,jk),[[l.Jo,d.value]])])]),(0,o.Lk)("div",Qk,[(0,o.Lk)("div",Uk,[Jk,(0,o.Lk)("div",zk,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"startDate","onUpdate:modelValue":t[3]||(t[3]=e=>u.value=e),onKeydown:(0,l.jR)(x,["enter"])},null,40,Bk),[[l.Jo,u.value]])])]),(0,o.Lk)("div",Vk,[Wk,(0,o.Lk)("div",Gk,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"endDate","onUpdate:modelValue":t[4]||(t[4]=e=>p.value=e),onKeydown:(0,l.jR)(x,["enter"])},null,40,Xk),[[l.Jo,p.value]])])]),(0,o.Lk)("div",Kk,[Hk,Yk,(0,o.Lk)("div",Zk,[(0,o.Lk)("label",eb,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"out","onUpdate:modelValue":t[5]||(t[5]=e=>m.value=e)},null,512),[[l.lH,m.value]]),(0,o.eW)("  자재 보기")])])]),(0,o.Lk)("div",tb,[ab,lb,(0,o.Lk)("div",ob,[(0,o.Lk)("label",sb,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"out","onUpdate:modelValue":t[6]||(t[6]=e=>h.value=e)},null,512),[[l.lH,h.value]]),(0,o.eW)("  자재 보기")])])]),(0,o.Lk)("div",nb,[ib,rb,(0,o.Lk)("div",cb,[(0,o.Lk)("label",db,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input",value:"out","onUpdate:modelValue":t[7]||(t[7]=e=>y.value=e)},null,512),[[l.lH,y.value]]),(0,o.eW)("  자재 보기")])])])]),(0,o.Lk)("div",{class:"col-auto mt-1 text-center"},[(0,o.Lk)("button",{type:"button",class:"btn me-5",style:{"background-color":"#4caf50",color:"white"},onClick:L},"조회"),(0,o.Lk)("button",{type:"button",class:"btn me-5",style:{"background-color":"#fb8c00",color:"white"},onClick:g},"초기화"),(0,o.Lk)("button",{type:"button",class:"btn",style:{"background-color":"#0077ff",color:"white"},onClick:b},"엑셀다운")])])]),(0,o.Lk)("div",ub,[(0,o.bF)(a,{ref_key:"gridRef",ref:k,rowData:_.value,columnDefs:v.value,theme:(0,lo.R1)(ko),pagination:!0,paginationPageSize:9,paginationPageSizeSelector:[9,20,50,100],onGridReady:w,style:{height:"471px"},rowSelection:"multiple",noRowsOverlayComponent:Hs},null,8,["rowData","columnDefs","theme"])])],64)}}};const mb=(0,ne.A)(pb,[["__scopeId","data-v-0a7b1f3a"]]);var hb=mb;function yb(e,t,a,l,s,n){const i=(0,o.g2)("flat-pickr");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{class:"form-control custom-input",placeholder:"📅  ",modelValue:s.selectedDate,"onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedDate=e),config:s.dateConfig},null,8,["modelValue","config"]),(0,o.eW)(" "+(0,d.v_)(s.selectedDate),1)],64)}var fb=a(4653),gb=a(4579),kb={components:{FlatPickr:fb.A},data(){return{selectedDate:null,dateConfig:{defaultDate:null,enableTime:!1,dateFormat:"Y-m-d",time_24hr:!0,locale:gb.Korean,mode:"single",closeOnSelect:!0}}}};const bb=(0,ne.A)(kb,[["render",yb],["__scopeId","data-v-78583306"]]);var Lb=bb;const vb={class:"border-radius-lg py-3 pe-1"};function xb(e,t,a,l,s,n){const i=(0,o.g2)("reports-bar-chart");return(0,o.uX)(),(0,o.CE)("div",vb,[(0,o.bF)(i,{chart:{labels:["M","T","W","T","F","S","S"],datasets:[{label:"Sales",data:[50,20,10,22,50,10,40],backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]}},null,8,["chart"])])}var wb={components:{ReportsBarChart:Pt}};const _b=(0,ne.A)(wb,[["render",xb]]);var Cb=_b;function Db(e,t,a,l,s,n){const i=(0,o.g2)("default-line-chart");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(i,{chartData:s.chartData,chartOptions:s.chartOptions},null,8,["chartData","chartOptions"])])}var Sb={components:{DefaultLineChart:mt},data(){return{chartData:{labels:["Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Organic Search",data:[50,40,300,220,500,250,400,230,500],borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",borderWidth:2,tension:.4},{label:"Referral",data:[30,90,40,140,290,290,340,230,400],borderColor:"rgba(255, 99, 132, 1)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:2,tension:.4},{label:"Direct",data:[40,80,70,90,30,90,140,130,200],borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:2,tension:.4}]},chartOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{enabled:!0}},scales:{x:{title:{display:!0,text:"Months"}},y:{beginAtZero:!0,title:{display:!0,text:"Values"}}}}}}};const Nb=(0,ne.A)(Sb,[["render",Db]]);var Mb=Nb;function Rb(e,t,a,l,s,n){const i=(0,o.g2)("pie-chart");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(i,{id:"pie-chart-component",chartData:s.chartData,chartOptions:s.chartOptions,style:{width:"500px",height:"500px"}},null,8,["chartData","chartOptions"])])}var Ab={components:{PieChart:_t},data(){return{chartData:{labels:["Facebook","Direct","Organic","Referral"],datasets:[{label:"Projects",data:[15,20,12,60],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]},chartOptions:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{enabled:!0}}}}}};const Ib=(0,ne.A)(Ab,[["render",Rb]]);var Eb=Ib;const Fb=e=>((0,o.Qi)("data-v-e5814636"),e=e(),(0,o.jt)(),e),Pb={class:"d-flex flex-row mb-3"},Ob=Fb((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/materialOrder.gif",alt:"자재검사대기",height:"75",width:"75"})],-1))),qb={class:"P-0"},$b={style:{height:"150px",width:"190px"}},Tb={class:"table align-items-center text-center"},jb=Fb((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 자재명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),Qb={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},Ub={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var Jb={__name:"materialOrder",props:{orderOk:Array},setup(e){const{orderOk:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",Pb,[Ob,(0,o.Lk)("div",qb,[(0,o.Lk)("div",$b,[(0,o.Lk)("table",Tb,[jb,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.orderOk.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",Qb,(0,d.v_)(e.material_name),1),(0,o.Lk)("td",Ub,(0,d.v_)(e.ord_qty),1)])))),128))])])])]))}};const zb=(0,ne.A)(Jb,[["__scopeId","data-v-e5814636"]]);var Bb=zb;const Vb=e=>((0,o.Qi)("data-v-0f3a9a4c"),e=e(),(0,o.jt)(),e),Wb={class:"d-flex flex-row mb-3"},Gb=Vb((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/materialQcing.gif",alt:"자재검사중",height:"75",width:"75"})],-1))),Xb={class:"P-0"},Kb={style:{height:"150px",width:"190px"}},Hb={class:"table align-items-center text-center"},Yb=Vb((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 자재명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),Zb={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},eL={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var tL={__name:"materialQcing",props:{material_qcing:Array},setup(e){const{material_qcing:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",Wb,[Gb,(0,o.Lk)("div",Xb,[(0,o.Lk)("div",Kb,[(0,o.Lk)("table",Hb,[Yb,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.material_qcing.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",Zb,(0,d.v_)(e.material_name),1),(0,o.Lk)("td",eL,(0,d.v_)(e.total_qnt),1)])))),128))])])])]))}};const aL=(0,ne.A)(tL,[["__scopeId","data-v-0f3a9a4c"]]);var lL=aL;const oL=e=>((0,o.Qi)("data-v-6755ac21"),e=e(),(0,o.jt)(),e),sL={class:"d-flex flex-row mb-3"},nL=oL((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/materialInput.gif",alt:"자재입고대기",height:"75",width:"75"})],-1))),iL={class:"P-0"},rL={style:{height:"150px",width:"190px"}},cL={class:"table align-items-center text-center"},dL=oL((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 자재명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),uL={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},pL={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var mL={__name:"materialInput",props:{material_input:Array},setup(e){const{material_input:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",sL,[nL,(0,o.Lk)("div",iL,[(0,o.Lk)("div",rL,[(0,o.Lk)("table",cL,[dL,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.material_input.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",uL,(0,d.v_)(e.material_name),1),(0,o.Lk)("td",pL,(0,d.v_)(e.ord_qty),1)])))),128))])])])]))}};const hL=(0,ne.A)(mL,[["__scopeId","data-v-6755ac21"]]);var yL=hL;const fL=e=>((0,o.Qi)("data-v-5e7d4fda"),e=e(),(0,o.jt)(),e),gL={class:"d-flex flex-row mb-3"},kL=fL((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/productInput.gif",alt:"제품입고대기",height:"75",width:"75"})],-1))),bL={class:"P-0"},LL={style:{height:"150px",width:"190px"}},vL={class:"table align-items-center text-center"},xL=fL((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 상품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),wL={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},_L={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var CL={__name:"productInput",props:{productinputwait:Array},setup(e){const{productinputwait:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",gL,[kL,(0,o.Lk)("div",bL,[(0,o.Lk)("div",LL,[(0,o.Lk)("table",vL,[xL,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.productinputwait.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",wL,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",_L,(0,d.v_)(e.product_qty),1)])))),128))])])])]))}};const DL=(0,ne.A)(CL,[["__scopeId","data-v-5e7d4fda"]]);var SL=DL;const NL=e=>((0,o.Qi)("data-v-2880b14e"),e=e(),(0,o.jt)(),e),ML={class:"d-flex flex-row mb-3"},RL=NL((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/productOut.gif",alt:"자재입고대기",height:"75",width:"75"})],-1))),AL={class:"P-0"},IL={style:{height:"150px",width:"190px"}},EL={class:"table align-items-center text-center"},FL=NL((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 상품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),PL={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},OL={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var qL={__name:"productOut",props:{produceOutWait:Array},setup(e){const{produceOutWait:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",ML,[RL,(0,o.Lk)("div",AL,[(0,o.Lk)("div",IL,[(0,o.Lk)("table",EL,[FL,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.produceOutWait.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",PL,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",OL,(0,d.v_)(e.product_qty),1)])))),128))])])])]))}};const $L=(0,ne.A)(qL,[["__scopeId","data-v-2880b14e"]]);var TL=$L;const jL=e=>((0,o.Qi)("data-v-525483bd"),e=e(),(0,o.jt)(),e),QL={class:"d-flex flex-row mb-3"},UL=jL((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/processOrder.gif",alt:"제품출고대기",height:"75",width:"75"})],-1))),JL={class:"P-0"},zL={style:{height:"150px",width:"190px"}},BL={class:"table align-items-center text-center"},VL=jL((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 자재명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),WL={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},GL={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var XL={__name:"processOrder",props:{process_list:Array},setup(e){const{process_list:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",QL,[UL,(0,o.Lk)("div",JL,[(0,o.Lk)("div",zL,[(0,o.Lk)("table",BL,[VL,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.process_list.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",WL,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",GL,(0,d.v_)(e.product_qty),1)])))),128))])])])]))}};const KL=(0,ne.A)(XL,[["__scopeId","data-v-525483bd"]]);var HL=KL;const YL=e=>((0,o.Qi)("data-v-2da54fdf"),e=e(),(0,o.jt)(),e),ZL={class:"d-flex flex-row mb-3"},ev=YL((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/process1.gif",alt:"착즙공정",height:"75",width:"75"})],-1))),tv={class:"p-0"},av={style:{height:"150px",width:"190px"}},lv={class:"table align-items-center text-center"},ov=YL((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 상품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),sv={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},nv={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var iv={__name:"process1",props:{process1_list:Array},setup(e){const{process1_list:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",ZL,[ev,(0,o.Lk)("div",tv,[(0,o.Lk)("div",av,[(0,o.Lk)("table",lv,[ov,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.process1_list.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",sv,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",nv,(0,d.v_)(e.product_qty),1)])))),128))])])])]))}};const rv=(0,ne.A)(iv,[["__scopeId","data-v-2da54fdf"]]);var cv=rv;const dv=e=>((0,o.Qi)("data-v-59107838"),e=e(),(0,o.jt)(),e),uv={class:"d-flex flex-row mb-3"},pv=dv((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/process1qc.gif",alt:"착즙검사",height:"75",width:"75"})],-1))),mv={class:"P-0"},hv={style:{height:"150px",width:"190px"}},yv={class:"table align-items-center text-center"},fv=dv((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 상품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),gv={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},kv={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var bv={__name:"process1qc",props:{process1_qc_list:Array},setup(e){const{process1_qc_list:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",uv,[pv,(0,o.Lk)("div",mv,[(0,o.Lk)("div",hv,[(0,o.Lk)("table",yv,[fv,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.process1_qc_list.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",gv,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",kv,(0,d.v_)(e.product_qty),1)])))),128))])])])]))}};const Lv=(0,ne.A)(bv,[["__scopeId","data-v-59107838"]]);var vv=Lv;const xv=e=>((0,o.Qi)("data-v-42539d62"),e=e(),(0,o.jt)(),e),wv={class:"d-flex flex-row mb-3"},_v=xv((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/process2.gif",alt:"병세척공정",height:"75",width:"75"})],-1))),Cv={class:"P-0"},Dv={style:{height:"150px",width:"190px"}},Sv={class:"table align-items-center text-center"},Nv=xv((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 상품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),Mv={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},Rv={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var Av={__name:"process2",props:{process2_list:Array},setup(e){const{process2_list:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",wv,[_v,(0,o.Lk)("div",Cv,[(0,o.Lk)("div",Dv,[(0,o.Lk)("table",Sv,[Nv,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.process2_list.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",Mv,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",Rv,(0,d.v_)(e.product_qty),1)])))),128))])])])]))}};const Iv=(0,ne.A)(Av,[["__scopeId","data-v-42539d62"]]);var Ev=Iv;const Fv=e=>((0,o.Qi)("data-v-4ebe38ae"),e=e(),(0,o.jt)(),e),Pv={class:"d-flex flex-row mb-3"},Ov=Fv((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/process2qc.gif",alt:"세척병검사",height:"75",width:"75"})],-1))),qv={class:"P-0"},$v={style:{height:"150px",width:"190px"}},Tv={class:"table align-items-center text-center"},jv=Fv((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 상품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),Qv={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},Uv={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var Jv={__name:"process2qc",props:{process2_qc_list:Array},setup(e){const{process2_qc_list:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",Pv,[Ov,(0,o.Lk)("div",qv,[(0,o.Lk)("div",$v,[(0,o.Lk)("table",Tv,[jv,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.process2_qc_list.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",Qv,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",Uv,(0,d.v_)(e.product_qty),1)])))),128))])])])]))}};const zv=(0,ne.A)(Jv,[["__scopeId","data-v-4ebe38ae"]]);var Bv=zv;const Vv=e=>((0,o.Qi)("data-v-469e90fc"),e=e(),(0,o.jt)(),e),Wv={class:"d-flex flex-row mb-3"},Gv=Vv((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/process3.gif",alt:"포장공정",height:"75",width:"75"})],-1))),Xv={class:"P-0"},Kv={style:{height:"150px",width:"190px"}},Hv={class:"table align-items-center text-center"},Yv=Vv((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 상품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),Zv={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},ex={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var tx={__name:"process3",props:{process3_list:Array},setup(e){const{process3_list:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",Wv,[Gv,(0,o.Lk)("div",Xv,[(0,o.Lk)("div",Kv,[(0,o.Lk)("table",Hv,[Yv,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.process3_list.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",Zv,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",ex,(0,d.v_)(e.product_qty),1)])))),128))])])])]))}};const ax=(0,ne.A)(tx,[["__scopeId","data-v-469e90fc"]]);var lx=ax;const ox=e=>((0,o.Qi)("data-v-5b667094"),e=e(),(0,o.jt)(),e),sx={class:"d-flex flex-row mb-3"},nx=ox((()=>(0,o.Lk)("div",{class:"P-0",style:{height:"110px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/process3qc.gif",alt:"포장검사",height:"75",width:"75"})],-1))),ix={class:"P-0"},rx={style:{height:"150px",width:"190px"}},cx={class:"table align-items-center text-center"},dx=ox((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 상품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),ux={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},px={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var mx={__name:"process3qc",props:{process3_qc_list:Array},setup(e){const{process3_qc_list:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",sx,[nx,(0,o.Lk)("div",ix,[(0,o.Lk)("div",rx,[(0,o.Lk)("table",cx,[dx,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.process3_qc_list.slice(0,5),((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",ux,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",px,(0,d.v_)(e.product_qty),1)])))),128))])])])]))}};const hx=(0,ne.A)(mx,[["__scopeId","data-v-5b667094"]]);var yx=hx;const fx=e=>((0,o.Qi)("data-v-504b6d02"),e=e(),(0,o.jt)(),e),gx={class:"d-flex flex-row mb-3"},kx=fx((()=>(0,o.Lk)("div",{class:"P-0",style:{width:"35px",height:"110px",display:"flex","justify-content":"center","align-items":"center"}},null,-1))),bx={class:"P-0"},Lx={style:{height:"150px",width:"240px"},class:"overflow-y-scroll"},vx={class:"table align-items-center text-center"},xx=fx((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 제품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),wx={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},_x={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var Cx={__name:"productqtyqty",props:{productQty:Array},setup(e){const{productQty:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",gx,[kx,(0,o.Lk)("div",bx,[(0,o.Lk)("div",Lx,[(0,o.Lk)("table",vx,[xx,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.productQty,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",wx,(0,d.v_)(e.product_name),1),(0,o.Lk)("td",_x,(0,d.v_)(e.product_qty)+"     ",1)])))),128))])])])]))}};const Dx=(0,ne.A)(Cx,[["__scopeId","data-v-504b6d02"]]);var Sx=Dx;const Nx=e=>((0,o.Qi)("data-v-d1fc2838"),e=e(),(0,o.jt)(),e),Mx={class:"d-flex flex-row mb-3"},Rx=Nx((()=>(0,o.Lk)("div",{class:"P-0",style:{width:"35px",height:"110px",display:"flex","justify-content":"center","align-items":"center"}},null,-1))),Ax={class:"P-0"},Ix={style:{height:"150px",width:"240px"},class:"overflow-y-scroll"},Ex={class:"table align-items-center text-center"},Fx=Nx((()=>(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 자재명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2"}," 수량 ")],-1))),Px={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"left"}},Ox={class:"text-uppercase text-dark fs-6 font-weight-bolder opacity-7 ps-2",style:{"text-align":"right"}};var qx={__name:"materialqtyqty",props:{materialqty:Array},setup(e){const{materialqty:t}=e;return(t,a)=>((0,o.uX)(),(0,o.CE)("div",Mx,[Rx,(0,o.Lk)("div",Ax,[(0,o.Lk)("div",Ix,[(0,o.Lk)("table",Ex,[Fx,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.materialqty,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",Px,(0,d.v_)(e.material_name),1),(0,o.Lk)("td",Ox,(0,d.v_)(e.stok_qty)+"     ",1)])))),128))])])])]))}};const $x=(0,ne.A)(qx,[["__scopeId","data-v-d1fc2838"]]);var Tx=$x;const jx=e=>((0,o.Qi)("data-v-9d7e848e"),e=e(),(0,o.jt)(),e),Qx={style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","text-align":"center","padding-bottom":"30px"}},Ux={class:"d-flex flex-row m-0"},Jx={class:"p-0 material_processing"},zx={style:{width:"285px"}},Bx=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  자재검사대기",-1))),Vx=jx((()=>(0,o.Lk)("div",{class:"p-0 material_processing"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample.png",alt:"화살표",width:"25"})])],-1))),Wx={class:"p-0 material_processing"},Gx={style:{width:"285px"}},Xx=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  자재검사중",-1))),Kx=jx((()=>(0,o.Lk)("div",{class:"p-0 material_processing"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample.png",alt:"화살표",width:"25"})])],-1))),Hx={class:"p-0",style:{height:"240px"}},Yx={style:{width:"285px"},class:"material_processing"},Zx=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  자재입고대기",-1))),ew=jx((()=>(0,o.Lk)("div",{class:"p-0"},[(0,o.Lk)("div",{class:"material_processing",style:{width:"285px",height:"40px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample_bottom.png",height:"25"})])],-1))),tw=jx((()=>(0,o.Lk)("div",{class:"p-0"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}})],-1))),aw={class:"p-0 product_processing"},lw={style:{width:"285px"}},ow=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  제품출고대기",-1))),sw=jx((()=>(0,o.Lk)("div",{class:"p-0 product_processing"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample_left.png",alt:"화살표",width:"25"})])],-1))),nw={class:"p-0 product_processing"},iw={style:{width:"285px"}},rw=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  제품 재고 현황",-1))),cw={class:"d-flex flex-row mb-0"},dw={class:"p-0",style:{height:"240px"}},uw={style:{width:"285px"},class:"process_processing"},pw=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  생산지시",-1))),mw=jx((()=>(0,o.Lk)("div",{class:"p-0"},[(0,o.Lk)("div",{class:"process_processing",style:{width:"285px",height:"40px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample_bottom.png",height:"25"})])],-1))),hw=(0,o.Fv)('<div class="p-0" data-v-9d7e848e><div style="width:40px;height:200px;display:flex;justify-content:center;align-items:center;" data-v-9d7e848e></div></div><div class="p-0" data-v-9d7e848e><div style="width:285px;" data-v-9d7e848e></div></div><div class="p-0" data-v-9d7e848e><div style="width:40px;height:200px;display:flex;justify-content:center;align-items:center;" data-v-9d7e848e></div></div>',3),yw={class:"p-0 material_processing"},fw={style:{width:"285px"}},gw=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  자재 재고 현황",-1))),kw=jx((()=>(0,o.Lk)("div",{class:"p-0"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}})],-1))),bw={class:"p-0 process_processing"},Lw={style:{width:"285px"}},vw=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  제품입고대기",-1))),xw=jx((()=>(0,o.Lk)("div",{class:"p-0 process_processing"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample_left.png",alt:"화살표",width:"25"})])],-1))),ww={class:"p-0"},_w={style:{width:"285px"},class:"process_processing"},Cw=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  포장검사",-1))),Dw=jx((()=>(0,o.Lk)("div",{class:"p-0"},[(0,o.Lk)("div",{class:"process_processing",style:{width:"285px",height:"40px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample_top.png",height:"25"})])],-1))),Sw={class:"d-flex flex-row mb-0"},Nw={class:"p-0 process_processing"},Mw={style:{width:"285px"}},Rw=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  음료제작공정",-1))),Aw=jx((()=>(0,o.Lk)("div",{class:"p-0 process_processing"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample.png",alt:"화살표",width:"25"})])],-1))),Iw={class:"p-0 process_processing"},Ew={style:{width:"285px"}},Fw=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  음료제작검사",-1))),Pw=jx((()=>(0,o.Lk)("div",{class:"p-0 process_processing"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample.png",alt:"화살표",width:"25"})])],-1))),Ow={class:"p-0 process_processing"},qw={style:{width:"285px"}},$w=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  병세척공정",-1))),Tw=jx((()=>(0,o.Lk)("div",{class:"p-0 process_processing"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample.png",alt:"화살표",width:"25"})])],-1))),jw={class:"p-0 process_processing"},Qw={style:{width:"285px"}},Uw=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  세척병검사",-1))),Jw=jx((()=>(0,o.Lk)("div",{class:"p-0 process_processing"},[(0,o.Lk)("div",{style:{width:"40px",height:"200px",display:"flex","justify-content":"center","align-items":"center"}},[(0,o.Lk)("img",{src:"http://yeonsus.com/academy/arrow_sample.png",alt:"화살표",width:"25"})])],-1))),zw={class:"p-0 process_processing"},Bw={style:{width:"285px"}},Vw=jx((()=>(0,o.Lk)("h5",{class:"mb-0"},"  포장공정",-1)));var Ww={__name:"factoryProcess",setup(e){const t=(0,lo.KR)([]),a=async function(){const e={materialCode:"",clientName:"",POListCode:"",startDate:"",endDate:"",materialState:["a1"]};let a=await Re.A.put(`${Ae}/material/configloding`,e).catch((e=>console.log(e)));console.log("aaaaaa",a.data),t.value=a.data.map((e=>({...e,ord_qty:e.material_name.includes("병")?Number(e.ord_qty).toLocaleString()+" 개":(.001*Number(e.ord_qty)).toLocaleString()+" kg",order_date:Ho.dateFormat(e.order_date,"yyyy-MM-dd"),limit_date:Ho.dateFormat(e.limit_date,"yyyy-MM-dd"),unit_price:e.material_name.includes("병")?Number(e.unit_price).toLocaleString()+" 원":Number(.001*e.unit_price).toLocaleString()+" 원",total_price:e.material_name.includes("병")?Number(e.total_price).toLocaleString()+" 원":Number(.001*e.total_price).toLocaleString()+" 원"}))),console.log("검수대기항목",t.value)},l=(0,lo.KR)([]),s=async function(){const e={mName:"",startDate:null,endDate:null,qcState:"qcs3"};let t=await Re.A.post(`${Ae}/material/recordQCM2`,e).catch((e=>console.log(e)));l.value=t.data.map((e=>({...e,total_qnt:e.material_name&&e.material_name.includes("병")?Number(e.total_qnt).toLocaleString()+" 개":(.001*Number(e.total_qnt)).toLocaleString()+" kg"}))),console.log("검사중인 자재",l)},n=(0,lo.KR)([]),i=async function(){let e=await Re.A.get(`${Ae}/material/miql2`).catch((e=>console.log(e)));n.value=e.data,n.value=e.data.map((e=>({...e,inspec_end:Ho.dateFormat(e.inspec_endm,"yyyy-MM-dd"),ord_qty:e.material_name.includes("병")?Number(e.ord_qty).toLocaleString()+" 개":(.001*Number(e.ord_qty)).toLocaleString()+" kg",total_qnt:e.material_name.includes("병")?Number(e.total_qnt).toLocaleString()+" 개":(.001*Number(e.total_qnt)).toLocaleString()+" kg",pass_qnt:e.material_name.includes("병")?Number(e.pass_qnt).toLocaleString()+" 개":(.001*Number(e.pass_qnt)).toLocaleString()+" kg",rjc_qnt:e.material_name.includes("병")?Number(e.rjc_qnt).toLocaleString()+" 개":(.001*Number(e.rjc_qnt)).toLocaleString()+" kg",unit_price:e.material_name.includes("병")?Number(e.unit_price).toLocaleString()+" 원":Number(.001*e.unit_price).toLocaleString()+" 원",total_price:e.material_name.includes("병")?Number(e.total_price).toLocaleString()+" 원":Number(1e-6*e.total_price).toLocaleString()+" 원"}))),console.log("자재입고대기",n.value)},r=(0,lo.KR)([]),c=async function(){let e=await Re.A.get(`${Ae}/material/processlist`).catch((e=>console.log(e)));r.value=e.data,console.log("생산 지시 목록 ",r.value)},u=(0,lo.KR)([]),p=async function(){let e=await Re.A.get(`${Ae}/material/process1list`).catch((e=>console.log(e)));u.value=e.data,console.log("착즙",u.value)},m=(0,lo.KR)([]),h=async function(){let e=await Re.A.get(`${Ae}/material/process1QcList`).catch((e=>console.log(e)));m.value=e.data,console.log("착즙 품질",m.value)},y=(0,lo.KR)([]),f=async function(){let e=await Re.A.get(`${Ae}/material/process2List`).catch((e=>console.log(e)));y.value=e.data,console.log("세척 목록 ",y.value)},g=(0,lo.KR)([]),k=async function(){let e=await Re.A.get(`${Ae}/material/process2QcList`).catch((e=>console.log(e)));g.value=e.data,console.log("세척 품질",g.value)},b=(0,lo.KR)([]),L=async function(){let e=await Re.A.get(`${Ae}/material/process3List`).catch((e=>console.log(e)));b.value=e.data,console.log("포장 목록 ",b.value)},v=(0,lo.KR)([]),x=async function(){let e=await Re.A.get(`${Ae}/material/process3QcList`).catch((e=>console.log(e)));v.value=e.data,console.log("포장 품질",v.value)},w=(0,lo.KR)([]),_=async function(){let e=await Re.A.get(`${Ae}/material/productInputWait`).catch((e=>console.log(e)));w.value=e.data,console.log("제품 입고 대기",w.value)},C=(0,lo.KR)([]),D=async function(){let e=await Re.A.get(`${Ae}/material/produceoutwait`).catch((e=>console.log(e)));C.value=e.data,console.log("제품 입고 대기",C.value)},S=(0,lo.KR)([]),N=async function(){let e=await Re.A.get(`${Ae}/material/productqtying`).catch((e=>console.log(e)));S.value=e.data,console.log("제품 재고",S.value)},M=(0,lo.KR)([]),R=async function(){let e=await Re.A.get(`${Ae}/material/materialQtying`).catch((e=>console.log(e)));console.log("자재 재고",M.value),M.value=e.data.map((e=>({...e,stok_qty:e.material_name.includes("병")?Number(e.stok_qty).toLocaleString()+" 개":(.001*Number(e.stok_qty)).toLocaleString()+" kg"})))},A=(0,lo.KR)("");let I=null;const E=()=>{const e=new Date;A.value=`${e.getFullYear()}년 ${String(e.getMonth()+1).padStart(2,"0")}월 ${String(e.getDate()).padStart(2,"0")}일 ${String(e.getHours()).padStart(2,"0")}시 ${String(e.getMinutes()).padStart(2,"0")}분 ${String(e.getSeconds()).padStart(2,"0")}초`,console.log("형식화된 시간:",A),e.getSeconds()%5===0&&(a(),s(),i(),c(),p(),h(),f(),k(),L(),x(),_(),D(),N(),R())};return(0,o.KC)((()=>{E(),I=setInterval(E,1e3)})),(0,o.hi)((()=>{clearInterval(I)})),(e,a)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"  실시간 공정 흐름도    현재시각 : [ "+(0,d.v_)(A.value)+" ]",1)]),(0,o.Lk)("div",Qx,[(0,o.Lk)("div",Ux,[(0,o.Lk)("div",Jx,[(0,o.Lk)("div",zx,[Bx,(0,o.bF)(Bb,{orderOk:t.value},null,8,["orderOk"])])]),Vx,(0,o.Lk)("div",Wx,[(0,o.Lk)("div",Gx,[Xx,(0,o.bF)(lL,{material_qcing:l.value},null,8,["material_qcing"])])]),Kx,(0,o.Lk)("div",Hx,[(0,o.Lk)("div",Yx,[Zx,(0,o.bF)(yL,{material_input:n.value},null,8,["material_input"])]),ew]),tw,(0,o.Lk)("div",aw,[(0,o.Lk)("div",lw,[ow,(0,o.bF)(TL,{produceOutWait:C.value},null,8,["produceOutWait"])])]),sw,(0,o.Lk)("div",nw,[(0,o.Lk)("div",iw,[rw,(0,o.bF)(Sx,{productQty:S.value},null,8,["productQty"])])])]),(0,o.Lk)("div",cw,[(0,o.Lk)("div",dw,[(0,o.Lk)("div",uw,[pw,(0,o.bF)(HL,{process_list:r.value},null,8,["process_list"])]),mw]),hw,(0,o.Lk)("div",yw,[(0,o.Lk)("div",fw,[gw,(0,o.bF)(Tx,{materialqty:M.value},null,8,["materialqty"])])]),kw,(0,o.Lk)("div",bw,[(0,o.Lk)("div",Lw,[vw,(0,o.bF)(SL,{productinputwait:w.value},null,8,["productinputwait"])])]),xw,(0,o.Lk)("div",ww,[(0,o.Lk)("div",_w,[Cw,(0,o.bF)(yx,{process3_qc_list:v.value},null,8,["process3_qc_list"])]),Dw])]),(0,o.Lk)("div",Sw,[(0,o.Lk)("div",Nw,[(0,o.Lk)("div",Mw,[Rw,(0,o.bF)(cv,{process1_list:u.value},null,8,["process1_list"])])]),Aw,(0,o.Lk)("div",Iw,[(0,o.Lk)("div",Ew,[Fw,(0,o.bF)(vv,{process1_qc_list:m.value},null,8,["process1_qc_list"])])]),Pw,(0,o.Lk)("div",Ow,[(0,o.Lk)("div",qw,[$w,(0,o.bF)(Ev,{process2_list:y.value},null,8,["process2_list"])])]),Tw,(0,o.Lk)("div",jw,[(0,o.Lk)("div",Qw,[Uw,(0,o.bF)(Bv,{process2_qc_list:g.value},null,8,["process2_qc_list"])])]),Jw,(0,o.Lk)("div",zw,[(0,o.Lk)("div",Bw,[Vw,(0,o.bF)(lx,{process3_list:b.value},null,8,["process3_list"])])])])])],64))}};const Gw=(0,ne.A)(Ww,[["__scopeId","data-v-9d7e848e"]]);var Xw=Gw;const Kw=[{path:"/",name:"materialList2",redirect:{name:"materialList2"}},{path:"order",name:"materialList",component:zp},{path:"newOrder",name:"materialList2",component:Bm},{path:"orderlist",name:"materialOrderList",component:Gh},{path:"input",name:"materialInput",component:of},{path:"inputlist",name:"materialInputList",component:Kf},{path:"lotqty",name:"materialLotqty",component:xk},{path:"materialqty",name:"materialqty",component:hb},{path:"test",name:"tabletest",component:Lb},{path:"test2",name:"Tabletest2",component:Cb},{path:"test3",name:"Tabletest3",component:Mb},{path:"test4",name:"Tabletest4",component:Eb},{path:"factory",name:"Factory",component:Xw},{path:"main",name:"Main",component:Da}];var Hw=Kw;function Yw(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(),(0,o.Wv)(a,{key:e.$route.fullPath}))])}const Zw={},e_=(0,ne.A)(Zw,[["render",Yw]]);var t_=e_;const a_=e=>((0,o.Qi)("data-v-40a6dfe4"),e=e(),(0,o.jt)(),e),l_={class:"container-fluid py-4"},o_=a_((()=>(0,o.Lk)("div",{class:"pb-4"},[(0,o.Lk)("h3",null,"생산계획 목록")],-1))),s_={class:"main-container mt-4"},n_={class:"content"},i_={class:"row gx-3 gy-2 align-items-center"},r_={class:"col-sm-2"},c_=a_((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"product"},"제품명",-1))),d_=["value"],u_={class:"radio-con"},p_=a_((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"planStatusOption"},"진행상태",-1))),m_={id:"planStatusOption",style:{"padding-left":"20px",display:"inline-flex","align-items":"center",gap:"15px","white-space":"nowrap"}},h_={style:{"white-space":"nowrap"}},y_={style:{"white-space":"nowrap"}},f_={style:{"white-space":"nowrap"}},g_={class:"row gx-3 gy-2 mt-2 calendar-con"},k_={class:""},b_=a_((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"startDate"},"계획시작일자",-1))),L_={class:"input-group"},v_={class:""},x_=a_((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"endDate"},"계획종료일자",-1))),w_={class:"input-group"},__={class:"col-auto mt-1 text-center"},C_={class:"grid-container work",style:{"padding-top":"10px"}},D_=a_((()=>(0,o.Lk)("h6",{class:"guide"},[(0,o.eW)(" * 수정 시, 셀을 더블 클릭하여 수정해주세요. 수정이 완료되면 상단 오른쪽에 메세지가 나타납니다. "),(0,o.Lk)("br"),(0,o.Lk)("span",null,"대기중"),(0,o.eW)("인 계획만 수정 가능합니다. ")],-1)));function S_(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("ProductList"),d=(0,o.g2)("Modal");return(0,o.uX)(),(0,o.CE)("div",l_,[o_,(0,o.Lk)("div",s_,[(0,o.Lk)("div",n_,[(0,o.Lk)("form",i_,[(0,o.Lk)("div",r_,[c_,(0,o.Lk)("input",{type:"text",readonly:"",onClick:t[0]||(t[0]=e=>i.openModal(!1)),value:n.searchProduct.product_name,class:"form-control cursor-pointer",style:{"background-color":"white","padding-left":"20px"},id:"product"},null,8,d_)]),(0,o.Lk)("div",u_,[p_,(0,o.Lk)("div",m_,[(0,o.Lk)("label",h_,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input cursor-pointer",value:"plan_waiting","onUpdate:modelValue":t[1]||(t[1]=e=>n.planStatusOption=e)},null,512),[[l.lH,n.planStatusOption]]),(0,o.eW)("  대기중")]),(0,o.Lk)("label",y_,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input cursor-pointer",value:"plan_in_process","onUpdate:modelValue":t[2]||(t[2]=e=>n.planStatusOption=e)},null,512),[[l.lH,n.planStatusOption]]),(0,o.eW)("  진행중")]),(0,o.Lk)("label",f_,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",class:"form-check-input cursor-pointer",value:"plan_complete","onUpdate:modelValue":t[3]||(t[3]=e=>n.planStatusOption=e)},null,512),[[l.lH,n.planStatusOption]]),(0,o.eW)("  완료")])])]),(0,o.Lk)("div",g_,[(0,o.Lk)("div",k_,[b_,(0,o.Lk)("div",L_,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"startDate","onUpdate:modelValue":t[4]||(t[4]=e=>n.startDate=e)},null,512),[[l.Jo,n.startDate]])])]),(0,o.Lk)("div",v_,[x_,(0,o.Lk)("div",w_,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"endDate","onUpdate:modelValue":t[5]||(t[5]=e=>n.endDate=e)},null,512),[[l.Jo,n.endDate]])])])])]),(0,o.Lk)("div",__,[(0,o.Lk)("button",{type:"button",class:"btn me-5 fs-6 btn-success",onClick:t[6]||(t[6]=(...e)=>i.search&&i.search(...e))},"조회"),(0,o.Lk)("button",{type:"button",class:"btn btn-warning fs-6",onClick:t[7]||(t[7]=(...e)=>i.resetFilter&&i.resetFilter(...e))},"초기화")])])]),(0,o.Lk)("div",C_,[(0,o.bF)(r,{ref:"agGrid",rowData:n.rowData,columnDefs:n.columnDefs,theme:i.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",getRowClass:i.getRowClass,quickFilterText:n.listSearch,onCellEditingStopped:i.onCellEditingStopped,onCellDoubleClicked:i.onCellDoubleClicked,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","getRowClass","quickFilterText","onCellEditingStopped","onCellDoubleClicked"])]),D_,(0,o.bF)(d,{isShowModal:n.isShowModal,modalTitle:n.modalTitle,noBtn:"닫기",yesBtn:"선택",onCloseModal:i.closeModal,onConfirm:i.confirm},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(c,{onSelectProduct:i.selectProduct},null,8,["onSelectProduct"]),[[l.aG,n.isShowModal]])])),_:1},8,["isShowModal","modalTitle","onCloseModal","onConfirm"])])}const N_=e=>((0,o.Qi)("data-v-45c8bf9e"),e=e(),(0,o.jt)(),e),M_={class:"container-fluid"},R_={class:"row w-100"},A_={class:"col-12"},I_={class:"card"},E_={class:"card-body px-0"},F_={class:"table-responsive p-0"},P_={class:"table align-items-center justify-content-center mb-0"},O_=N_((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-center text-uppercase text-secondary text-md font-weight-bolder opacity-7"}," 제품번호 "),(0,o.Lk)("th",{class:"text-center text-uppercase text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 제품이름 ")])],-1))),q_=["onClick"],$_={class:"d-flex justify-content-center px-2"},T_={class:"my-auto"},j_={class:"mb-0 text-sm"},Q_={class:"text-center text-sm font-weight-bold mb-0"};function U_(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",M_,[(0,o.Lk)("div",R_,[(0,o.Lk)("div",A_,[(0,o.Lk)("div",I_,[(0,o.Lk)("div",E_,[(0,o.Lk)("div",F_,[(0,o.Lk)("table",P_,[O_,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.productList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.product_code,class:(0,d.C4)(["product",{selected:s.selectedCode===e.product_code}]),onClick:t=>n.clickProduct(e)},[(0,o.Lk)("td",null,[(0,o.Lk)("div",$_,[(0,o.Lk)("div",T_,[(0,o.Lk)("h6",j_,(0,d.v_)(e.product_code),1)])])]),(0,o.Lk)("td",null,[(0,o.Lk)("p",Q_,(0,d.v_)(e.product_name),1)])],10,q_)))),128))])])])])])])])])}var J_={name:"productList",data(){return{productList:[],selectedCode:""}},mounted(){this.getProductList()},methods:{async getProductList(){let e=await Re.A.get(`${Ae}/production/plan/products`).catch((e=>console.log(e)));this.productList=e.data},clickProduct(e){this.selectedCode=e.product_code,this.$emit("selectProduct",e)}}};const z_=(0,ne.A)(J_,[["render",U_],["__scopeId","data-v-45c8bf9e"]]);var B_=z_,V_={name:"tables",components:{Modal:mo,ProductList:B_},data(){return{isForProductChange:!1,startDate:"",endDate:"",planStatusOption:[],isShowModal:!1,listSearch:"",rowData:[],columnDefs:[{headerName:"",headerCheckboxSelection:!0,field:"check",resizable:!1,editable:!0,sortable:!1,checkboxSelection:!0,width:50,flex:1},{headerName:"생산계획번호",field:"plan_num",cellStyle:{textAlign:"right"},flex:2},{headerName:"생산계획명",field:"plan_name",editable:e=>"대기중"===e.data.plan_status,cellRenderer:e=>e.value&&"대기중"===e.data.plan_status?`\n                <span style="display: flex; align-items: center; justify-content: flex-end;">\n                    <span style="flex-grow: 1; text-align: left;">${e.value}</span>\n                    <i class="fas fa-edit" style="color: #6c757d88" title="더블클릭하여 수정해주세요."></i>\n                </span>\n                `:`<span style="flex-grow: 1; text-align: left;">${e.value||""}</span>`,flex:3},{headerName:"계획시작일자",field:"plan_start_date",cellStyle:{textAlign:"center"},editable:e=>"대기중"===e.data.plan_status,cellRenderer:e=>e.value&&"대기중"===e.data.plan_status?`\n                <span style="display: flex; align-items: center; justify-content: flex-end;">\n                    <span style="flex-grow: 1; text-align: left;">${e.value}</span>\n                    <i class="fas fa-edit" style="color: #6c757d88" title="더블클릭하여 수정해주세요."></i>\n                </span>\n                `:`<span style="display: flex; align-items: center; justify-content: flex-end;">\n                        <span style="flex-grow: 1; text-align: left;">${e.value||""}</span>\n                      </span>`,flex:2},{headerName:"계획종료일자",field:"plan_end_date",cellStyle:{textAlign:"center"},editable:e=>"대기중"===e.data.plan_status,cellRenderer:e=>e.value&&"대기중"===e.data.plan_status?`\n                <span style="display: flex; align-items: center; justify-content: flex-end;">\n                    <span style="flex-grow: 1; text-align: left;">${e.value}</span>\n                    <i class="fas fa-edit" style="color: #6c757d88" title="더블클릭하여 수정해주세요."></i>\n                </span>\n                `:`<span style="display: flex; align-items: center; justify-content: flex-end;">\n                        <span style="flex-grow: 1; text-align: left;">${e.value||""}</span>\n                      </span>`,flex:2},{headerName:"진행상태",field:"plan_status",cellClass:e=>"완료"===e.value?"green":"진행중"===e.value?"gray":"대기중"===e.value?"red":"",cellStyle:{textAlign:"center"},flex:2},{headerName:"제품명",field:"product_name",cellRenderer:e=>"대기중"===e.data.plan_status?`\n                <span style="display: flex; align-items: center; justify-content: flex-end;">\n                    <span style="flex-grow: 1; text-align: left;">${e.value}</span>\n                    <i class="fas fa-edit" style="color: #6c757d88" title="더블클릭하여 수정해주세요."></i>\n                </span>\n                `:`<span style="display: flex; align-items: center; justify-content: flex-end;">\n                        <span style="flex-grow: 1; text-align: left;">${e.value||""}</span>\n                      </span>`},{headerName:"계획수량",field:"plan_qty",cellStyle:{textAlign:"right"},editable:e=>"대기중"===e.data.plan_status,cellRenderer:e=>"대기중"===e.data.plan_status?`\n                <span style="display: flex; align-items: center; justify-content: flex-end;">\n                    <i class="fas fa-edit" style="color: #6c757d88" title="더블클릭하여 수정해주세요."></i>\n                    <span style="flex-grow: 1; text-align: right;">${e.value}</span>\n                </span>\n                `:`<span style="display: flex; align-items: center; justify-content: flex-end;">\n                        <span style="flex-grow: 1; text-align: right;">${e.value||""}</span>\n                      </span>`,flex:2},{headerName:"주문계획번호",field:"order_plan_num",hide:!0},{headerName:"제품 번호",field:"product_code",hide:!0}],planStatus:{plan_waiting:"대기중",plan_in_process:"진행중",plan_complete:"완료"},modalTitle:"제품 목록",selectedProduct:{product_code:"",product_name:""},searchProduct:{product_code:"",product_name:""},planInfo:{}}},computed:{theme(){return ko}},created(){this.getPlanList()},methods:{onCellDoubleClicked(e){"product_name"===e.colDef.field&&"대기중"===e.data.plan_status&&(this.setPlanInfo(e.data),this.openModal(!0))},confirm(){this.isForProductChange?(this.planInfo.orderPlanRelation.productCode=this.selectedProduct.product_code,this.editPlan()):this.searchProduct=this.selectedProduct,this.closeModal()},setPlanInfo(e){this.planInfo={plan:{planStartDate:e.plan_start_date,planEndDate:e.plan_end_date,planName:e.plan_name,planNum:e.plan_num},orderPlanRelation:{productCode:e.product_code,planQty:e.plan_qty,orderPlanNum:e.order_plan_num}}},async editPlan(){let e=await Re.A.put(`${Ae}/production/plan`,this.planInfo).catch((e=>console.log(e)));"success"===e.data.message?(this.$notify({text:"수정되었습니다.",type:"success"}),await this.getPlanList()):this.$notify({text:"수정 실패하였습니다.",type:"error"})},async onCellEditingStopped(e){this.setPlanInfo(e.data),await this.editPlan()},search(){let e={product:this.searchProduct.product_code,status:this.planStatusOption,startDate:this.startDate,endDate:this.endDate};this.getPlanList(e)},resetFilter(){this.searchProduct={product_code:"",product_name:""},this.planStatusOption=[],this.startDate="",this.endDate="",this.getPlanList()},closeModal(){this.isShowModal=!1},selectProduct(e){this.selectedProduct=e},openModal(e){this.isForProductChange=e,this.isShowModal=!this.isShowModal},getRowClass(e){return null!==e.data.plan_num?"borderTop":"noBorder"},onReady(e){this.gridApi=e.api;const t=document.querySelector(".ag-paging-panel");if(t){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const a=document.createElement("button");a.textContent="삭제",a.style.marginRight="10px",a.style.cursor="pointer",a.style.backgroundColor="#f44335",a.style.color="white",a.style.border="none",a.style.padding="5px 10px",a.style.borderRadius="4px",a.style.position="absolute",a.style.left="10px",a.addEventListener("click",(()=>{this.deletePlan()}));const l=document.createElement("input");l.type="text",l.placeholder="검색",l.style.padding="5px",l.style.width="200px",l.style.border="1px solid #ccc",l.style.borderRadius="4px",l.style.position="absolute",l.style.left="70px",l.addEventListener("input",(e=>{this.listSearch=e.target.value})),e.appendChild(a),e.appendChild(l),t.insertBefore(e,t.firstChild)}},async deletePlan(){const e=this.gridApi.getSelectedRows();if(0===e.length)return void this.$notify({text:"삭제할 계획을 선택해주세요.",type:"error"});let t=[];e.forEach((e=>{t.push(e.order_plan_num)}));let a=await Re.A.post(`${Ae}/production/plan/delete`,t).catch((e=>console.log(e)));"success"===a.data.message?(this.$notify({text:"삭제되었습니다.",type:"success"}),await this.getPlanList()):this.$notify({text:"삭제 실패하였습니다.",type:"error"})},dateFormat(e,t){return Ho.dateFormat(e,t)},async getPlanList(e){let t=null;if(t=e?await Re.A.get(`${Ae}/production/plan?productCode=${e.product}&status=${e.status}&startDate=${e.startDate}&endDate=${e.endDate}`).catch((e=>console.log(e))):await Re.A.get(`${Ae}/production/plan`).catch((e=>console.log(e))),this.rowData=[],0===t.data.length)return;let a=[];this.columnDefs.forEach((e=>{a.push(e.field)})),t.data.forEach(((e,t,l)=>{this.rowData[t]=0===t?{[a[1]]:e[a[1]],[a[2]]:e[a[2]],[a[3]]:this.dateFormat(e[a[3]],"yyyy-MM-dd"),[a[4]]:this.dateFormat(e[a[4]],"yyyy-MM-dd"),[a[5]]:this.planStatus[e[a[5]]],[a[6]]:e[a[6]],[a[7]]:e[a[7]],[a[8]]:e[a[8]],[a[9]]:e[a[9]]}:{[a[1]]:e[a[1]]===l[t-1][a[1]]?null:e[a[1]],[a[2]]:e[a[1]]===l[t-1][a[1]]?null:e[a[2]],[a[3]]:e[a[1]]===l[t-1][a[1]]?null:this.dateFormat(e[a[3]],"yyyy-MM-dd"),[a[4]]:e[a[1]]===l[t-1][a[1]]?null:this.dateFormat(e[a[4]],"yyyy-MM-dd"),[a[5]]:e[a[1]]===l[t-1][a[1]]?null:this.planStatus[e[a[5]]],[a[6]]:e[a[6]],[a[7]]:e[a[7]],[a[8]]:e[a[8]],[a[9]]:e[a[9]]}}))}}};const W_=(0,ne.A)(V_,[["render",S_],["__scopeId","data-v-40a6dfe4"]]);var G_=W_;const X_=e=>((0,o.Qi)("data-v-5cd8602b"),e=e(),(0,o.jt)(),e),K_={class:"container-fluid product-plan-add py-4"},H_=X_((()=>(0,o.Lk)("h3",null,"생산계획 등록",-1)));function Y_(e,t,a,l,s,n){const i=(0,o.g2)("PlanAddOrderList"),r=(0,o.g2)("PlanAddForm");return(0,o.uX)(),(0,o.CE)("div",K_,[H_,(0,o.bF)(i,{onSelectOrders:n.selectOrders},null,8,["onSelectOrders"]),(0,o.bF)(r,{selectedOrders:s.selectedOrders,onResetSelectedOrders:n.resetSelectedOrders},null,8,["selectedOrders","onResetSelectedOrders"])])}const Z_=e=>((0,o.Qi)("data-v-26880564"),e=e(),(0,o.jt)(),e),eC={class:"container-fluid"},tC={class:"search-container mt-4"},aC=Z_((()=>(0,o.Lk)("h4",null,"주문목록",-1))),lC={class:"input-group w-auto h-25"},oC=["value"],sC={class:"grid-container"},nC={style:{display:"none"}};function iC(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),d=(0,o.g2)("ProductList"),u=(0,o.g2)("Modal"),p=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)("div",eC,[(0,o.Lk)("div",tC,[aC,(0,o.Lk)("div",lC,[(0,o.Lk)("input",{type:"text",onClick:t[0]||(t[0]=(...e)=>i.openModal&&i.openModal(...e)),autocomplete:"off",value:n.searchProduct.product_name,readonly:"",class:"form-control border p-2 cursor-pointer",placeholder:"제품명"},null,8,oC)]),(0,o.bF)(r,{size:"sm",color:"success",class:"button",onClick:i.findOrdersAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체조회")])),_:1},8,["onClick"])]),(0,o.Lk)("div",sC,[(0,o.bF)(c,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,onGridReady:i.onGridReady,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.onRowClicked,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","noRowsOverlayComponent","onRowClicked"])]),(0,o.bF)(u,{isShowModal:n.isShowModal,modalTitle:n.modalTitle,noBtn:"닫기",yesBtn:"선택",onCloseModal:i.closeModal,onConfirm:i.confirm},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(d,{onSelectProduct:i.selectProduct},null,8,["onSelectProduct"]),[[l.aG,n.isShowModal]])])),_:1},8,["isShowModal","modalTitle","onCloseModal","onConfirm"]),(0,o.Lk)("div",nC,[(0,o.bF)(p)])])}function rC(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("button",{class:(0,d.C4)(["btn mb-0",n.getClasses(a.variant,a.color,a.size,a.fullWidth,a.active)])},[(0,o.RG)(e.$slots,"default")],2)}var cC={name:"MaterialButton",props:{color:{type:String,default:"success"},size:{type:String,default:"md"},variant:{type:String,default:"fill"},fullWidth:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},methods:{getClasses:(e,t,a,l,o)=>{let s,n,i,r;return s="gradient"===e?`bg-gradient-${t}`:"outline"===e?`btn-outline-${t}`:`btn-${t}`,n=a?`btn-${a}`:null,i=l?"w-100":null,r=o?"active":null,`${s} ${n} ${i} ${r}`}}};const dC=(0,ne.A)(cC,[["render",rC]]);var uC=dC,pC={name:"orderList",components:{Modal:mo,ProductList:B_,MaterialButton:uC,CustomNoRowsOverlay:Hs},data(){return{noRowsOverlayComponent:"CustomNoRowsOverlay",orders:[],searchProduct:{product_code:"",product_name:""},isShowModal:!1,modalTitle:"제품 목록",selectedProduct:{product_code:"",product_name:""},selectedOrders:[],theme:ko,rowData:[],columnDefs:[{headerName:"주문번호",field:"orderNum",cellStyle:{textAlign:"right"},flex:1},{headerName:"주문일자",field:"orderDate",cellStyle:{textAlign:"center"},flex:2},{headerName:"납기일자",field:"dueDate",cellStyle:{textAlign:"center"},flex:2},{headerName:"제품명",field:"productName",flex:2},{headerName:"주문량",field:"orderQty",cellStyle:{textAlign:"right"},flex:1},{headerName:"기계획량",field:"plannedQty",cellStyle:{textAlign:"right"},flex:1},{headerName:"미계획량",field:"unplannedQty",cellStyle:{textAlign:"right"},flex:1},{headerName:"재고",field:"stockQty",hide:!0},{headerName:"상품코드",field:"productCode",hide:!0}],loading:!1}},created(){this.getOrders()},methods:{onGridReady(e){this.gridApi=e.api},dateFormat(e,t){return Ho.dateFormat(e,t)},async getOrders(){let e=await Re.A.get(`${Ae}/production/plan/orders${this.searchProduct?.product_code&&"?product_code="+this.searchProduct.product_code}`).catch((e=>console.log(e)));if(this.orders=e.data,this.rowData=[],!this.orders.length)return;this.orders.forEach((e=>{e.order_date=this.dateFormat(e.order_date,"yyyy-MM-dd"),e.due_date=this.dateFormat(e.due_date,"yyyy-MM-dd")}));let t=[];this.columnDefs.forEach((e=>{t.push(e.field)})),this.rowData=[],this.orders.forEach(((e,a)=>{this.rowData[a]={[t[0]]:e.order_num,[t[1]]:e.order_date,[t[2]]:e.due_date,[t[3]]:e.product_name,[t[4]]:e.order_amount,[t[5]]:e.plan_qty,[t[6]]:e.unplanned_qty<0?0:e.unplanned_qty,[t[7]]:"재고",[t[8]]:e.product_code}}))},openModal(){this.isShowModal=!this.isShowModal},confirm(){this.searchProduct=this.selectedProduct,this.getOrders(),this.closeModal()},findOrdersAll(){this.searchProduct={product_code:"",product_name:""},this.getOrders()},async onRowClicked(e){let t=e.data;t.stockQty=await this.getProductStock(t.productCode),this.selectedOrders.some((e=>e.orderNum===t.orderNum))?this.selectedOrders=this.selectedOrders.filter((e=>e.orderNum!==t.orderNum)):this.selectedOrders.push(t),this.$emit("selectOrders",this.selectedOrders)},async getProductStock(e){let t=await Re.A.get(`${Ae}/production/plan/stock/${e}`).catch((e=>console.log(e)));return t.data.stock},closeModal(){this.isShowModal=!1},selectProduct(e){this.selectedProduct=e}}};const mC=(0,ne.A)(pC,[["render",iC],["__scopeId","data-v-26880564"]]);var hC=mC;const yC=e=>((0,o.Qi)("data-v-1f1cb9b9"),e=e(),(0,o.jt)(),e),fC={class:"add-top mt-4"},gC=yC((()=>(0,o.Lk)("h4",null,"생산계획 등록",-1))),kC=yC((()=>(0,o.Lk)("span",null,"* 위의 주문을 클릭 시 생산계획에 추가됩니다.",-1))),bC={class:"main-container"},LC={class:"table-responsive p-0"},vC={class:"table align-items-center justify-content-center mb-0"},xC={class:"no-data"},wC=["colspan"],_C={class:"mb-0 text-sm text-end"},CC={class:"mb-0 text-sm text-center"},DC={class:"mb-0 text-sm text-center"},SC={class:"mb-0 text-sm"},NC={class:"mb-0 text-sm text-end"},MC={class:"mb-0 text-sm text-end"},RC={class:"mb-0 text-sm text-end"},AC=["onUpdate:modelValue"],IC={class:"mb-0 text-sm text-end"},EC={class:"input-container"},FC={class:"input-content"},PC=yC((()=>(0,o.Lk)("h6",null,"생산계획명",-1))),OC={class:"input-group w-auto h-25"},qC={class:"input-content"},$C=yC((()=>(0,o.Lk)("h6",null,"계획시작일자",-1))),TC={class:"input-group w-auto h-25"},jC={class:"input-content"},QC=yC((()=>(0,o.Lk)("h6",null,"계획종료일자",-1))),UC={class:"input-group w-auto h-25"},JC={class:"input-content"},zC=yC((()=>(0,o.Lk)("h6",null,"등록인",-1))),BC={class:"input-group w-auto h-25"},VC=["value"];function WC(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("EmpList"),u=(0,o.g2)("Modal");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",fC,[gC,kC,(0,o.bF)(r,{size:"sm",color:"success",class:"button",onClick:i.addPlan},{default:(0,o.k6)((()=>[(0,o.eW)("등록")])),_:1},8,["onClick"])]),(0,o.Lk)("div",bC,[(0,o.Lk)("div",LC,[(0,o.Lk)("table",vC,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.cols,(e=>((0,o.uX)(),(0,o.CE)("th",{key:e,class:"text-uppercase text-secondary text-md font-weight-bolder text-center"},(0,d.v_)(e),1)))),128))])]),(0,o.bo)((0,o.Lk)("tbody",xC,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",{colspan:n.cols.length},null,8,wC)])],512),[[l.aG,!a.selectedOrders.length]]),(0,o.bo)((0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.selectedOrders,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.orderNum},[(0,o.Lk)("td",null,[(0,o.Lk)("p",_C,(0,d.v_)(e.orderNum),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",CC,(0,d.v_)(e.orderDate),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",DC,(0,d.v_)(e.dueDate),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",SC,(0,d.v_)(e.productName),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",NC,(0,d.v_)(e.orderQty),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",MC,(0,d.v_)(e.plannedQty),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",RC,(0,d.v_)(e.unplannedQty),1)]),(0,o.Lk)("td",{class:(0,d.C4)(["plan-qty-group input-group w-50 h-25 text-end m-lg-auto",{"plan-input":!e.planQty}])},[(0,o.bo)((0,o.Lk)("input",{type:"number",autocomplete:"off",class:"plan-qty mb-0 text-sm text-end form-control border p-2 cursor-pointer","onUpdate:modelValue":t=>e.planQty=t},null,8,AC),[[l.Jo,e.planQty]])],2),(0,o.Lk)("td",null,[(0,o.Lk)("p",IC,(0,d.v_)(e.stockQty),1)])])))),128))],512),[[l.aG,a.selectedOrders.length]])])]),(0,o.Lk)("div",EC,[(0,o.Lk)("div",FC,[PC,(0,o.Lk)("div",OC,[(0,o.bo)((0,o.Lk)("input",{type:"text",autocomplete:"off",class:"form-control border p-2","onUpdate:modelValue":t[0]||(t[0]=e=>n.planName=e)},null,512),[[l.Jo,n.planName]])])]),(0,o.Lk)("div",qC,[$C,(0,o.Lk)("div",TC,[(0,o.bo)((0,o.Lk)("input",{type:"date",autocomplete:"off",class:"form-control border p-2","onUpdate:modelValue":t[1]||(t[1]=e=>n.planStartDate=e)},null,512),[[l.Jo,n.planStartDate]])])]),(0,o.Lk)("div",jC,[QC,(0,o.Lk)("div",UC,[(0,o.bo)((0,o.Lk)("input",{type:"date",autocomplete:"off",class:"form-control border p-2","onUpdate:modelValue":t[2]||(t[2]=e=>n.planEndDate=e)},null,512),[[l.Jo,n.planEndDate]])])]),(0,o.Lk)("div",JC,[zC,(0,o.Lk)("div",BC,[(0,o.Lk)("input",{type:"text",onClick:t[3]||(t[3]=(...e)=>i.openModal&&i.openModal(...e)),autocomplete:"off",value:n.searchEmp.name,readonly:"",class:"form-control border p-2 emp"},null,8,VC)])])])]),(0,o.bF)(u,{isShowModal:n.isShowModal,modalTitle:n.modalTitle,noBtn:"닫기",yesBtn:"선택",onCloseModal:i.closeModal,onConfirm:i.confirm},{list:(0,o.k6)((()=>[(0,o.bF)(c,{onSelectEmp:i.selectEmp},null,8,["onSelectEmp"])])),_:1},8,["isShowModal","modalTitle","onCloseModal","onConfirm"])])}const GC=e=>((0,o.Qi)("data-v-52e80517"),e=e(),(0,o.jt)(),e),XC={class:"container-fluid"},KC={class:"row w-100"},HC={class:"col-12"},YC={class:"card"},ZC={class:"card-body px-0"},eD={class:"table-responsive p-0"},tD=GC((()=>(0,o.Lk)("p",null,"* 생산부서의 반장 직급 이상 및 관리자만 조회됩니다",-1))),aD={class:"table align-items-center justify-content-center mb-0"},lD=GC((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-center text-uppercase text-secondary text-md font-weight-bolder opacity-7"}," 사원번호 "),(0,o.Lk)("th",{class:"text-center text-uppercase text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 이름 ")])],-1))),oD=["onClick"],sD={class:"w-50"},nD={class:"mb-0 text-end text-sm"},iD={class:"w-50"},rD={class:"text-sm text-center font-weight-bold mb-0"};function cD(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",XC,[(0,o.Lk)("div",KC,[(0,o.Lk)("div",HC,[(0,o.Lk)("div",YC,[(0,o.Lk)("div",ZC,[(0,o.Lk)("div",eD,[tD,(0,o.Lk)("table",aD,[lD,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.empList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.emp_num,class:(0,d.C4)(["emp",{selected:s.selectedEmpNum===e.emp_num}]),onClick:t=>n.selectEmp(e)},[(0,o.Lk)("td",sD,[(0,o.Lk)("h6",nD,(0,d.v_)(e.emp_num),1)]),(0,o.Lk)("td",iD,[(0,o.Lk)("p",rD,(0,d.v_)(e.name),1)])],10,oD)))),128))])])])])])])])])}var dD={name:"empList",props:{},data(){return{empList:[],selectedEmpNum:0}},created(){this.getEmpList()},methods:{async getEmpList(){let e=await Re.A.get(`${Ae}/production/plan/employees`).catch((e=>console.log(e)));this.empList=e.data},selectEmp(e){this.selectedEmpNum=e.emp_num,this.$emit("selectEmp",e)}}};const uD=(0,ne.A)(dD,[["render",cD],["__scopeId","data-v-52e80517"]]);var pD=uD,mD={name:"PlanAddForm",components:{EmpList:pD,Modal:mo,MaterialButton:uC},props:{selectedOrders:Array},data(){return{planName:"",productStock:null,planStartDate:"",planEndDate:"",planCreator:"",isShowModal:!1,modalTitle:"직원 목록",searchEmp:{},selectedEmp:{},cols:["주문번호","주문일자","납기일자","제품명","주문량(개)","기계획량(개)","미계획량(개)","현계획량(개)","재고(개)"]}},methods:{selectEmp(e){this.selectedEmp=e},openModal(){this.isShowModal=!this.isShowModal},async addPlan(){if(!this.selectedOrders.length)return void this.$notify({text:"주문을 선택해주세요.",type:"error"});if(this.selectedOrders.filter((e=>!e.planQty)).length)return void this.$notify({text:"주문별 현계획량을 입력해주세요.",type:"error"});if(!this.planName||!this.planStartDate||!this.planEndDate||!this.planName)return void this.$notify({text:"입력칸을 채워주세요.",type:"error"});let e=[],t=[],a=[];this.selectedOrders.forEach((l=>{e.push(l.orderNum),t.push(l.productCode),a.push(l.planQty)}));let l={orderNums:JSON.stringify(e),planName:this.planName,productCode:JSON.stringify(t),planQty:JSON.stringify(a),planStartDate:this.planStartDate,planEndDate:this.planEndDate,empNum:this.selectedEmp.emp_num},o=await Re.A.post(`${Ae}/production/plan`,l).catch((e=>console.log(e)));"success"===o.data.message&&(this.$notify({text:`${this.planName}이 등록되었습니다.`,type:"success"}),this.planName="",this.planStartDate="",this.planEndDate="",this.searchEmp={},this.$emit("resetSelectedOrders"))},confirm(){this.searchEmp=this.selectedEmp,this.closeModal()},closeModal(){this.isShowModal=!1}},watch:{}};const hD=(0,ne.A)(mD,[["render",WC],["__scopeId","data-v-1f1cb9b9"]]);var yD=hD,fD={name:"PlanAdd",components:{PlanAddForm:yD,PlanAddOrderList:hC},data(){return{selectedOrders:[]}},methods:{selectOrders(e){this.selectedOrders=e},resetSelectedOrders(){this.selectedOrders=[]}}};const gD=(0,ne.A)(fD,[["render",Y_],["__scopeId","data-v-5cd8602b"]]);var kD=gD;const bD=e=>((0,o.Qi)("data-v-3b3ac8e8"),e=e(),(0,o.jt)(),e),LD={class:"container-fluid py-4"},vD=bD((()=>(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"생산 지시 목록")],-1))),xD={class:"grid-container work",style:{"padding-top":"10px"}};function wD(e,t,a,l,s,n){const i=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",LD,[vD,(0,o.Lk)("div",xD,[(0,o.bF)(i,{rowData:s.rowData,columnDefs:s.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:n.onReady,style:{height:"513px"},rowSelection:"multiple",quickFilterText:s.listSearch,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText"])])])}var _D={name:"ProductionOrderList",data(){return{listSearch:"",rowData:[],columnDefs:[{headerName:"",headerCheckboxSelection:!0,field:"check",resizable:!1,editable:!0,sortable:!1,checkboxSelection:!0,width:50,flex:1},{headerName:"생산지시번호",field:"production_order_num",cellStyle:{textAlign:"right"},flex:1},{headerName:"생산지시명",field:"production_order_name",flex:2},{headerName:"생산계획명",field:"plan_name",flex:2},{headerName:"작업일자",field:"work_date",cellStyle:{textAlign:"center"},flex:1},{headerName:"제품명",field:"product_name",flex:1},{headerName:"지시량(개)",field:"production_order_qty",cellStyle:{textAlign:"right"},flex:1},{headerName:"작업진행",field:"production_order_status",cellClass:e=>"완료"===e.value?"green":"진행중"===e.value?"gray":"대기중"===e.value?"red":"",flex:1}],prodOrderStatus:{work_waiting:"대기중",work_in_process:"진행중",work_complete:"완료"}}},computed:{theme(){return ko}},created(){this.getProdOrderList()},methods:{onReady(e){this.gridApi=e.api;const t=document.querySelector(".ag-paging-panel");if(t){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center";const a=document.createElement("input");a.type="text",a.placeholder="검색",a.style.padding="5px",a.style.width="200px",a.style.border="1px solid #ccc",a.style.borderRadius="4px",a.style.position="absolute",a.style.left="80px",a.addEventListener("input",(e=>{this.listSearch=e.target.value}));const l=document.createElement("button");l.textContent="삭제",l.style.marginRight="10px",l.style.cursor="pointer",l.style.backgroundColor="#f44335",l.style.color="white",l.style.border="none",l.style.padding="5px 10px",l.style.borderRadius="4px",l.style.position="absolute",l.style.left="10px",l.addEventListener("click",(()=>{this.deleteProdOrder()})),e.appendChild(a),e.appendChild(l),t.insertBefore(e,t.firstChild)}},async deleteProdOrder(){const e=this.gridApi.getSelectedRows();if(0===e.length)return void this.$notify({text:"삭제할 생산지시를 선택해주세요.",type:"error"});let t=[],a=!1;if(e.forEach((e=>{"대기중"===e.production_order_status||a?t.push(e.production_order_num):(this.$notify({text:"대기중인 생산지시만 삭제 가능합니다.",type:"error"}),a=!0)})),a)return;let l=await Re.A.post(`${Ae}/production/order/delete`,t).catch((e=>console.log(e))),o=await Re.A.post(`${Ae}/production/order/delete/process`,t).catch((e=>console.log(e)));"success"===l.data.message&&"success"===o.data.message?(this.$notify({text:"삭제되었습니다.",type:"success"}),await this.getProdOrderList()):this.$notify({text:"삭제 실패하였습니다.",type:"error"})},dateFormat(e,t){return Ho.dateFormat(e,t)},async getProdOrderList(){let e=await Re.A.get(`${Ae}/production/order`).catch((e=>console.log(e)));if(this.rowData=[],0===e.data.length)return;let t=[];this.columnDefs.forEach((e=>{t.push(e.field)})),e.data.forEach(((e,a)=>{this.rowData[a]={[t[1]]:e[t[1]],[t[2]]:e[t[2]],[t[3]]:e[t[3]],[t[4]]:this.dateFormat(e[t[4]],"yyyy-MM-dd"),[t[5]]:e[t[5]],[t[6]]:e[t[6]],[t[7]]:this.prodOrderStatus[e[t[7]]]}}))}}};const CD=(0,ne.A)(_D,[["render",wD],["__scopeId","data-v-3b3ac8e8"]]);var DD=CD;const SD=e=>((0,o.Qi)("data-v-31b8985b"),e=e(),(0,o.jt)(),e),ND={class:"container-fluid product-order-add py-4"},MD={class:"top"},RD=SD((()=>(0,o.Lk)("h3",null,"생산지시 등록",-1))),AD={class:"main-container"},ID={class:"con-top"},ED={class:"grid-container grid-1"},FD=SD((()=>(0,o.Lk)("h5",null,"필요한 자재",-1))),PD={class:"grid-container grid-2"},OD=SD((()=>(0,o.Lk)("h5",null,"자재 재고",-1))),qD={class:"con-bottom"},$D={class:"grid-container grid-3"},TD=SD((()=>(0,o.Lk)("h5",null,"사용할 자재",-1))),jD=SD((()=>(0,o.Lk)("h6",{class:"modal-text"},"생산지시를 등록하시겠습니까?",-1)));function QD(e,t,a,l,s,n){const i=(0,o.g2)("material-button"),r=(0,o.g2)("OrderAddForm"),c=(0,o.g2)("ag-grid-vue"),d=(0,o.g2)("Modal");return(0,o.uX)(),(0,o.CE)("div",ND,[(0,o.Lk)("div",MD,[RD,(0,o.bF)(i,{size:"lg",color:"success",class:"button",onClick:n.openModal},{default:(0,o.k6)((()=>[(0,o.eW)("등록")])),_:1},8,["onClick"])]),(0,o.Lk)("div",AD,[(0,o.Lk)("div",ID,[(0,o.bF)(r,{onSetRowDataNeed:n.setRowDataNeed,onSetRowDataStock:n.setRowDataStock,onUpdateNeedStock:n.updateNeedStock,onUpdateInputData:n.updateInputData,onGetProcessFlow:n.getProcessFlow,onGetSearchPlan:n.getSearchPlan,isOrderAddFormReset:s.isOrderAddFormReset},null,8,["onSetRowDataNeed","onSetRowDataStock","onUpdateNeedStock","onUpdateInputData","onGetProcessFlow","onGetSearchPlan","isOrderAddFormReset"]),(0,o.Lk)("div",ED,[FD,(0,o.bF)(c,{rowData:s.rowDataNeed,columnDefs:s.columnDefsNeed,theme:s.theme,onGridReady:n.onGridReady,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady"])]),(0,o.Lk)("div",PD,[OD,(0,o.bF)(c,{rowData:s.rowDataStock,columnDefs:s.columnDefsStock,theme:s.theme,onGridReady:n.onGridReady,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady"])])]),(0,o.Lk)("div",qD,[(0,o.Lk)("div",$D,[TD,(0,o.bF)(c,{rowData:s.rowDataUse,columnDefs:s.columnDefsUse,theme:s.theme,onGridReady:n.onGridReady,stopEditingWhenCellsLoseFocus:!0,onCellEditingStopped:n.onCellEditingStopped,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","onCellEditingStopped"])])])]),(0,o.bF)(d,{isShowModal:s.isShowModal,modalTitle:s.modalTitle,noBtn:"취소",yesBtn:"확인",onCloseModal:n.closeModal,onConfirm:n.confirm},{list:(0,o.k6)((()=>[jD])),_:1},8,["isShowModal","modalTitle","onCloseModal","onConfirm"])])}const UD=e=>((0,o.Qi)("data-v-db1321ea"),e=e(),(0,o.jt)(),e),JD={class:"input-container"},zD={class:"input-content"},BD=UD((()=>(0,o.Lk)("h6",null,"생산계획 코드",-1))),VD={class:"input-group w-auto h-25"},WD=["value"],GD={class:"input-content"},XD=UD((()=>(0,o.Lk)("h6",null,"제품명",-1))),KD={class:"input-group w-auto h-25"},HD=["value"],YD={class:"input-content"},ZD=UD((()=>(0,o.Lk)("h6",null,"생산지시명",-1))),eS={class:"input-group w-auto h-25"},tS={class:"input-content"},aS=UD((()=>(0,o.Lk)("h6",null,"지시수량",-1))),lS={class:"input-group w-auto h-25"},oS={class:"max-qty"},sS={class:"input-content"},nS=UD((()=>(0,o.Lk)("h6",null,"작업일자",-1))),iS={class:"input-group w-auto h-25"},rS={class:"input-content"},cS=UD((()=>(0,o.Lk)("h6",null,"등록인",-1))),dS={class:"input-group w-auto h-25"},uS=["value"],pS={class:"input-content"},mS=UD((()=>(0,o.Lk)("h6",null,"공정흐름도",-1))),hS={key:0,class:"input-group w-auto h-25"},yS=UD((()=>(0,o.Lk)("input",{type:"text",readonly:"",class:"form-control border p-2"},null,-1))),fS=[yS],gS={key:1,class:"flow-con"},kS=["value"],bS={class:"fas fa-arrow-circle-down"};function LS(e,t,a,s,n,i){const r=(0,o.g2)("PlanList"),c=(0,o.g2)("EmpList"),u=(0,o.g2)("Modal");return(0,o.uX)(),(0,o.CE)("div",JD,[(0,o.Lk)("div",zD,[BD,(0,o.Lk)("div",VD,[(0,o.Lk)("input",{type:"text",onClick:t[0]||(t[0]=e=>i.openModal("plan")),value:n.searchPlan.plan_num,readonly:"",class:"form-control border p-2 cursor-pointer",placeholder:"생산계획 코드"},null,8,WD)])]),(0,o.Lk)("div",GD,[XD,(0,o.Lk)("div",KD,[(0,o.Lk)("input",{type:"text",value:n.searchProduct,readonly:"",class:"form-control border p-2"},null,8,HD)])]),(0,o.Lk)("div",YD,[ZD,(0,o.Lk)("div",eS,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>n.orderInfo.prodOrderName=e),class:"form-control border p-2"},null,512),[[l.Jo,n.orderInfo.prodOrderName]])])]),(0,o.Lk)("div",tS,[aS,(0,o.Lk)("div",lS,[(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>n.orderInfo.prodOrderQty=e),class:"form-control border p-2",onFocusout:t[3]||(t[3]=(...e)=>i.checkQty&&i.checkQty(...e))},null,544),[[l.Jo,n.orderInfo.prodOrderQty]])]),(0,o.Lk)("p",oS,"* 최대수량: "+(0,d.v_)(n.searchPlan.total_plan_qty),1)]),(0,o.Lk)("div",sS,[nS,(0,o.Lk)("div",iS,[(0,o.bo)((0,o.Lk)("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=e=>n.orderInfo.workDate=e),class:"form-control border p-2"},null,512),[[l.Jo,n.orderInfo.workDate]])])]),(0,o.Lk)("div",rS,[cS,(0,o.Lk)("div",dS,[(0,o.Lk)("input",{readonly:"",onClick:t[5]||(t[5]=e=>i.openModal("emp")),value:n.searchEmp.name,class:"form-control border p-2 cursor-pointer"},null,8,uS)])]),(0,o.Lk)("div",pS,[mS,n.processFlow.length?((0,o.uX)(),(0,o.CE)("div",gS,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.processFlow,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:e.process_sequence,class:"input-group w-auto h-25"},[(0,o.Lk)("input",{type:"text",readonly:"",value:e.process_name,class:"form-control border p-2"},null,8,kS),(0,o.bo)((0,o.Lk)("i",bS,null,512),[[l.aG,t<n.processFlow.length-1]])])))),128))])):((0,o.uX)(),(0,o.CE)("div",hS,fS))]),(0,o.bF)(u,{isShowModal:n.isShowModal,modalTitle:n.modalTitle,noBtn:"닫기",yesBtn:"선택",width:"plan"===n.modalType?1100:500,onCloseModal:i.closeModal,onConfirm:i.confirm},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectPlan:i.selectPlan},null,8,["onSelectPlan"]),[[l.aG,n.isShowModal&&"plan"===n.modalType]]),(0,o.bo)((0,o.bF)(c,{onSelectEmp:i.selectEmp},null,8,["onSelectEmp"]),[[l.aG,n.isShowModal&&"emp"===n.modalType]])])),_:1},8,["isShowModal","modalTitle","width","onCloseModal","onConfirm"])])}const vS=e=>((0,o.Qi)("data-v-2a64691d"),e=e(),(0,o.jt)(),e),xS={class:"container-fluid"},wS={class:"row w-100"},_S={class:"col-12"},CS={class:"card"},DS={class:"card-body px-0"},SS={class:"table-responsive p-0"},NS={class:"table align-items-center justify-content-center mb-0"},MS=vS((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-md font-weight-bolder opacity-7"}," 생산계획번호 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 생산계획명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 계획시작일자 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 계획종료일자 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 제품코드 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 제품명 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 계획수량 ")])],-1))),RS=["onClick"],AS={class:"d-flex justify-content-end px-2"},IS={class:"mb-0 text-sm"},ES={class:"text-sm font-weight-bold mb-0"},FS={class:"text-sm text-center font-weight-bold mb-0"},PS={class:"text-sm text-center font-weight-bold mb-0"},OS={class:"text-sm font-weight-bold mb-0"},qS={class:"text-sm font-weight-bold mb-0"},$S={class:"text-sm text-end font-weight-bold mb-0"};function TS(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",xS,[(0,o.Lk)("div",wS,[(0,o.Lk)("div",_S,[(0,o.Lk)("div",CS,[(0,o.Lk)("div",DS,[(0,o.Lk)("div",SS,[(0,o.Lk)("table",NS,[MS,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.planList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.rownum,class:(0,d.C4)(["plan",{selected:s.selectedNum===e.rownum,"bold-border":1===e.rownum_by_plan}]),onClick:t=>n.selectPlan(e)},[(0,o.Lk)("td",null,[(0,o.Lk)("div",AS,[(0,o.Lk)("h6",IS,(0,d.v_)(e.plan_num),1)])]),(0,o.Lk)("td",null,[(0,o.Lk)("p",ES,(0,d.v_)(e.plan_name),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",FS,(0,d.v_)(n.dateFormat(e.plan_start_date,"yyyy-MM-dd")),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",PS,(0,d.v_)(n.dateFormat(e.plan_end_date,"yyyy-MM-dd")),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",OS,(0,d.v_)(e.product_code),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",qS,(0,d.v_)(e.product_name),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",$S,(0,d.v_)(e.total_plan_qty),1)])],10,RS)))),128))])])])])])])])])}var jS={name:"PlanList",props:{},data(){return{planList:[],selectedNum:""}},created(){this.getPlanList()},methods:{dateFormat(e,t){return Ho.dateFormat(e,t)},async getPlanList(){let e=await Re.A.get(`${Ae}/production/order/plans`).catch((e=>console.log(e)));this.planList=e.data},selectPlan(e){this.selectedNum=e.rownum,this.$emit("selectPlan",e)}}};const QS=(0,ne.A)(jS,[["render",TS],["__scopeId","data-v-2a64691d"]]);var US=QS,JS={name:"OrderInputForm",components:{EmpList:pD,Modal:mo,PlanList:US},props:{isOrderAddFormReset:Boolean},data(){return{searchPlan:{},orderInfo:{prodOrderName:"",planNum:0,productCode:"",workDate:"",prodOrderQty:1,empNum:0},isShowModal:!1,modalTitle:"생산계획 목록",selectedPlan:{},searchProduct:"",processFlow:[],rowDataNeed:[],materialCodes:[],rowDataStock:[],modalType:"plan",searchEmp:{}}},methods:{async getMaterialStock(){let e=await Re.A.post(`${Ae}/production/order/stock`,{materialCodes:JSON.stringify(this.materialCodes)}).catch((e=>console.log(e))),t=e.data;t.forEach((e=>{let t={stockLotSeq:e.lot_seq,stockLot:e.lot_code,stockMaterialName:e.material_name,stockMaterialCode:e.material_code,stockAmount:e.stok_qty-(null===e.invalid_qty?0:e.invalid_qty),expiryDate:e.limit_date.split("T")[0]};this.rowDataStock.push(t)})),this.$emit("setRowDataStock",this.rowDataStock)},selectEmp(e){this.selectedEmp=e},async getBom(e){let t=await Re.A.get(`${Ae}/production/order/bom/${e}`).catch((e=>console.log(e))),a=t.data;this.materialCodes=[],a.forEach((e=>{let t={needMaterialName:e.material,needAmount:e.material_con};this.rowDataNeed.push(t),this.materialCodes.push(e.material_code)})),this.$emit("setRowDataNeed",this.rowDataNeed)},async getProcessFlow(e){let t=await Re.A.get(`${Ae}/production/order/processflow/${e}`).catch((e=>console.log(e)));this.processFlow=t.data,this.$emit("getProcessFlow",this.processFlow)},selectPlan(e){this.selectedPlan=e},checkQty(){this.orderInfo.prodOrderQty>this.selectedPlan.total_plan_qty&&this.$notify({text:"최대수량을 초과했습니다.",type:"error"})},async confirm(){"plan"===this.modalType?(this.searchPlan=this.selectedPlan,this.$emit("getSearchPlan",this.searchPlan),this.searchProduct=this.searchPlan.product_name,this.getProcessFlow(this.searchPlan.product_code),await this.getBom(this.searchPlan.product_code),await this.getMaterialStock(),this.orderInfo.planNum=this.searchPlan.plan_num,this.orderInfo.productCode=this.searchPlan.product_code):(this.searchEmp=this.selectedEmp,this.orderInfo.empNum=this.searchEmp.emp_num),this.closeModal()},openModal(e){this.modalTitle="plan"===e?"생산계획 목록":"직원 목록",this.modalType=e,this.isShowModal=!this.isShowModal},closeModal(){this.isShowModal=!1}},watch:{"orderInfo.prodOrderQty":{handler(){setTimeout((()=>{this.$emit("updateNeedStock")}),10)},deep:!0},orderInfo:{handler(){this.$emit("updateInputData",this.orderInfo)},deep:!0},isOrderAddFormReset:{handler(){this.isOrderAddFormReset&&(this.orderInfo={prodOrderName:"",planNum:0,productCode:"",workDate:"",prodOrderQty:1,empNum:0},this.searchPlan={},this.searchProduct="",this.searchEmp={},this.processFlow=[])}}}};const zS=(0,ne.A)(JS,[["render",LS],["__scopeId","data-v-db1321ea"]]);var BS=zS,VS={name:"OrderAdd",components:{Modal:mo,OrderAddForm:BS,MaterialButton:uC},data(){return{modalTitle:"생산지시 등록",isShowModal:!1,theme:ko,rowDataNeed:[],columnDefsNeed:[{headerName:"자재명",field:"needMaterialName",flex:1},{headerName:"용량(g 또는 ml)",field:"needAmount",cellStyle:{textAlign:"right"},flex:1}],rowDataStock:[],columnDefsStock:[{headerName:"자재Lot번호",field:"stockLot",cellStyle:{textAlign:"center"},flex:1},{headerName:"자재명",field:"stockMaterialName",flex:1},{headerName:"용량(g 또는 ml)",field:"stockAmount",cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>e.value<0?0:e.value},{headerName:"유통기한",field:"expiryDate",cellStyle:{textAlign:"center"},flex:1},{headerName:"자재코드",field:"stockMaterialCode",hide:!0},{headerName:"사용",field:"useBtn",editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="사용",t.style.backgroundColor="#fff",t.style.border="1px solid #fb8c00",t.style.borderRadius="4px",t.style.height="35px",t.style.color="#fb8c00",t.style.padding="0 12px",t.style.lineHeight="35px",t.addEventListener("click",(()=>{this.selectStock(e)})),t},flex:1}],rowDataUse:[],columnDefsUse:[{headerName:"자재Lot번호",field:"useLot",cellStyle:{textAlign:"center"},flex:1},{headerName:"자재명",field:"useMaterialName",flex:2},{headerName:"자재코드",field:"useMaterialCode",hide:!0},{headerName:"용량(g 또는 ml)",field:"useAmount",editable:!0,cellStyle:{textAlign:"right"},flex:2},{headerName:"삭제",field:"deleteBtn",cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.backgroundColor="#fff",t.style.border="1px solid #f44335",t.style.borderRadius="4px",t.style.height="35px",t.style.color="#f44335",t.style.padding="0 12px",t.style.lineHeight="35px",t.addEventListener("click",(()=>{this.deleteMaterial(e)})),t},flex:1}],orderInfo:{},newProdOrderNum:0,processFlow:[],searchPlan:{},isOrderAddFormReset:!1,originalRowDataNeed:[]}},methods:{focusOnCell(){this.gridApi.ensureIndexVisible(0),this.gridApi.ensureColumnVisible("useAmount"),this.gridApi.startEditingCell({rowIndex:0,colKey:"useAmount"})},getSearchPlan(e){this.searchPlan=e},onCellEditingStopped(){},updateNeedStock(){0===this.originalRowDataNeed.length&&(this.originalRowDataNeed=JSON.parse(JSON.stringify(this.rowDataNeed))),this.rowDataNeed=this.originalRowDataNeed.map((e=>({...e,needAmount:e.needAmount*this.orderInfo.prodOrderQty})))},updateInputData(e){e.prodOrderQty&&(this.orderInfo=e)},getProcessFlow(e){this.processFlow=e},isFillOutAll(){let e=0===Object.values(this.orderInfo).filter((e=>0===e||""===e)).length,t=!0;return this.rowDataUse.forEach((e=>{if(!e.useAmount)return!1})),e&&t},openModal(){this.isFillOutAll()?this.isShowModal=!this.isShowModal:this.$notify({text:"빈칸을 입력해주세요.",type:"error"})},closeModal(){this.isShowModal=!1},isStockInShort(){let e=[];this.rowDataStock.forEach((t=>{e.filter((e=>e.stockMaterialName===t.stockMaterialName)).length?e.forEach((e=>{e.stockMaterialName===t.stockMaterialName&&t.stockAmount>0&&(e.stockAmount+=t.stockAmount)})):e.push({stockMaterialName:t.stockMaterialName,stockAmount:t.stockAmount>0?t.stockAmount:0})}));let t=!1;return this.rowDataNeed.forEach((a=>{e.forEach((e=>{a.needMaterialName===e.stockMaterialName&&a.needAmount>e.stockAmount&&!t&&(this.$notify({text:"재고가 부족합니다.",type:"error"}),this.closeModal(),t=!0)}))})),t},async confirm(){if(this.isStockInShort())return;await this.addProductionOrder();for(const t of this.rowDataUse)await this.holdMaterial(t);let e=!1;for(const t of this.processFlow)t.process_code===this.processFlow[this.processFlow.length-1].process_code&&(e=!0),await this.addProcessWork(t,e);this.closeModal()},async addProcessWork(e,t){let a={productionOrderNum:this.newProdOrderNum,productionOrderName:this.orderInfo.prodOrderName,productionOrder_qty:this.orderInfo.prodOrderQty,productCode:this.searchPlan.product_code,productName:this.searchPlan.product_name,capacity:this.searchPlan.capacity,processCode:e.process_code,processName:e.process_name,machineType:e.machine_type,workDate:this.orderInfo.workDate},l=await Re.A.post(`${Ae}/production/order/process`,a).catch((e=>console.log(e)));t&&"success"===l.data.message?(this.$notify({text:"생산지시가 등록되었습니다.",type:"success"}),this.isOrderAddFormReset=!1,this.resetAddInfo()):"success"!==l.data.message&&this.$notify({text:"생산지시 등록을 실패하였습니다.",type:"error"})},resetAddInfo(){this.isOrderAddFormReset=!0,this.rowDataNeed=[],this.rowDataStock=[],this.rowDataUse=[]},async holdMaterial(e){let t={newProdOrderNum:this.newProdOrderNum,useMaterialCode:e.useMaterialCode,useLot:e.useLot,useLotSeq:Number(e.useLotSeq),useAmount:Number(e.useAmount)};await Re.A.post(`${Ae}/production/order/stockhold`,t).catch((e=>console.log(e)))},async addProductionOrder(){let e=await Re.A.post(`${Ae}/production/order`,this.orderInfo).catch((e=>console.log(e)));this.newProdOrderNum=e.data.newProdOrderNum},setRowDataStock(e){this.rowDataStock=e},setRowDataNeed(e){this.rowDataNeed=e},deleteMaterial(e){this.rowDataUse=this.rowDataUse.filter((t=>t.useLotSeq!==e.data.useLotSeq))},selectStock(e){setTimeout((()=>{this.focusOnCell()}),10);let t=e.data,a=!1;this.rowDataUse.forEach((e=>{e.useLotSeq!==t.stockLotSeq||a||(this.$notify({text:"이미 선택한 자재입니다.",type:"error"}),a=!0)})),a||(this.rowDataUse=[...this.rowDataUse,{useLotSeq:t.stockLotSeq,useLot:t.stockLot,useMaterialName:t.stockMaterialName,useMaterialCode:t.stockMaterialCode}])},onGridReady(e){this.gridApi=e.api}}};const WS=(0,ne.A)(VS,[["render",QD],["__scopeId","data-v-31b8985b"]]);var GS=WS;const XS=e=>((0,o.Qi)("data-v-482f4bc8"),e=e(),(0,o.jt)(),e),KS={class:"container-fluid working-list py-4"},HS=XS((()=>(0,o.Lk)("h3",null,"작업 목록",-1))),YS={class:"container-fluid"},ZS={class:"search-container mt-4 mb-2"},eN={class:"input-group w-auto h-25"},tN=["value"],aN={class:"product"},lN=XS((()=>(0,o.Lk)("h6",null,"제품명:",-1))),oN=XS((()=>(0,o.Lk)("h6",{class:"bold"},"작업일자:",-1))),sN={class:"grid-container work"},nN={class:"main-container"},iN={class:"con-top container-fluid justify-content-center"},rN={class:"row justify-content-center"},cN={class:"process-name col-sm-6 col-md-4 col-lg-3"},dN=XS((()=>(0,o.Lk)("p",{class:"fw-bold field"},"공정명",-1))),uN={key:0,class:"fw-bold data"},pN={key:1,class:"fw-bold data text-danger"},mN={class:"process-name col-sm-6 col-md-4 col-lg-3"},hN=XS((()=>(0,o.Lk)("p",{class:"fw-bold field"},"공정 생산량",-1))),yN={class:"fw-bold data"},fN={class:"process-name col-sm-6 col-md-4 col-lg-3"},gN=XS((()=>(0,o.Lk)("p",{class:"fw-bold field"},"공정 진행",-1))),kN={class:"fw-bold data"},bN={class:"process-name col-sm-6 col-md-4 col-lg-3"},LN=XS((()=>(0,o.Lk)("p",{class:"fw-bold field"},"공정시작시간",-1))),vN={class:"fw-bold data"},xN={class:"process-name col-sm-6 col-md-4 col-lg-3"},wN=XS((()=>(0,o.Lk)("p",{class:"fw-bold field"},"공정완료시간",-1))),_N={class:"fw-bold data"},CN={class:"process-name d-flex align-self-center col-sm-6 col-md-4 col-lg-3"},DN={style:{"padding-left":"20px",display:"inline-flex","align-items":"center",gap:"15px","white-space":"nowrap"}},SN={style:{"white-space":"nowrap"},for:"all"},NN={style:{"white-space":"nowrap"},for:"in-progress"},MN={style:{"white-space":"nowrap"},for:"completed"},RN={class:"container-fluid"},AN={class:"row"},IN={class:"card border shadow-sm p-3"},EN={class:"card-body"},FN={class:"card-title text-center font-weight-bold w-100"},PN={class:"mb-2 text-center w-100 d-flex flex-column"},ON=XS((()=>(0,o.Lk)("strong",null,"작업자",-1))),qN={key:0,class:"m-lg-2"},$N=["onClick","value"],TN={class:"mb-2 text-center w-48 d-flex flex-column"},jN=XS((()=>(0,o.Lk)("strong",null,"설비명",-1))),QN={key:0,class:"m-lg-2"},UN=["onClick","value"],JN={class:"mb-2 text-center w-48 ml-4 d-flex flex-column"},zN=XS((()=>(0,o.Lk)("strong",null,"작업량",-1))),BN={key:0,class:"m-lg-2"},VN=["onUpdate:modelValue"],WN={class:"mb-2 text-center w-48 d-flex flex-column"},GN=XS((()=>(0,o.Lk)("strong",null,"불량량",-1))),XN={key:0,class:"m-lg-2"},KN=["onUpdate:modelValue","disabled"],HN={class:"mb-2 text-center w-48 ml-4 d-flex flex-column"},YN=XS((()=>(0,o.Lk)("strong",null,"합격량",-1))),ZN={key:0,class:"m-lg-2"},eM=["onUpdate:modelValue","disabled"],tM={class:"text-center mb-2 w-100"},aM=["onClick","disabled"],lM=["onClick","disabled"],oM={class:"text-center mb-2 w-100"},sM=XS((()=>(0,o.Lk)("strong",null,"작업시작시간:",-1))),nM={class:"text-center mb-2 w-100"},iM=XS((()=>(0,o.Lk)("strong",null,"작업완료시간:",-1))),rM={class:"text-center mb-0 w-100"},cM=XS((()=>(0,o.Lk)("strong",null,"진행상태:",-1)));function dM(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("WorkingOrderList"),u=(0,o.g2)("ModalWorkingEmpList"),p=(0,o.g2)("ModalWorkingMachineList"),m=(0,o.g2)("Modal");return(0,o.uX)(),(0,o.CE)("div",KS,[HS,(0,o.Lk)("div",YS,[(0,o.Lk)("div",ZS,[(0,o.Lk)("div",eN,[(0,o.Lk)("input",{type:"text",onClick:t[0]||(t[0]=e=>i.openModal("prodOrder")),value:n.processList[0]?.production_order_name,readonly:"",class:"form-control border p-2 cursor-pointer",placeholder:"생산지시 선택"},null,8,tN)]),(0,o.Lk)("div",aN,[lN,(0,o.Lk)("p",null,(0,d.v_)(n.processList[0]?n.processList[0].product_name:"-"),1),oN,(0,o.Lk)("p",null,(0,d.v_)(n.processList[0]?i.dateFormat(n.processList[0].work_date,"yyyy-MM-dd"):"-"),1)])]),(0,o.Lk)("div",sN,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:i.theme,onGridReady:i.onGridReady,onRowClicked:i.onRowClicked},null,8,["rowData","columnDefs","theme","onGridReady","onRowClicked"])]),(0,o.Lk)("div",nN,[(0,o.Lk)("div",iN,[(0,o.Lk)("div",rN,[(0,o.Lk)("div",cN,[dN,Object.keys(n.selectedRow).length?((0,o.uX)(),(0,o.CE)("p",uN,(0,d.v_)(n.selectedRow.process_name),1)):((0,o.uX)(),(0,o.CE)("p",pN,"위에서 작업을 선택해주세요"))]),(0,o.Lk)("div",mN,[hN,(0,o.Lk)("p",yN,(0,d.v_)(n.partialWorkFinalQty)+"개",1)]),(0,o.Lk)("div",fN,[gN,(0,o.Lk)("p",kN,(0,d.v_)(n.processStatus[n.partialWorkFinalStatus]),1)]),(0,o.Lk)("div",bN,[LN,(0,o.Lk)("p",vN,(0,d.v_)(n.partialWorkFirstStartTime),1)]),(0,o.Lk)("div",xN,[wN,(0,o.Lk)("p",_N,(0,d.v_)(n.partialWorkLastEndTime),1)]),(0,o.Lk)("div",CN,[(0,o.Lk)("div",DN,[(0,o.Lk)("label",SN,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"all",name:"status",class:"form-check-input cursor-pointer",value:"all","onUpdate:modelValue":t[1]||(t[1]=e=>n.radio=e)},null,512),[[l.XL,n.radio]]),(0,o.eW)("  전체")]),(0,o.Lk)("label",NN,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"in-progress",name:"status",class:"form-check-input cursor-pointer",value:"in-progress","onUpdate:modelValue":t[2]||(t[2]=e=>n.radio=e)},null,512),[[l.XL,n.radio]]),(0,o.eW)("  진행중")]),(0,o.Lk)("label",MN,[(0,o.bo)((0,o.Lk)("input",{type:"radio",id:"completed",name:"status",class:"form-check-input cursor-pointer",value:"completed","onUpdate:modelValue":t[3]||(t[3]=e=>n.radio=e)},null,512),[[l.XL,n.radio]]),(0,o.eW)("  완료")])])]),(0,o.bo)((0,o.Lk)("i",{class:"col-sm-6 col-md-4 col-lg-3 fa fa-plus-circle fa-2x cursor-pointer",onClick:t[4]||(t[4]=(...e)=>i.addPartialWork&&i.addPartialWork(...e))},null,512),[[l.aG,"process_complete"!==n.partialWorkFinalStatus]])])]),(0,o.Lk)("div",RN,[(0,o.Lk)("div",AN,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.partialWorkList,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.process_num,class:(0,d.C4)(["col-12 col-md-6 col-lg-4 mb-4 card-con",{hide:"in-progress"===n.radio&&"partial_processing"!==e.partial_process_status||"completed"===n.radio&&"partial_process_complete"!==e.partial_process_status}])},[(0,o.Lk)("div",IN,[(0,o.Lk)("div",EN,[(0,o.Lk)("h5",FN,"분할작업번호 "+(0,d.v_)(e.process_num),1),(0,o.Lk)("p",PN,[ON,null!==e.emp_num?((0,o.uX)(),(0,o.CE)("span",qN,(0,d.v_)(e.emp_name),1)):((0,o.uX)(),(0,o.CE)("input",{key:1,readonly:"",onClick:t=>i.openModal("emp",e.process_num),value:e.searchEmp?.name,class:"form-control border p-2 cursor-pointer"},null,8,$N))]),(0,o.Lk)("p",TN,[jN,null!==e.machine_num?((0,o.uX)(),(0,o.CE)("span",QN,(0,d.v_)(e.machine_name),1)):((0,o.uX)(),(0,o.CE)("input",{key:1,readonly:"",onClick:t=>i.openModal("machine",e.process_num),value:e.searchMachine?.machine_name,class:"form-control border p-2 cursor-pointer"},null,8,UN))]),(0,o.Lk)("p",JN,[zN,null!==e.process_todo_qty?((0,o.uX)(),(0,o.CE)("span",BN,(0,d.v_)(e.process_todo_qty),1)):(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:1,"onUpdate:modelValue":t=>e.new_process_todo_qty=t,type:"number",class:"form-control border p-2 cursor-pointer text-start"},null,8,VN)),[[l.Jo,e.new_process_todo_qty]])]),(0,o.Lk)("p",WN,[GN,null!==e.fail_qty?((0,o.uX)(),(0,o.CE)("span",XN,(0,d.v_)(e.fail_qty),1)):(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:1,"onUpdate:modelValue":t=>e.new_fail_qty=t,disabled:"partial_process_waiting"===e.partial_process_status,type:"number",class:"form-control border p-2 cursor-pointer text-start"},null,8,KN)),[[l.Jo,e.new_fail_qty]])]),(0,o.Lk)("p",HN,[YN,null!==e.success_qty?((0,o.uX)(),(0,o.CE)("span",ZN,(0,d.v_)(e.success_qty),1)):(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:1,"onUpdate:modelValue":t=>e.new_success_qty=t,disabled:"partial_process_waiting"===e.partial_process_status,type:"number",class:"form-control border p-2 cursor-pointer text-start"},null,8,eM)),[[l.Jo,e.new_success_qty]])]),(0,o.Lk)("div",tM,[(0,o.Lk)("button",{onClick:t=>i.startPartialWork(e),class:"btn start text-md",disabled:e.partial_process_start_time}," 시작 ",8,aM),(0,o.Lk)("button",{onClick:t=>i.endPartialWork(e),class:"btn end text-md",disabled:!e.partial_process_start_time||e.partial_process_end_time}," 종료",8,lM)]),(0,o.Lk)("p",oM,[sM,(0,o.eW)(" "+(0,d.v_)(e.partial_process_start_time?i.dateFormat(e.partial_process_start_time,"yyyy-MM-dd hh:mm:ss"):"-"),1)]),(0,o.Lk)("p",nM,[iM,(0,o.eW)(" "+(0,d.v_)(e.partial_process_end_time?i.dateFormat(e.partial_process_end_time,"yyyy-MM-dd hh:mm:ss"):"-"),1)]),(0,o.Lk)("p",rM,[cM,(0,o.Lk)("span",{class:(0,d.C4)(["badge m-lg-2",{"bg-danger":"partial_process_waiting"===e.partial_process_status,"bg-secondary":"partial_processing"===e.partial_process_status,"bg-success":"partial_process_complete"===e.partial_process_status}])},(0,d.v_)(n.partialWorkStatus[e.partial_process_status]),3)])])])],2)))),128))])])])]),(0,o.bF)(m,{isShowModal:n.isShowModal,modalTitle:n.modalTitle,noBtn:"닫기",yesBtn:"선택",width:"prodOrder"===n.modalType?1e3:500,onCloseModal:i.closeModal,onConfirm:i.confirm},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(c,{onSelectWorkingOrder:i.selectWorkingOrder},null,8,["onSelectWorkingOrder"]),[[l.aG,n.isShowModal&&"prodOrder"===n.modalType]]),(0,o.bo)((0,o.bF)(u,{onSelectEmp:i.selectEmp},null,8,["onSelectEmp"]),[[l.aG,n.isShowModal&&"emp"===n.modalType]]),n.isShowModal&&"machine"===n.modalType&&n.selectedRow.process_code?((0,o.uX)(),(0,o.Wv)(p,{key:0,onSelectMachine:i.selectMachine,processCode:n.selectedRow.process_code},null,8,["onSelectMachine","processCode"])):(0,o.Q3)("",!0)])),_:1},8,["isShowModal","modalTitle","width","onCloseModal","onConfirm"])])}const uM=e=>((0,o.Qi)("data-v-09078078"),e=e(),(0,o.jt)(),e),pM={class:"container-fluid"},mM={class:"row w-100"},hM={class:"col-12"},yM={class:"card"},fM={class:"card-body px-0"},gM={class:"table-responsive p-0"},kM={class:"table align-items-center justify-content-center mb-0"},bM=uM((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7"}," 생산지시 코드 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 생산지시명 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 작업일자 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 제품명 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 지시수량(개) ")])],-1))),LM=["onClick"],vM={class:"mb-0 text-end text-sm"},xM={class:"text-sm font-weight-bold mb-0"},wM={class:"text-sm text-center font-weight-bold mb-0"},_M={class:"text-sm font-weight-bold mb-0"},CM={class:"text-sm text-end font-weight-bold mb-0"};function DM(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",pM,[(0,o.Lk)("div",mM,[(0,o.Lk)("div",hM,[(0,o.Lk)("div",yM,[(0,o.Lk)("div",fM,[(0,o.Lk)("div",gM,[(0,o.Lk)("table",kM,[bM,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.workingOrderList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.production_order_num,class:(0,d.C4)(["working-order",{selected:s.selectedWorkingOrderNum===e.production_order_num}]),onClick:t=>n.selectOrder(e)},[(0,o.Lk)("td",null,[(0,o.Lk)("h6",vM,(0,d.v_)(e.production_order_num),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",xM,(0,d.v_)(e.production_order_name),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",wM,(0,d.v_)(e.work_date),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",_M,(0,d.v_)(e.product_name),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",CM,(0,d.v_)(e.production_order_qty),1)])],10,LM)))),128))])])])])])])])])])}var SM={name:"ModalProdOrderList",data(){return{workingOrderList:[],selectedWorkingOrderNum:""}},created(){this.getWorkingOrderList()},methods:{async getWorkingOrderList(){let e=await Re.A.get(`${Ae}/production/work/activeorders`).catch((e=>console.log(e)));this.workingOrderList=e.data},selectOrder(e){this.selectedWorkingOrderNum=e.production_order_num,this.$emit("selectWorkingOrder",e)}}};const NM=(0,ne.A)(SM,[["render",DM],["__scopeId","data-v-09078078"]]);var MM=NM;const RM=e=>((0,o.Qi)("data-v-2445198e"),e=e(),(0,o.jt)(),e),AM={class:"container-fluid"},IM={class:"row w-100"},EM={class:"col-12"},FM={class:"card"},PM={class:"card-body px-0"},OM={class:"table-responsive p-0"},qM={class:"table align-items-center justify-content-center mb-0"},$M=RM((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7"}," 사원번호 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 이름 ")])],-1))),TM=["onClick"],jM={class:"w-50"},QM={class:"mb-0 text-end text-sm"},UM={class:"w-50"},JM={class:"text-sm text-center font-weight-bold mb-0"};function zM(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",AM,[(0,o.Lk)("div",IM,[(0,o.Lk)("div",EM,[(0,o.Lk)("div",FM,[(0,o.Lk)("div",PM,[(0,o.Lk)("div",OM,[(0,o.Lk)("table",qM,[$M,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.empList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.emp_num,class:(0,d.C4)(["emp",{selected:s.selectedEmpNum===e.emp_num}]),onClick:t=>n.selectEmp(e)},[(0,o.Lk)("td",jM,[(0,o.Lk)("h6",QM,(0,d.v_)(e.emp_num),1)]),(0,o.Lk)("td",UM,[(0,o.Lk)("p",JM,(0,d.v_)(e.name),1)])],10,TM)))),128))])])])])])])])])}var BM={name:"ModalWorkingWorkerList",data(){return{empList:[],selectedEmpNum:0}},created(){this.getEmpList()},methods:{async getEmpList(){let e=await Re.A.get(`${Ae}/production/work/emp`).catch((e=>console.log(e)));this.empList=e.data},selectEmp(e){this.selectedEmpNum=e.emp_num,this.$emit("selectEmp",e)}}};const VM=(0,ne.A)(BM,[["render",zM],["__scopeId","data-v-2445198e"]]);var WM=VM;const GM=e=>((0,o.Qi)("data-v-3a7cd244"),e=e(),(0,o.jt)(),e),XM={class:"container-fluid"},KM={class:"row w-100"},HM={class:"col-12"},YM={class:"card"},ZM={class:"card-body px-0"},eR={class:"table-responsive p-0"},tR={class:"table align-items-center justify-content-center mb-0"},aR=GM((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-secondary text-md font-weight-bolder opacity-7"}," 설비번호 "),(0,o.Lk)("th",{class:"text-uppercase text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 설비이름 ")])],-1))),lR=["onClick"],oR={class:"d-flex px-2"},sR={class:"my-auto"},nR={class:"mb-0 text-sm"},iR={class:"text-sm font-weight-bold mb-0"};function rR(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",XM,[(0,o.Lk)("div",KM,[(0,o.Lk)("div",HM,[(0,o.Lk)("div",YM,[(0,o.Lk)("div",ZM,[(0,o.Lk)("div",eR,[(0,o.Lk)("table",tR,[aR,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.machineList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.machine_num,class:(0,d.C4)(["machine",{selected:s.selectedMachineNum===e.machine_num}]),onClick:t=>n.selectMachine(e)},[(0,o.Lk)("td",null,[(0,o.Lk)("div",oR,[(0,o.Lk)("div",sR,[(0,o.Lk)("h6",nR,(0,d.v_)(e.machine_num),1)])])]),(0,o.Lk)("td",null,[(0,o.Lk)("p",iR,(0,d.v_)(e.machine_name),1)])],10,lR)))),128))])])])])])])])])}var cR={name:"ModalWorkingMachineList",props:{processCode:String},data(){return{machineList:[],selectedMachineNum:0}},created(){this.getMachineList()},methods:{async getMachineList(){if(!this.processCode)return;let e=await Re.A.get(`${Ae}/production/work/machine/${this.processCode}`).catch((e=>console.log(e)));this.machineList=e.data},selectMachine(e){this.selectedMachineNum=e.machine_num,this.$emit("selectMachine",e)}}};const dR=(0,ne.A)(cR,[["render",rR],["__scopeId","data-v-3a7cd244"]]);var uR=dR,pR={name:"workingList",computed:{theme(){return ko}},components:{ModalWorkingMachineList:uR,Modal:mo,WorkingOrderList:MM,ModalWorkingEmpList:WM},data(){return{radio:"all",modalType:"prodOrder",partialWorkList:[],selectedStatus:"전체",partialProcessStatusList:["전체","진행중","완료"],isShowModal:!1,modalTitle:"생산지시 목록",selectedWorkingOrder:{},searchWorkingOrder:{},rowData:[],columnDefs:[{headerName:"작업번호",field:"process_work_header_num",cellStyle:{textAlign:"right"},flex:1},{headerName:"공정코드",field:"process_code",cellStyle:{textAlign:"center"},flex:1},{headerName:"공정명",field:"process_name",flex:2},{headerName:"설비분류",field:"machine_type",flex:2},{headerName:"지시량(개)",field:"production_order_qty",cellStyle:{textAlign:"right"},flex:1},{headerName:"진행상태",field:"process_status",cellClass:e=>"완료"===e.value?"green":"진행중"===e.value?"gray":"대기중"===e.value?"red":"",flex:1}],processList:[],processStatus:{process_waiting:"대기중",processing:"진행중",process_complete:"완료","-":"-"},partialWorkStatus:{partial_process_waiting:"대기중",partial_processing:"진행중",partial_process_complete:"완료"},partialWorkFinalStatus:"process_waiting",selectedRow:{},selectedEmp:{},selectedMachine:{},partialWorkFinalQty:0,partialWorkFirstStartTime:"-",partialWorkLastEndTime:"-",modalForProcessNum:0}},created(){this.getTodayWorkList()},methods:{dateFormat(e,t){return Ho.dateFormat(e,t)},async startPartialWork(e){if(!e.searchEmp.emp_num)return void this.$notify({text:"작업자를 선택해주세요.",type:"error"});if(!e.searchMachine.machine_num)return void this.$notify({text:"설비를 선택해주세요.",type:"error"});if(!e.new_process_todo_qty)return void this.$notify({text:"작업량을 입력해주세요.",type:"error"});let t={empName:e.searchEmp.emp_num,machineNum:e.searchMachine.machine_num,todoQty:e.new_process_todo_qty,failQty:e.new_fail_qty,successQty:e.new_success_qty,process_num:e.process_num},a=await Re.A.put(`${Ae}/production/work/partial/start`,t).catch((e=>console.log(e)));"success"===a.data.message&&(this.$notify({text:"작업이 시작되었습니다.",type:"success"}),await this.getPartialWorkList(),this.startQc(e),"work_waiting"===this.searchWorkingOrder.production_order_status&&(this.updateProdOrderStatus("work_in_process"),this.updatePlanStatus("plan_in_process")))},async startQc(e){let t={qcType:this.selectedRow.process_code,info:{processNum:e.process_num,qty:e.new_process_todo_qty,empNum:e.searchEmp.emp_num}};await Re.A.post(`${Ae}/production/work/qc`,t).catch((e=>console.log(e)))},async endPartialWork(e){if("number"!==typeof e.fail_qty&&"number"!==typeof e.new_fail_qty)return void this.$notify({text:"불량량을 입력해주세요.",type:"error"});if("number"!==typeof e.success_qty&&"number"!==typeof e.new_success_qty)return void this.$notify({text:"합격량을 입력해주세요.",type:"error"});let t={failQty:e.new_fail_qty,successQty:e.new_success_qty,process_num:e.process_num},a=await Re.A.put(`${Ae}/production/work/partial/end`,t).catch((e=>console.log(e)));"success"===a.data.message&&(this.$notify({text:"작업이 종료되었습니다.",type:"success"}),await this.getPartialWorkList())},async addPartialWork(){if(!this.selectedRow.process_work_header_num)return void this.$notify({text:"공정작업을 먼저 선택해주세요.",type:"error"});let e={process_work_header_num:this.selectedRow.process_work_header_num,product_code:this.processList[0].product_code},t=await Re.A.post(`${Ae}/production/work/partial`,e).catch((e=>console.log(e)));"success"===t.data.message?(this.$notify({text:"분할작업이 등록되었습니다.",type:"success"}),await this.getPartialWorkList()):this.$notify({text:"분할작업 등록 실패하였습니다.",type:"fail"})},getPartialWorkFinalQty(){let e=0;this.partialWorkList.forEach((t=>{"number"===typeof t.success_qty&&(e+=t.success_qty)})),this.partialWorkFinalQty=e},getPartialWorkFinalStatus(){let e=Number(this.selectedRow.production_order_qty),t=!1;if(this.partialWorkList.forEach((e=>{!t&&e.partial_process_start_time&&(t=!0)})),t)if(t&&this.partialWorkFinalQty<e)this.partialWorkFinalStatus="processing";else{let e=!1;this.partialWorkFinalStatus="process_complete",this.partialWorkList.forEach((t=>{"partial_process_complete"===t.partial_process_status||e||(this.partialWorkFinalStatus="processing",e=!0)}))}else this.partialWorkFinalStatus="process_waiting"},getPartialWorkFirstStartTime(){if("process_waiting"===this.partialWorkFinalStatus)return void(this.partialWorkFirstStartTime="-");let e=0;this.partialWorkList.forEach((t=>{if(!t.partial_process_start_time)return;let a=new Date(t.partial_process_start_time).getTime();(!e||e>a)&&(e=a)})),this.partialWorkFirstStartTime=e?this.dateFormat(e,"yyyy-MM-dd hh:mm:ss"):"-"},getPartialWorkLastEndTime(){if("process_complete"!==this.partialWorkFinalStatus)return void(this.partialWorkLastEndTime="-");let e=0;this.partialWorkList.forEach((t=>{if(!t.partial_process_start_time)return;let a=new Date(t.partial_process_end_time).getTime();(!e||e<a)&&(e=a)})),this.partialWorkLastEndTime=e?this.dateFormat(e,"yyyy-MM-dd hh:mm:ss"):"-"},async getPartialWorkList(){let e=await Re.A.get(`${Ae}/production/work/partial/${this.selectedRow.process_work_header_num}`).catch((e=>console.log(e)));this.partialWorkList=e.data,this.getPartialWorkFinalQty(),this.getPartialWorkFinalStatus(),this.getPartialWorkFirstStartTime(),this.getPartialWorkLastEndTime()},onRowClicked(e){this.selectedRow=e.data,this.getPartialWorkList()},onGridReady(e){this.gridApi=e.api},openModal(e,t){"prodOrder"===e?this.modalTitle="생산지시 목록":"emp"===e?(this.modalForProcessNum=t,this.modalTitle="생산직원 목록"):"machine"===e&&(this.modalForProcessNum=t,this.modalTitle="설비 목록"),this.modalType=e,this.isShowModal=!this.isShowModal},closeModal(){this.isShowModal=!1},confirm(){"prodOrder"===this.modalType?(this.searchWorkingOrder=this.selectedWorkingOrder,this.getWorkList()):"emp"===this.modalType?this.partialWorkList.forEach((e=>{e.process_num===this.modalForProcessNum&&(e.searchEmp=this.selectedEmp)})):"machine"===this.modalType&&this.partialWorkList.forEach((e=>{e.process_num===this.modalForProcessNum&&(e.searchMachine=this.selectedMachine)})),this.closeModal()},async getTodayWorkList(){this.rowData=[];let e=await Re.A.get(`${Ae}/production/work/today`).catch((e=>console.log(e)));0===e.data.length?this.$notify({text:"오늘 작업이 없습니다.",type:"error"}):(this.processList=e.data,this.setRowData())},setRowData(){let e=[];this.columnDefs.forEach((t=>{e.push(t.field)})),this.processList.forEach(((t,a)=>{this.rowData[a]={[e[0]]:t[e[0]],[e[1]]:t[e[1]],[e[2]]:t[e[2]],[e[3]]:t[e[3]],[e[4]]:t[e[4]],[e[5]]:this.processStatus[t[e[5]]]}}))},async getWorkList(){this.rowData=[];let e=await Re.A.get(`${Ae}/production/work/list/${this.searchWorkingOrder.production_order_num}`).catch((e=>console.log(e)));0!==e.data.length&&(this.processList=e.data,this.setRowData())},selectWorkingOrder(e){this.selectedWorkingOrder=e},selectEmp(e){this.selectedEmp=e},selectMachine(e){this.selectedMachine=e},async deductMaterial(){let e={prodOrderNum:this.searchWorkingOrder.production_order_num},t=await Re.A.put(`${Ae}/production/work/material`,e).catch((e=>console.log(e)));console.log("deductMaterial",t)},async updateProdOrderStatus(e){let t={productionOrderStatus:e,productionOrderNum:this.searchWorkingOrder.production_order_num},a=await Re.A.put(`${Ae}/production/work/order/status`,t).catch((e=>console.log(e)));console.log("updateProdOrderStatus",a)},async updatePlanStatus(e){let t={planStatus:e,planNum:this.searchWorkingOrder.plan_num},a=await Re.A.put(`${Ae}/production/work/plan/status`,t).catch((e=>console.log(e)));console.log("updatePlanStatus",a)}},watch:{async partialWorkFinalStatus(){let e={processStatus:"-"===this.partialWorkFinalStatus?null:this.partialWorkFinalStatus,processWorkHeaderNum:this.selectedRow.process_work_header_num};if(await Re.A.put(`${Ae}/production/work/process/status`,e).catch((e=>console.log(e))),await this.getWorkList(),"process_complete"===this.partialWorkFinalStatus){let e=await Re.A.get(`${Ae}/production/work/process/status/${this.searchWorkingOrder.production_order_num}`).catch((e=>console.log(e))),t=e.data.filter((e=>"process_complete"===e.process_status));t.length===e.data.length&&(await this.deductMaterial(),await this.updateProdOrderStatus("work_complete"),await this.updatePlanStatus("plan_complete"))}},partialWorkFirstStartTime(){let e={processStartTime:"-"===this.partialWorkFirstStartTime?null:this.partialWorkFirstStartTime,processWorkHeaderNum:this.selectedRow.process_work_header_num};Re.A.put(`${Ae}/production/work/process/start`,e).catch((e=>console.log(e)))},partialWorkLastEndTime(){if("-"===this.partialWorkLastEndTime)return;let e={processEndTime:this.partialWorkLastEndTime,processWorkHeaderNum:this.selectedRow.process_work_header_num};Re.A.put(`${Ae}/production/work/process/end`,e).catch((e=>console.log(e)))}}};const mR=(0,ne.A)(pR,[["render",dM],["__scopeId","data-v-482f4bc8"]]);var hR=mR;const yR=e=>((0,o.Qi)("data-v-5e03eea8"),e=e(),(0,o.jt)(),e),fR={class:"container-fluid py-4"},gR=yR((()=>(0,o.Lk)("div",{class:"pb-4"},[(0,o.Lk)("h3",null,"공정 실적")],-1))),kR={class:"main-container mt-4"},bR={class:"content"},LR={class:"row gx-3 gy-2 align-items-center"},vR={class:"col-sm-2"},xR=yR((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"order"},"생산지시",-1))),wR=["value"],_R={class:"col-sm-2"},CR=yR((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"process"},"공정",-1))),DR=["value"],SR={class:"col-sm-2"},NR=yR((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"product"},"제품",-1))),MR=["value"],RR={class:"col-auto mt-5 text-center"},AR={class:"grid-container work",style:{"padding-top":"10px"}};function IR(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("ModalProdOrderList"),d=(0,o.g2)("ModalProcessList"),u=(0,o.g2)("ModalWorkCompletedProduct"),p=(0,o.g2)("Modal");return(0,o.uX)(),(0,o.CE)("div",fR,[gR,(0,o.Lk)("div",kR,[(0,o.Lk)("div",bR,[(0,o.Lk)("form",LR,[(0,o.Lk)("div",vR,[xR,(0,o.Lk)("input",{type:"text",readonly:"",onClick:t[0]||(t[0]=e=>i.openModal("order")),value:n.searchProdOrder.production_order_name,class:"form-control cursor-pointer",style:{"background-color":"white","padding-left":"20px"},id:"order"},null,8,wR)]),(0,o.Lk)("div",_R,[CR,(0,o.Lk)("input",{type:"text",readonly:"",onClick:t[1]||(t[1]=e=>i.openModal("process")),value:n.searchProcess.process_name,class:"form-control cursor-pointer",style:{"background-color":"white","padding-left":"20px"},id:"process"},null,8,DR)]),(0,o.Lk)("div",SR,[NR,(0,o.Lk)("input",{type:"text",readonly:"",onClick:t[2]||(t[2]=e=>i.openModal("product")),value:n.searchProduct.product_name,class:"form-control cursor-pointer",style:{"background-color":"white","padding-left":"20px"},id:"product"},null,8,MR)])]),(0,o.Lk)("div",RR,[(0,o.Lk)("button",{type:"button",class:"btn me-5 fs-6 btn-success",onClick:t[3]||(t[3]=(...e)=>i.search&&i.search(...e))},"조회"),(0,o.Lk)("button",{type:"button",class:"btn btn-warning fs-6",onClick:t[4]||(t[4]=(...e)=>i.resetFilter&&i.resetFilter(...e))},"초기화")])])]),(0,o.Lk)("div",AR,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:i.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",quickFilterText:n.listSearch,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText"])]),(0,o.bF)(p,{isShowModal:n.isShowModal,modalTitle:n.modalTitle,noBtn:"닫기",yesBtn:"선택",width:"order"===n.modalType?800:400,onCloseModal:i.closeModal,onConfirm:i.confirm},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(c,{onSelectCompletedOrder:i.selectCompletedOrder},null,8,["onSelectCompletedOrder"]),[[l.aG,n.isShowModal&&"order"===n.modalType]]),(0,o.bo)((0,o.bF)(d,{onSelectProcess:i.selectProcess},null,8,["onSelectProcess"]),[[l.aG,n.isShowModal&&"process"===n.modalType]]),(0,o.bo)((0,o.bF)(u,{onSelectProduct:i.selectProduct},null,8,["onSelectProduct"]),[[l.aG,n.isShowModal&&"product"===n.modalType]])])),_:1},8,["isShowModal","modalTitle","width","onCloseModal","onConfirm"])])}const ER=e=>((0,o.Qi)("data-v-0256b552"),e=e(),(0,o.jt)(),e),FR={class:"container-fluid"},PR={class:"row w-100"},OR={class:"col-12"},qR={class:"card"},$R={class:"card-body px-0"},TR={class:"table-responsive p-0"},jR={class:"table align-items-center justify-content-center mb-0"},QR=ER((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7"}," 생산지시 코드 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 생산지시명 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 작업일자 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 제품명 ")])],-1))),UR=["onClick"],JR={class:"mb-0 text-end text-sm"},zR={class:"text-sm font-weight-bold mb-0"},BR={class:"text-sm text-center font-weight-bold mb-0"},VR={class:"text-sm font-weight-bold mb-0"};function WR(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",FR,[(0,o.Lk)("div",PR,[(0,o.Lk)("div",OR,[(0,o.Lk)("div",qR,[(0,o.Lk)("div",$R,[(0,o.Lk)("div",TR,[(0,o.Lk)("table",jR,[QR,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.completedOrderList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.production_order_num,class:(0,d.C4)(["working-order",{selected:s.selectedCompletedOrderNum===e.production_order_num}]),onClick:t=>n.selectOrder(e)},[(0,o.Lk)("td",null,[(0,o.Lk)("h6",JR,(0,d.v_)(e.production_order_num),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",zR,(0,d.v_)(e.production_order_name),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",BR,(0,d.v_)(n.dateFormat(e.work_date,"yyyy-MM-dd")),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",VR,(0,d.v_)(e.product_name),1)])],10,UR)))),128))])])])])])])])])])}var GR={name:"ModalProdOrderList",data(){return{completedOrderList:[],selectedCompletedOrderNum:""}},created(){this.getCompletedOrderList()},methods:{dateFormat(e,t){return Ho.dateFormat(e,t)},async getCompletedOrderList(){let e=await Re.A.get(`${Ae}/production/work/completedorders`).catch((e=>console.log(e)));this.completedOrderList=e.data},selectOrder(e){this.selectedCompletedOrderNum=e.production_order_num,this.$emit("selectCompletedOrder",e)}}};const XR=(0,ne.A)(GR,[["render",WR],["__scopeId","data-v-0256b552"]]);var KR=XR;const HR=e=>((0,o.Qi)("data-v-6dc00632"),e=e(),(0,o.jt)(),e),YR={class:"container-fluid"},ZR={class:"row w-100"},eA={class:"col-12"},tA={class:"card"},aA={class:"card-body px-0"},lA={class:"table-responsive p-0"},oA={class:"table align-items-center justify-content-center mb-0"},sA=HR((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7"}," 공정코드 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 공정이름 ")])],-1))),nA=["onClick"],iA={class:"mb-0 text-center text-sm"},rA={class:"text-sm font-weight-bold mb-0"};function cA(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",YR,[(0,o.Lk)("div",ZR,[(0,o.Lk)("div",eA,[(0,o.Lk)("div",tA,[(0,o.Lk)("div",aA,[(0,o.Lk)("div",lA,[(0,o.Lk)("table",oA,[sA,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.processList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.process_code,class:(0,d.C4)(["working-order",{selected:s.selectedProcessCode===e.process_code}]),onClick:t=>n.selectProcess(e)},[(0,o.Lk)("td",null,[(0,o.Lk)("h6",iA,(0,d.v_)(e.process_code),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",rA,(0,d.v_)(e.process_name),1)])],10,nA)))),128))])])])])])])])])])}var dA={name:"ModalProcessList",data(){return{processList:[],selectedProcessCode:""}},created(){this.getProcessList()},methods:{async getProcessList(){let e=await Re.A.get(`${Ae}/production/work/process`).catch((e=>console.log(e)));this.processList=e.data},selectProcess(e){this.selectedProcessCode=e.production_order_num,this.$emit("selectProcess",e)}}};const uA=(0,ne.A)(dA,[["render",cA],["__scopeId","data-v-6dc00632"]]);var pA=uA;const mA=e=>((0,o.Qi)("data-v-c358e1b6"),e=e(),(0,o.jt)(),e),hA={class:"container-fluid"},yA={class:"row w-100"},fA={class:"col-12"},gA={class:"card"},kA={class:"card-body px-0"},bA={class:"table-responsive p-0"},LA={class:"table align-items-center justify-content-center mb-0"},vA=mA((()=>(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7"}," 제품코드 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 제품명 "),(0,o.Lk)("th",{class:"text-uppercase text-center text-secondary text-md font-weight-bolder opacity-7 ps-2"}," 용량(ml) ")])],-1))),xA=["onClick"],wA={class:"mb-0 text-center text-sm"},_A={class:"text-sm font-weight-bold mb-0"},CA={class:"text-sm text-end font-weight-bold mb-0"};function DA(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",hA,[(0,o.Lk)("div",yA,[(0,o.Lk)("div",fA,[(0,o.Lk)("div",gA,[(0,o.Lk)("div",kA,[(0,o.Lk)("div",bA,[(0,o.Lk)("table",LA,[vA,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.productList,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.product_code,class:(0,d.C4)(["working-order",{selected:s.selectedProductCode===e.product_code}]),onClick:t=>n.selectProduct(e)},[(0,o.Lk)("td",null,[(0,o.Lk)("h6",wA,(0,d.v_)(e.product_code),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",_A,(0,d.v_)(e.product_name),1)]),(0,o.Lk)("td",null,[(0,o.Lk)("p",CA,(0,d.v_)(e.capacity),1)])],10,xA)))),128))])])])])])])])])])}var SA={name:"ModalWorkCompletedProduct",data(){return{productList:[],selectedProductCode:""}},created(){this.getProductList()},methods:{async getProductList(){let e=await Re.A.get(`${Ae}/production/work/complete/product`).catch((e=>console.log(e)));this.productList=e.data},selectProduct(e){this.selectedProductCode=e.product_code,this.$emit("selectProduct",e)}}};const NA=(0,ne.A)(SA,[["render",DA],["__scopeId","data-v-c358e1b6"]]);var MA=NA,RA={name:"ProductionOrderList",components:{ModalWorkCompletedProduct:MA,ModalProcessList:pA,ModalProdOrderList:KR,Modal:mo},data(){return{modalTitle:"완료 생산지시 목록",isShowModal:!1,listSearch:"",rowData:[],columnDefs:[{headerName:"No.",field:"no",cellStyle:{textAlign:"right"},flex:1},{headerName:"생산지시번호",field:"production_order_num",cellStyle:{textAlign:"right"},flex:2},{headerName:"공정명",field:"process_name",flex:2},{headerName:"제품명",field:"product_name",flex:2},{headerName:"설비명",field:"machine_name",flex:2},{headerName:"작업자",field:"emp_name",flex:2},{headerName:"생산량(개)",field:"production_qty",cellStyle:{textAlign:"right"},flex:2},{headerName:"불량량(개)",field:"fail_qty",cellStyle:{textAlign:"right"},flex:2},{headerName:"합격량(개)",field:"success_qty",cellStyle:{textAlign:"right"},flex:2},{headerName:"작업시작시간",field:"partial_process_start_time",cellStyle:{textAlign:"center"},flex:3},{headerName:"작업완료시간",field:"partial_process_end_time",cellStyle:{textAlign:"center"},flex:3}],selectedProdOrder:{},searchProdOrder:{},selectedProcess:{},searchProcess:{},modalType:"order",selectedProduct:{},searchProduct:{}}},computed:{theme(){return ko}},created(){this.getWorkDoneList()},methods:{resetFilter(){this.searchProdOrder={},this.searchProcess={},this.searchProduct={},this.getWorkDoneList()},search(){let e={prodOrderNum:this.searchProdOrder.production_order_num,processCode:this.searchProcess.process_code,productCode:this.searchProduct.product_code};this.getWorkDoneList(e)},selectCompletedOrder(e){this.selectedProdOrder=e},selectProcess(e){this.selectedProcess=e},selectProduct(e){this.selectedProduct=e},confirm(){"order"===this.modalType?this.searchProdOrder=this.selectedProdOrder:"process"===this.modalType?this.searchProcess=this.selectedProcess:this.searchProduct=this.selectedProduct,this.closeModal()},closeModal(){this.isShowModal=!1},openModal(e){this.modalType=e,this.modalTitle="order"===e?"완료 생산지시 목록":"process"===e?"공정 목록":"제품 목록",this.isShowModal=!this.isShowModal},onReady(){const e=document.querySelector(".ag-paging-panel");if(e){const t=document.createElement("div");t.style.display="flex",t.style.alignItems="center";const a=document.createElement("input");a.type="text",a.placeholder="검색",a.style.padding="5px",a.style.width="200px",a.style.border="1px solid #ccc",a.style.borderRadius="4px",a.style.position="absolute",a.style.left="20px",a.addEventListener("input",(e=>{this.listSearch=e.target.value})),t.appendChild(a),e.insertBefore(t,e.firstChild)}},dateFormat(e,t){return Ho.dateFormat(e,t)},async getWorkDoneList(e){let t=null;if(t=e?await Re.A.get(`${Ae}/production/work/done?prodOrderNum=${e.prodOrderNum||""}&processCode=${e.processCode||""}&productCode=${e.productCode||""}`).catch((e=>console.log(e))):await Re.A.get(`${Ae}/production/work/done`).catch((e=>console.log(e))),this.rowData=[],0===t.data.length)return;let a=[];this.columnDefs.forEach((e=>{a.push(e.field)})),t.data.forEach(((e,t)=>{this.rowData[t]={[a[0]]:e[a[0]],[a[1]]:e[a[1]],[a[2]]:e[a[2]],[a[3]]:e[a[3]],[a[4]]:e[a[4]],[a[5]]:e[a[5]],[a[6]]:e[a[7]]+e[a[8]],[a[7]]:e[a[7]],[a[8]]:e[a[8]],[a[9]]:this.dateFormat(e[a[9]],"yyyy-MM-dd hh:mm:ss"),[a[10]]:this.dateFormat(e[a[10]],"yyyy-MM-dd hh:mm:ss")}}))}}};const AA=(0,ne.A)(RA,[["render",IR],["__scopeId","data-v-5e03eea8"]]);var IA=AA;const EA=["productionPlanAdd","productionOrderAdd"],FA=(e,t)=>{ot.state.loginInfo.name?2!==ot.state.loginInfo.job_num&&3!==ot.state.loginInfo.level?((0,Te.me)({title:"로그인요청",text:"생산팀 또는 관리자만 접속 가능합니다.",type:"error"}),t(!1)):EA.includes(e.name)&&1===ot.state.loginInfo.level?((0,Te.me)({title:"로그인요청",text:"생산반장 또는 관리자만 접속 가능합니다.",type:"error"}),t(!1)):t():((0,Te.me)({title:"로그인요청",text:"로그인이 필요한 페이지입니다.",type:"error"}),t(!1))},PA=[{path:"/",name:"productionPlanList",redirect:{name:"productionPlanList"},beforeEnter:(e,t,a)=>{FA(e,a)}},{path:"plan/list",name:"productionPlanList",component:G_,beforeEnter:(e,t,a)=>{FA(e,a)}},{path:"plan/add",name:"productionPlanAdd",component:kD,beforeEnter:(e,t,a)=>{FA(e,a)}},{path:"order/list",name:"productionOrderList",component:DD,beforeEnter:(e,t,a)=>{FA(e,a)}},{path:"order/add",name:"productionOrderAdd",component:GS,beforeEnter:(e,t,a)=>{FA(e,a)}},{path:"working/list",name:"workingList",component:hR,beforeEnter:(e,t,a)=>{FA(e,a)}},{path:"workdone/list",name:"productionWorkDoneList",component:IA,beforeEnter:(e,t,a)=>{FA(e,a)}}];var OA=PA;function qA(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(),(0,o.Wv)(a,{key:e.$route.fullPath}))])}const $A={},TA=(0,ne.A)($A,[["render",qA]]);var jA=TA;const QA=e=>((0,o.Qi)("data-v-21a488ae"),e=e(),(0,o.jt)(),e),UA={class:"partList container-fluid py-4"},JA=QA((()=>(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"  불량코드 관리")],-1))),zA={class:"main-container"},BA={class:"content",style:{height:"130px",margin:"20px"}},VA={class:"row gx-3 gy-2 align-items-center"},WA={class:"col-sm-2"},GA=QA((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"faultyCode"},"불량코드",-1))),XA={class:"col-sm-2"},KA=QA((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"faultyReason"},"불량사유",-1))),HA={class:"col-sm-3"},YA={class:"grid-container",style:{"padding-top":"10px"}};function ZA(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",UA,[JA,(0,o.Lk)("div",zA,[(0,o.Lk)("div",BA,[(0,o.Lk)("form",VA,[(0,o.Lk)("div",WA,[GA,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"faultyCode","onUpdate:modelValue":t[0]||(t[0]=e=>n.faultyCode=e)},null,512),[[l.Jo,n.faultyCode]])]),(0,o.Lk)("div",XA,[KA,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"faultyReason","onUpdate:modelValue":t[1]||(t[1]=e=>n.faultyReason=e)},null,512),[[l.Jo,n.faultyReason]])]),(0,o.Lk)("div",HA,[(0,o.Lk)("button",{style:{position:"relative",top:"29px"},type:"button",class:"btn btn-success me-5",onClick:t[2]||(t[2]=t=>e.upin?i.input_update(2):i.input_update(1))},"등록/수정"),(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"29px"},type:"button",class:"btn btn-warning me-5",onClick:t[3]||(t[3]=(...e)=>i.refresh&&i.refresh(...e))},"새로고침")])])])]),(0,o.Lk)("div",YA,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",onCellClicked:i.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked"])])])}var eI={data(){return{faultyCode:"",faultyReason:"",columnDefs:[{headerName:"불량코드",field:"faulty_code",width:220},{headerName:"불량사유",field:"faulty_reason"},{headerName:"불량코드삭제",field:"삭제",cellStyle:{textAlign:"center"},upin:"",editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),confirm("정말 삭제하시겠습니까?")&&Re.A.delete(`${Ae}/faultyDelete/${e.data.faulty_code}`).then((e=>{"성공"===e.data?(this.$notify({text:"코드가 삭제되었습니다.",type:"success"}),this.faultyList()):this.$notify({text:"삭제실패.",type:"error"})})).catch((e=>console.log(e)))})),t}}],newList:[],rowData:[],theme:ko}},methods:{refresh(){this.faultyList(),this.upin="",this.faultyCode="",this.faultyReason=""},...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능",type:"error"}),this.$router.push({name:"MainPage"}))},async faultyList(){const e=await Re.A.get(`${Ae}/faultyList`).catch((e=>console.log(e)));this.rowData=e.data},onReady(e){e.api.sizeColumnsToFit()},onCellClicked(e){"삭제"!==e.colDef.field&&(console.log("레코드 확인[클릭] : ",JSON.stringify(e.data)),this.faultyCode=e.data.faulty_code,this.faultyReason=e.data.faulty_reason,this.upin="update")},async faultyInsert(e){const t=await Re.A.post(`${Ae}/faultyInsert`,e).catch((e=>console.log(e)));console.log("데이터 확인",t.data),this.faultyList()},input_update(){if(console.log("등록 또는 수정 기능여기서 추가"),""!==this.faultyCode&&""!==this.faultyReason){if(this.newList={faulty_code:this.faultyCode,faulty_reason:this.faultyReason},"update"===this.upin)this.$notify({text:"수정되었습니다.",type:"success"}),this.faultyInsert(this.newList);else{for(let e=0;e<this.rowData.length;e++)if(this.rowData[e].faulty_code===this.faultyCode)return void this.$notify({text:"이미 존재하는 불량코드입니다.",type:"error"});this.$notify({text:"등록되었습니다.",type:"success"}),this.faultyInsert(this.newList)}this.faultyList()}else this.$notify({text:"빈칸을 입력해주세요.",type:"error"})}},mounted(){this.checkLogin(),this.faultyList()}};const tI=(0,ne.A)(eI,[["render",ZA],["__scopeId","data-v-21a488ae"]]);var aI=tI;const lI=e=>((0,o.Qi)("data-v-f40f415e"),e=e(),(0,o.jt)(),e),oI={class:"partList container-fluid py-4"},sI={class:"d-flex"},nI={class:"form-container"},iI=lI((()=>(0,o.Lk)("h3",null," BOM 관리 ",-1))),rI={class:"search pe-md-3 d-flex align-items-center ms-md-auto"},cI={class:"d-flex align-items-center"},dI=lI((()=>(0,o.Lk)("span",null,"BOM번호",-1))),uI={class:"d-flex align-items-center"},pI=lI((()=>(0,o.Lk)("span",null,"제품코드",-1))),mI={class:"search pe-md-3 d-flex align-items-center ms-md-auto"},hI={class:"d-flex align-items-center"},yI=lI((()=>(0,o.Lk)("span",null,"제품명",-1))),fI={class:"d-flex align-items-center ms-md-3"},gI=lI((()=>(0,o.Lk)("span",null,"용량",-1))),kI={class:"grid-container"},bI={class:"grid-bom"};function LI(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("Modal"),d=(0,o.g2)("materialModal");return(0,o.uX)(),(0,o.CE)("div",oI,[(0,o.Lk)("div",sI,[(0,o.Lk)("div",nI,[iI,(0,o.Lk)("div",rI,[(0,o.Lk)("div",cI,[dI,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchBomnum=e),autocomplete:"off",readonly:"",id:"search-bomnum",type:"text",class:"form-control"},null,512),[[l.Jo,n.searchBomnum]])]),(0,o.Lk)("div",uI,[pI,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.searchProductcode=e),autocomplete:"off",placeholder:"클릭해서 제품코드 선택",id:"search-productcode",type:"text",class:"form-control",onClick:t[2]||(t[2]=e=>i.openModal("productCodeModal"))},null,512),[[l.Jo,n.searchProductcode]])])]),(0,o.Lk)("div",mI,[(0,o.Lk)("div",hI,[yI,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.searchProduct=e),id:"product-search",autocomplete:"off",type:"text",class:"form-control",readonly:""},null,512),[[l.Jo,n.searchProduct]])]),(0,o.Lk)("div",fI,[gI,(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.searchCapacity=e),autocomplete:"off",id:"capacity-search",type:"text",class:"form-control",readonly:""},null,512),[[l.Jo,n.searchCapacity]])])]),(0,o.Lk)("div",kI,[(0,o.bF)(r,{style:{width:"479px",height:"513px"},rowData:n.bomList,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100],onGridReady:e.onReady2},null,8,["rowData","columnDefs","theme","onGridReady"])])]),(0,o.Lk)("div",bI,[(0,o.bF)(r,{style:{width:"652px",height:"530px"},rowData:n.bomBox,columnDefs:n.columnBoms,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,paginationPageSizeSelector:[10,20,50,100],onCellEditingStopped:i.onCellEditingStopped,onRowSelection:i.rowSelection,rowSelection:"multiple",onCellClicked:i.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellEditingStopped","onRowSelection","onCellClicked"]),(0,o.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(...e)=>i.updateBom&&i.updateBom(...e)),class:"btn btn-success"}," 수정 완료 "),(0,o.Lk)("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>i.addMaterial&&i.addMaterial(...e)),class:"btn btn-secondary"}," 자재 추가 "),(0,o.Lk)("button",{type:"button",onClick:t[7]||(t[7]=(...e)=>i.insertBom&&i.insertBom(...e)),class:"btn btn-info"}," BOM 등록 "),(0,o.Lk)("button",{type:"button",onClick:t[8]||(t[8]=(...e)=>i.deleteBomList&&i.deleteBomList(...e)),class:"btn btn-danger"}," 선택한 자재 삭제 ")])]),(0,o.Lk)("div",null,[(0,o.bF)(c,{isShowModal:n.isShowModal,onCloseModal:i.closeModal,onConfirm:i.confirm,modalTitle:n.modalTitle,onSelectItem:i.setSelectProduct},null,8,["isShowModal","onCloseModal","onConfirm","modalTitle","onSelectItem"])]),(0,o.Lk)("div",null,[(0,o.bF)(d,{isShowModal:n.isShowModal2,onCloseModal:i.closeModal2,onConfirm:i.confirm2,onSelectMaterial:i.setSelectMaterial},null,8,["isShowModal","onCloseModal","onConfirm","onSelectMaterial"])])])}const vI={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},xI={class:"modal-content"},wI={class:"modal-header",style:{"background-color":"#e9ecef"}},_I={class:"modal-title fs-5",id:"exampleModalLabel"},CI={class:"modal-body"},DI={class:"mb-1"},SI={class:"grid-container"},NI={class:"modal-footer"};function MI(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal}]),onClick:t[2]||(t[2]=(0,l.D$)(((...e)=>i.closeModal&&i.closeModal(...e)),["self"])),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",vI,[(0,o.Lk)("div",xI,[(0,o.Lk)("div",wI,[(0,o.Lk)("h1",_I,(0,d.v_)(a.modalTitle),1)]),(0,o.Lk)("div",CI,[(0,o.RG)(e.$slots,"list",{},void 0,!0),(0,o.Lk)("div",DI,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.search=e),class:"text-center styled-input",placeholder:"검색"},null,512),[[l.Jo,n.search]]),(0,o.Lk)("div",SI,[(0,o.bF)(r,{style:{width:"100%"},rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:e.onReady,onRowClicked:i.onRowClicked,quickFilterText:n.search},null,8,["rowData","columnDefs","theme","onGridReady","onRowClicked","quickFilterText"])])])]),(0,o.Lk)("div",NI,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=(...e)=>i.closeModal&&i.closeModal(...e))},"닫기")])])])],2)}var RI={name:"Modal",props:{isShowModal:Boolean,modalTitle:String},data(){return{search:null,theme:ko,rowData:[],columnDefs:[{headerName:"제품코드",field:"product_code"},{headerName:"제품명",field:"product_name"}],bomInput:[]}},watch:{modalTitle(){console.log("확인용"),this.getBomInput()}},created(){this.getBomInput()},methods:{closeModal(){this.$emit("closeModal")},onRowClicked(e){console.log("클릭된 데이터 : ",e.data);let t=e.data;this.$emit("selectItem",{product_code:t.product_code,product_name:t.product_name,capacity:t.capacity})},getSelectedProduct(){return this.rowData[0]},async getBomInput(){let e=await Re.A.get(`${Ae}/bomproduct`);e&&e.data?(this.bomInput=e.data,console.log("연결성공"),this.rowData=e.data):console.log("연결실패")}}};const AI=(0,ne.A)(RI,[["render",MI],["__scopeId","data-v-0b5d1dbb"]]);var II=AI;const EI=e=>((0,o.Qi)("data-v-b42971a8"),e=e(),(0,o.jt)(),e),FI={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},PI={class:"modal-content"},OI=EI((()=>(0,o.Lk)("div",{class:"modal-header",style:{"background-color":"#e9ecef"}},[(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"자재 선택")],-1))),qI={class:"modal-body"},$I={class:"mb-1"},TI=EI((()=>(0,o.Lk)("label",{for:"searchInput",class:"form-label"},null,-1))),jI={class:"grid-container"},QI={class:"modal-footer"};function UI(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal}]),onClick:t[2]||(t[2]=(0,l.D$)(((...e)=>i.closeModal&&i.closeModal(...e)),["self"])),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",FI,[(0,o.Lk)("div",PI,[OI,(0,o.Lk)("div",qI,[(0,o.RG)(e.$slots,"list",{},void 0,!0),(0,o.Lk)("div",$I,[TI,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.search=e),class:"text-center styled-input",placeholder:"검색"},null,512),[[l.Jo,n.search]]),(0,o.Lk)("div",jI,[(0,o.bF)(r,{style:{width:"100%"},rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:e.onReady,onRowClicked:i.onRowClicked,quickFilterText:n.search},null,8,["rowData","columnDefs","theme","onGridReady","onRowClicked","quickFilterText"])])])]),(0,o.Lk)("div",QI,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=(...e)=>i.closeModal&&i.closeModal(...e))},"닫기")])])])],2)}var JI={name:"Modal",props:{isShowModal:Boolean,modalTitle:String},data(){return{search:null,theme:ko,rowData:[],columnDefs:[{headerName:"자재코드",field:"material_code"},{headerName:"자재명",field:"material_name"}],quickFilterText:"",bomInput:[]}},watch:{modalTitle(){console.log("확인용"),this.materialSelect()}},created(){this.materialSelect()},methods:{closeModal(){this.$emit("closeModal")},onRowClicked(e){console.log("클릭된 데이터 : ",e.data);let t=e.data;this.$emit("selectMaterial",{material_code:t.material_code,material_name:t.material_name})},getSelectedProduct(){return this.rowData[0]},async materialSelect(){let e=await Re.A.get(`${Ae}/materialSelect`);e&&e.data?(console.log("연결성공"),this.rowData=e.data):console.log("연결실패")}}};const zI=(0,ne.A)(JI,[["render",UI],["__scopeId","data-v-b42971a8"]]);var BI=zI,VI={name:"BomManagement",components:{Modal:II,materialModal:BI},data(){return{isShowModal:!1,isShowModal2:!1,modalType:"",modalTitle:"제품 코드 선택",selectedRow:null,theme:ko,rowData:[],columnBoms:[{checkboxSelection:!0,headerCheckboxSelection:!0,width:50},{headerName:"자재코드",field:"material_code",cellStyle:{textAlign:"center"},cellRenderer:e=>{if(e.value)return`<span style="text-align: right;">\n                              ${e.data.material_code}\n                              🔍\n                              </span>`}},{headerName:"자재",field:"material"},{headerName:"수량",field:"material_con",editable:!0,cellStyle:{textAlign:"right"}}],columnDefs:[{headerName:"제품명",field:"product_name",width:150},{headerName:"용량",field:"capacity",width:150,cellStyle:{textAlign:"right"}},{width:80,editable:!1,cellStyle:{textAlign:"center"},cellRenderer:e=>{const t=document.createElement("button");return t.innerText="조회",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인 : ",JSON.stringify(e.data)),console.log(e.data.product_code),this.view(e.data.product_name,e.data.capacity,e.data.bom_num,e.data.material,e.data.product_code)})),t}},{width:80,editable:!1,cellStyle:{textAlign:"center"},cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f44335",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),this.dele(e.data.bom_num),this.$notify({text:"BOM이 삭제되었습니다.",type:"success"}),this.getBomList()})),t}}],bomList:[],bomBox:[],bomBox2:[],newList:[],newData:{},searchBomnum:"",searchProductcode:"",searchProduct:"",searchCapacity:"",searchMaterialcode:"",searchMaterial:"",isUpdated:!1,allInputData:{}}},created(){this.getBomList()},methods:{...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능합니다.",type:"error"}),this.$router.push({name:"MainPage"}))},openModal(e){this.modalType=e,this.modalTitle="제품 코드 선택",this.isShowModal=!0},openModal2(e){console.log("데이터 확인",this.selectedRow),this.modalType=e,console.log("행클릭됨"),this.isShowModal2=!0},onReady(e){this.allInputData=e.api},confirm(){console.log("값 저장"),this.closeModal()},confirm2(){console.log("값 저장"),this.closeModal()},onCellClicked(e){this.selectedRow=e.node,console.log("이벤트발생",e),"material_code"===e.colDef.field&&this.openModal2("materialCodeModal")},setSelectProduct(e){console.log(e),this.searchProductcode=e.product_code,this.searchProduct=e.product_name,this.searchCapacity=e.capacity,this.searchBomnum="",this.closeModal(),this.bomBox=[]},setSelectMaterial(e){console.log(e),console.log(e.material_code),console.log(e.material_name),this.selectedRow.setDataValue("material_code",e.material_code),this.selectedRow.setDataValue("material",e.material_name),this.isShowModal2=!1},closeModal(){this.isShowModal=!1},closeModal2(){this.isShowModal2=!1},rowSelection(e){console.log("이벤트발생",e)},async deleteBomList(){console.log("삭제할 데이터",this.bomBox);const e=this.allInputData.getSelectedRows();if(0!==e.length){for(let a=0;a<e.length;a++){const l=e[a].bom_seq;console.log("삭제할 bom_seq:",l);try{const e=await Re.A.get(`${Ae}/materialdelete/${l}`);console.log("삭제 결과:",e.data)}catch(t){console.error("삭제 중 오류 발생:",t)}}this.$notify({text:"BOM자재가 삭제되었습니다",type:"success"}),this.view(this.searchProduct,this.searchCapacity,this.allInputData.getSelectedRows()[0].bom_num,this.searchMaterialcode,this.searchProductcode)}else this.$notify({text:"삭제할 자재를 선택해주세요.",type:"error"})},onCellEditingStopped(e){const t=e.data;console.log(t),""!=t.material_con&&(this.newData={bom_num:this.bomBox[0]["bom_num"],material_code:t.material_code,material:t.material,material_con:t.material_con},console.log(this.newData))},async getBomList(){let e=await Re.A.get(`${Ae}/bomview`);e&&e.data?this.bomList=e.data:console.log("서버 연결 실패")},async getBom(e){let t=await Re.A.get(`${Ae}/boms/${e}`);this.bomBox=t.data,this.bomBox2=JSON.parse(JSON.stringify(this.bomBox))},async updateBomlist({bom_seq:e,bom_num:t,material_code:a,material:l,material_con:o}){if(0===this.bomBox.length)return void this.$notify({text:"빈칸을 입력해주세요",type:"error"});this.newList={bom_num:t,material_code:a,material:l,material_con:o},console.log(this.newList),console.log("update 데이터");let s=await Re.A.post(`${Ae}/bomupdate/${e}`,this.newList);console.log(s.data)},async insertBom(){if(""===this.searchProductCode||""===this.searchProduct||""===this.searchCapacity)return void this.$notify({text:"빈칸을 입력해주세요.",type:"error"});const e=this.bomList.find((e=>e.product_name===this.searchProduct));if(e)this.$notify({text:"이미 등록된 제품명이 있습니다.",type:"error"});else{this.newList={product_code:this.searchProductcode,product_name:this.searchProduct,capacity:this.searchCapacity},this.$notify({text:"등록에 성공하였습니다.",type:"success"}),console.log("등록될 제품",this.newList);try{const e=await Re.A.post(`${Ae}/bomregist`,this.newList);console.log(e.data),this.getBomList()}catch(t){console.error("등록 실패:",t)}}},view(e,t,a,l,o){console.log("데이터",l),console.log("제품코드",o),console.log("제품번호",a),this.getBom(a),this.searchBomnum=a,this.searchProduct=e,this.searchCapacity=t,this.searchMaterialcode=l,this.searchProductcode=o},async dele(e){console.log("삭제할번호",e);let t=await Re.A.delete(`${Ae}/bomdelete/${e}`);console.log(t);let a=await Re.A.delete(`${Ae}/bomdelete/${e}`);console.log(a)},addMaterial(){this.bomBox.push({bom_num:this.searchBomnum,material_code:"",material:"",material_con:0}),this.bomBox=[...this.bomBox]},async insertBomlist({bom_num:e,material_code:t,material:a,material_con:l}){this.newList={bom_num:e,material_code:t,material:a,material_con:l},console.log(this.newList),console.log("insert 데이터");let o=await Re.A.post(`${Ae}/bominsert/${e}`,this.newList);console.log(o.data)},goToDetail(e){this.$router.push({name:"bomInfo",params:{bomno:e}})},async updateBom(){if(""!==this.searchProductcode){for(let e=0;e<this.bomBox2.length;e++)console.log(e);this.bomBox.forEach((e=>{e.bom_num||(e.bom_num=this.searchBomnum)}));for(let e=0;e<this.bomBox.length;e++)if(e<this.bomBox2.length)if(this.bomBox[e]["material"]!=this.bomBox2[e]["material"]||this.bomBox[e]["material_code"]!=this.bomBox2[e]["material_code"]||this.bomBox[e]["material_con"]!=this.bomBox2[e]["material_con"]){if(""===this.searchProductcode)return void this.$notify({text:"빈칸을 입력해주세요",type:"error"});if(console.log("같지않음"),""===this.bomBox[e])return void this.$notify({text:"빈칸을 입력해주세요",type:"error"});this.updateBomlist(this.bomBox[e])}else{if(""===this.searchProductCode)return void this.$notify({text:"제품을 선택해주세요",type:"error"});console.log("같은값")}else{if(""===this.searchProductcode)return void this.$notify({text:"제품을 선택해주세요",type:"error"});if(""===this.bomBox[e].material_code||""===this.bomBox[e].material||""===this.bomBox[e].material_con)return void this.$notify({text:"빈칸을 입력해주세요",type:"error"});this.insertBomlist(this.bomBox[e])}this.$notify({text:"수정이 완료되었습니다.",type:"success"})}else this.$notify({text:"제품을 선택해주세요",type:"error"})}},onReady(e){e.api.sizeColumnsToFit()},mounted(){this.checkLogin()}};const WI=(0,ne.A)(VI,[["render",LI],["__scopeId","data-v-f40f415e"]]);var GI=WI;const XI=e=>((0,o.Qi)("data-v-4ca42122"),e=e(),(0,o.jt)(),e),KI={class:"partList container-fluid py-4"},HI=XI((()=>(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"  거래처 관리")],-1))),YI={class:"d-flex"},ZI={class:"p-2 flex-fill",style:{width:"500px"}},eE={class:"main-container",style:{width:"450px"}},tE={class:"content",style:{height:"auto",width:"400px",margin:"20px","padding-bottom":"30px"}},aE={class:"d-flex flex-column"},lE={class:"d-flex"},oE={class:"p-2 flex-fill"},sE={class:"mb-3"},nE=XI((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"clientNum"},"거래처번호",-1))),iE={class:"mb-3"},rE=XI((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"comName"},"업체명",-1))),cE={class:"p-2 flex-fill"},dE={class:"mb-3"},uE=XI((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"comNum"},"사업자번호",-1))),pE={class:"mb-3"},mE=XI((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"trade"},"거래분류",-1))),hE={class:"mb-1"},yE=XI((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"address"},"주소",-1))),fE={class:"d-flex"},gE={class:"p-2 flex-fill"},kE={class:"mb-3"},bE=XI((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"boss"},"대표자",-1))),LE={class:"mb-3"},vE=XI((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"empName"},"담당자",-1))),xE={class:"p-2 flex-fill"},wE={class:"mb-3"},_E=XI((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"bossTel"},"대표연락처",-1))),CE={class:"mb-3"},DE=XI((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"empTel"},"담당자연락처",-1))),SE={class:"col-sm-5"},NE={class:"d-flex"},ME={class:"p-2 flex-fill"},RE={class:"p-2 flex-fill"},AE={class:"p-2 flex-fill",style:{width:"1000px"}},IE={class:"grid-container",style:{"padding-top":"10px"}};function EE(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("deleteModal");return(0,o.uX)(),(0,o.CE)("div",KI,[HI,(0,o.Lk)("div",YI,[(0,o.Lk)("div",ZI,[(0,o.Lk)("div",eE,[(0,o.Lk)("div",tE,[(0,o.Lk)("form",aE,[(0,o.Lk)("div",lE,[(0,o.Lk)("div",oE,[(0,o.Lk)("div",sE,[nE,(0,o.bo)((0,o.Lk)("input",{type:"text",readonly:"",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"clientNum","onUpdate:modelValue":t[0]||(t[0]=e=>n.clientNum=e)},null,512),[[l.Jo,n.clientNum]])]),(0,o.Lk)("div",iE,[rE,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"comName","onUpdate:modelValue":t[1]||(t[1]=e=>n.comName=e)},null,512),[[l.Jo,n.comName]])])]),(0,o.Lk)("div",cE,[(0,o.Lk)("div",dE,[uE,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"comNum","onUpdate:modelValue":t[2]||(t[2]=e=>n.comNum=e)},null,512),[[l.Jo,n.comNum]])]),(0,o.Lk)("div",pE,[mE,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"trade","onUpdate:modelValue":t[3]||(t[3]=e=>n.trade=e)},null,512),[[l.Jo,n.trade]])])])]),(0,o.Lk)("div",hE,[yE,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","margin-left":"8px",width:"384px","padding-left":"20px"},id:"address","onUpdate:modelValue":t[4]||(t[4]=e=>n.address=e),autocomplete:"off"},null,512),[[l.Jo,n.address]])]),(0,o.Lk)("div",fE,[(0,o.Lk)("div",gE,[(0,o.Lk)("div",kE,[bE,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"boss","onUpdate:modelValue":t[5]||(t[5]=e=>n.boss=e)},null,512),[[l.Jo,n.boss]])]),(0,o.Lk)("div",LE,[vE,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"empName","onUpdate:modelValue":t[6]||(t[6]=e=>n.empName=e)},null,512),[[l.Jo,n.empName]])])]),(0,o.Lk)("div",xE,[(0,o.Lk)("div",wE,[_E,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"bossTel","onUpdate:modelValue":t[7]||(t[7]=e=>n.bossTel=e)},null,512),[[l.Jo,n.bossTel]])]),(0,o.Lk)("div",CE,[DE,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"empTel","onUpdate:modelValue":t[8]||(t[8]=e=>n.empTel=e)},null,512),[[l.Jo,n.empTel]])])])]),(0,o.Lk)("div",SE,[(0,o.Lk)("div",NE,[(0,o.Lk)("div",ME,[(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"29px"},type:"button",class:"btn btn-success me-5",onClick:t[9]||(t[9]=t=>e.upin?i.input_update(2):i.input_update(1))},"등록/수정")]),(0,o.Lk)("div",RE,[(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"29px"},type:"button",class:"btn btn-warning me-5",onClick:t[10]||(t[10]=(...e)=>i.refresh&&i.refresh(...e))},"새로고침")])])])])])])]),(0,o.Lk)("div",AE,[(0,o.Lk)("div",IE,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",onCellClicked:i.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked"])])])]),(0,o.bF)(c,{showModal:n.showDeleteModal,onDeleteConfirmed:i.onDeleteConfirmed,onDeleteCancelled:i.onDeleteCancelled},null,8,["showModal","onDeleteConfirmed","onDeleteCancelled"])])}const FE=e=>((0,o.Qi)("data-v-31e0b430"),e=e(),(0,o.jt)(),e),PE={key:0,class:"modal-overlay"},OE={class:"modal-content"},qE=FE((()=>(0,o.Lk)("h3",null,"정말 삭제하시겠습니까?",-1))),$E={class:"button-container"};function TE(e,t,a,l,s,n){return a.showModal?((0,o.uX)(),(0,o.CE)("div",PE,[(0,o.Lk)("div",OE,[qE,(0,o.Lk)("div",$E,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.onDeleteConfirmed&&n.onDeleteConfirmed(...e)),class:"btn btn-success"},"확인"),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.onDeleteCancelled&&n.onDeleteCancelled(...e)),class:"btn btn-danger"},"취소")])])])):(0,o.Q3)("",!0)}var jE={props:{showModal:Boolean},methods:{onDeleteConfirmed(){this.$emit("deleteConfirmed")},onDeleteCancelled(){this.$emit("deleteCancelled")}}};const QE=(0,ne.A)(jE,[["render",TE],["__scopeId","data-v-31e0b430"]]);var UE=QE,JE={components:{deleteModal:UE},data(){return{clientNum:"",comName:"",boss:"",empName:"",trade:"",comNum:"",address:"",bossTel:"",empTel:"",showDeleteModal:!1,selectedCustomer:null,columnDefs:[{headerName:"업체명",field:"com_name"},{headerName:"주소",field:"address"},{headerName:"거래분류",field:"trade",cellStyle:{textAlign:"center"}},{headerName:"거래처삭제",field:"삭제",upin:"",cellStyle:{textAlign:"center"},editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f44335",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),console.log("삭제할 거래처번호 : ",e.data.client_num,"업체명 : ",e.data.com_name),this.selectedCustomer=e.data,this.showDeleteModal=!0})),t}}],newList:[],rowData:[],theme:ko}},methods:{onDeleteCancelled(){this.showDeleteModal=!1},async onDeleteConfirmed(){if(this.selectedCustomer){try{Re.A.delete(`${Ae}/customerDelete/${this.selectedCustomer.client_num}`).then((e=>{"성공"===e.data?(this.$notify({text:"거래처가 삭제되었습니다.",type:"success"}),this.customerList()):this.$notify({text:"삭제실패.",type:"error"})}))}catch(e){console.log(e),this.$notify({text:"삭제실패.",type:"error"})}this.showDeleteModal=!1}},...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능",type:"error"}),this.$router.push({name:"MainPage"}))},async customerList(){const e=await Re.A.get(`${Ae}/customerList`).catch((e=>console.log(e)));this.rowData=e.data},onReady(e){e.api.sizeColumnsToFit()},onCellClicked(e){"삭제"!==e.colDef.field&&(console.log("레코드 확인[클릭] : ",JSON.stringify(e.data)),this.clientNum=e.data.client_num,this.comName=e.data.com_name,this.boss=e.data.boss,this.empName=e.data.emp_name,this.trade=e.data.trade,this.comNum=e.data.com_num,this.address=e.data.address,this.bossTel=e.data.boss_tel,this.empTel=e.data.emp_tel,this.upin="update")},async customerInsert(e){const t=await Re.A.post(`${Ae}/customerInsert`,e).catch((e=>console.log(e)));"성공"===t.data?(this.$notify({text:"거래처가 등록되었습니다.",type:"success"}),this.customerList()):this.$notify({text:"등록에 실패하였습니다.",type:"error"})},async customerUpdate(e){const t=await Re.A.post(`${Ae}/customerUpdate/${this.clientNum}`,e).catch((e=>console.log(e)));"성공"===t.data?(this.$notify({text:"거래처가 수정되었습니다.",type:"success"}),this.customerList(),this.upin="",this.clientNum="",this.comName="",this.boss="",this.empName="",this.trade="",this.comNum="",this.address="",this.bossTel="",this.empTel=""):this.$notify({text:"수정 실패하였습니다.",type:"error"})},refresh(){this.customerList(),this.upin="",this.clientNum="",this.comName="",this.boss="",this.empName="",this.trade="",this.comNum="",this.address="",this.bossTel="",this.empTel=""},input_update(e){if(console.log("등록 또는 수정 기능여기서 추가"),console.log(this.clientNum),console.log(this.comName),console.log(this.boss),console.log(this.empName),console.log(this.trade),console.log(this.comNum),console.log(this.address),console.log(this.bossTel),console.log(this.empTel),1===e){if(""===this.comName||""===this.boss||""===this.empName||""===this.trade||""===this.comNum||""===this.address||""===this.bossTel||""===this.empTel)return void this.$notify({text:"빈칸을 입력해주세요",type:"error"});{console.log("등록");let e="ok";if("ok"===e)return this.newList={com_num:this.comNum,client_num:this.clientNum,com_name:this.comName,address:this.address,boss:this.boss,boss_tel:this.bossTel,emp_name:this.empName,emp_tel:this.empTel,trade:this.trade},console.log("데이터 확인",this.newList),void this.customerInsert(this.newList)}}else 2===e&&(console.log("수정"),this.newList={com_num:this.comNum,client_num:this.clientNum,com_name:this.comName,address:this.address,boss:this.boss,boss_tel:this.bossTel,emp_name:this.empName,emp_tel:this.empTel,trade:this.trade},this.customerUpdate(this.newList))}},mounted(){this.checkLogin(),this.customerList()}};const zE=(0,ne.A)(JE,[["render",EE],["__scopeId","data-v-4ca42122"]]);var BE=zE;const VE=e=>((0,o.Qi)("data-v-282e9bbf"),e=e(),(0,o.jt)(),e),WE={class:"partList container-fluid py-4"},GE=VE((()=>(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"  사원 관리")],-1))),XE={class:"d-flex"},KE={class:"p-2 flex-fill",style:{width:"500px"}},HE={class:"main-container",style:{width:"450px"}},YE={class:"content",style:{height:"auto",width:"400px",margin:"20px","padding-bottom":"30px"}},ZE={class:"d-flex flex-column"},eF={class:"d-flex"},tF={class:"p-2 flex-fill"},aF={class:"mb-3"},lF=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"empNum"},"사원번호",-1))),oF={class:"mb-3"},sF=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"birth"},"생년월일",-1))),nF={class:"mb-3"},iF=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"job"},"부서",-1))),rF=(0,o.Fv)('<option value="" data-v-282e9bbf>부서 선택</option><option value="영업" data-v-282e9bbf>영업</option><option value="생산" data-v-282e9bbf>생산</option><option value="자재" data-v-282e9bbf>자재</option><option value="품질" data-v-282e9bbf>품질</option><option value="설비" data-v-282e9bbf>설비</option><option value="인사" data-v-282e9bbf>인사</option>',7),cF=[rF],dF={class:"mb-3"},uF=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"position"},"직급",-1))),pF=(0,o.Fv)('<option value="" data-v-282e9bbf>직급 선택</option><option value="사원" data-v-282e9bbf>사원</option><option value="반장" data-v-282e9bbf>반장</option><option value="관리자" data-v-282e9bbf>관리자</option><option value="사장" data-v-282e9bbf>사장</option><option value="이사" data-v-282e9bbf>이사</option><option value="대리" data-v-282e9bbf>대리</option>',7),mF=[pF],hF={class:"mb-3"},yF=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"employmentDate"},"입사일",-1))),fF={class:"p-2 flex-fill"},gF={class:"mb-3"},kF=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"name"},"이름",-1))),bF={class:"mb-3"},LF=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"tel"},"연락처",-1))),vF={class:"mb-3"},xF=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"jobNum"},"부서번호",-1))),wF={class:"mb-3"},_F=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"level"},"등급",-1))),CF={id:"level",style:{"padding-left":"0px"}},DF=VE((()=>(0,o.Lk)("option",{value:""},"1",-1))),SF=VE((()=>(0,o.Lk)("option",{value:"1"},"1",-1))),NF=VE((()=>(0,o.Lk)("option",{value:"2"},"2",-1))),MF=VE((()=>(0,o.Lk)("option",{value:"3"},"3",-1))),RF=[DF,SF,NF,MF],AF={class:"mb-3"},IF=VE((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"resignationDate"},"퇴사일",-1))),EF={class:"col-sm-5"},FF={class:"d-flex"},PF={class:"p-2 flex-fill"},OF={class:"p-2 flex-fill"},qF={class:"p-2 flex-fill",style:{width:"1000px"}},$F={class:"grid-container",style:{"padding-top":"10px"}};function TF(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("deleteModal");return(0,o.uX)(),(0,o.CE)("div",WE,[GE,(0,o.Lk)("div",XE,[(0,o.Lk)("div",KE,[(0,o.Lk)("div",HE,[(0,o.Lk)("div",YE,[(0,o.Lk)("form",ZE,[(0,o.Lk)("div",eF,[(0,o.Lk)("div",tF,[(0,o.Lk)("div",aF,[lF,(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"ex)20250000",autocomplete:"off",class:"form-control",style:{"background-color":"white"},id:"empNum","onUpdate:modelValue":t[0]||(t[0]=e=>n.empNum=e)},null,512),[[l.Jo,n.empNum]])]),(0,o.Lk)("div",oF,[sF,(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",autocomplete:"off",style:{"background-color":"white","padding-left":"20px"},id:"birth","onUpdate:modelValue":t[1]||(t[1]=e=>n.birth=e)},null,512),[[l.Jo,n.birth]])]),(0,o.Lk)("div",nF,[iF,(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>n.job=e),onChange:t[3]||(t[3]=(...e)=>i.updateJobNum&&i.updateJobNum(...e)),style:{"background-color":"white","text-align":"center",border:"solid 1px"},"aria-label":"부서 선택"},cF,544),[[l.u1,n.job]])]),(0,o.Lk)("div",dF,[uF,(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>n.position=e),style:{"background-color":"white","text-align":"center",border:"solid 1px"},"aria-label":"부서 선택"},mF,512),[[l.u1,n.position]])]),(0,o.Lk)("div",hF,[yF,(0,o.bo)((0,o.Lk)("input",{type:"date",autocomplete:"off",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"employmentDate","onUpdate:modelValue":t[5]||(t[5]=e=>n.employmentDate=e)},null,512),[[l.Jo,n.employmentDate]])])]),(0,o.Lk)("div",fF,[(0,o.Lk)("div",gF,[kF,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",autocomplete:"off",style:{"background-color":"white","padding-left":"20px"},id:"name","onUpdate:modelValue":t[6]||(t[6]=e=>n.name=e)},null,512),[[l.Jo,n.name]])]),(0,o.Lk)("div",bF,[LF,(0,o.bo)((0,o.Lk)("input",{type:"tel",autocomplete:"off",class:"form-control",placeholder:"010-0000-0000",style:{"background-color":"white","padding-left":"20px"},id:"tel","onUpdate:modelValue":t[7]||(t[7]=e=>n.tel=e)},null,512),[[l.Jo,n.tel]])]),(0,o.Lk)("div",vF,[xF,(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"부서 선택시 자동입력",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"jobNum='101'","onUpdate:modelValue":t[8]||(t[8]=e=>n.jobNum=e),readonly:""},null,512),[[l.Jo,n.jobNum]])]),(0,o.Lk)("div",wF,[_F,(0,o.Lk)("div",CF,[(0,o.bo)((0,o.Lk)("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=e=>n.level=e),style:{width:"184px",border:"solid 1px","background-color":"white","text-align":"center"},"aria-label":"관리 등급 선택"},RF,512),[[l.u1,n.level]])])]),(0,o.Lk)("div",AF,[IF,(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"resignationDate","onUpdate:modelValue":t[10]||(t[10]=e=>n.resignationDate=e)},null,512),[[l.Jo,n.resignationDate]])])])]),(0,o.Lk)("div",EF,[(0,o.Lk)("div",FF,[(0,o.Lk)("div",PF,[(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"29px"},type:"button",class:"btn btn-success me-5",onClick:t[11]||(t[11]=(...e)=>i.input_update&&i.input_update(...e)),"text-align:":"",right:""},"등록/수정")]),(0,o.Lk)("div",OF,[(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"29px"},type:"button",class:"btn btn-warning me-5",onClick:t[12]||(t[12]=(...e)=>i.refresh&&i.refresh(...e))},"새로고침")])])])])])])]),(0,o.Lk)("div",qF,[(0,o.Lk)("div",$F,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",onCellClicked:i.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked"])])])]),(0,o.bF)(c,{showModal:n.showDeleteModal,onDeleteConfirmed:i.onDeleteConfirmed,onDeleteCancelled:i.onDeleteCancelled},null,8,["showModal","onDeleteConfirmed","onDeleteCancelled"])])}var jF={components:{deleteModal:UE},data(){return{empNum:"",name:"",birth:"",tel:"",job:"",jobNum:"",position:"",level:"",employmentDate:"",resignationDate:"",showDeleteModal:!1,selectedEmployee:null,columnDefs:[{headerName:"사원번호",field:"emp_num",width:220,cellStyle:{textAlign:"right"}},{headerName:"이름",field:"name"},{headerName:"연락처",field:"tel",cellStyle:{textAlign:"center"}},{headerName:"부서",field:"job"},{headerName:"직급",field:"position"},{headerName:"사원삭제",field:"삭제",upin:"",editable:!1,cellStyle:{textAlign:"center"},cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f44335",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),console.log("삭제할 사원번호 : ",e.data.emp_num,"이름 : ",e.data.name),this.selectedEmployee=e.data,this.showDeleteModal=!0})),t}}],newList:[],rowData:[],theme:ko}},methods:{onDeleteCancelled(){this.showDeleteModal=!1},async onDeleteConfirmed(){if(this.selectedEmployee){try{Re.A.delete(`${Ae}/employeeDelete/${this.selectedEmployee.emp_num}`).then((e=>{"성공"===e.data?(this.$notify({text:"사원이 삭제되었습니다.",type:"success"}),this.employeeList()):this.$notify({text:"삭제실패하였습니다.",type:"error"})}))}catch(e){console.log(e),this.$notify({text:"삭제실패하였습니다.",type:"error"})}this.showDeleteModal=!1}},refresh(){this.employeeList(),this.upin="",this.empNum="",this.name="",this.birth="",this.tel="",this.job="",this.jobNum="",this.position="",this.level="",this.employmentDate="",this.resignationDate=""},updateJobNum(){console.log("hjkhjkhkj",this.job);const e={"영업":"1","생산":"2","자재":"3","품질":"4","설비":"5","인사":"6"};this.jobNum=e[this.job]||""},async employeeList(){const e=await Re.A.get(`${Ae}/employeeList`).catch((e=>console.log(e)));this.rowData=e.data},...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능합니다.",type:"error"}),this.$router.push({name:"MainPage"}))},onReady(e){e.api.sizeColumnsToFit()},onCellClicked(e){"삭제"!==e.colDef.field&&(console.log("레코드 확인[클릭] : ",JSON.stringify(e.data)),this.empNum=e.data.emp_num,this.name=e.data.name,this.birth=e.data.birth,this.tel=e.data.tel,this.job=e.data.job,this.jobNum=e.data.job_num,this.position=e.data.position,this.level=e.data.level,this.employmentDate=e.data.employment_date,this.resignationDate=e.data.resignation_date)},async employeeInsert(e){const t=await Re.A.get(`${Ae}/employeeList`),a=t.data.find((t=>t.emp_num===e.emp_num)),l=await Re.A.post(`${Ae}/employeeInsert`,e).catch((e=>console.log(e)));"성공"===l.data?(a?this.$notify({text:"사원이 수정되었습니다.",type:"success"}):this.$notify({text:"사원이 등록되었습니다.",type:"success"}),this.employeeList()):this.$notify({text:"등록실패하였습니다.",type:"error"}),console.log(l.data),this.employeeList()},input_update(){""!==this.empNum&&""!==this.name&&""!==this.birth&&""!==this.tel&&""!==this.job&&""!==this.jobNum&&""!==this.position&&""!==this.employmentDate?13===this.tel.length?(console.log("등록 또는 수정 기능여기서 추가"),this.newList={emp_num:this.empNum,name:this.name,birth:this.birth,tel:this.tel,job:this.job,job_num:this.jobNum,position:this.position,level:this.level||null,employment_date:this.employmentDate,resignation_date:this.resignationDate||null},this.employeeInsert(this.newList),this.employeeList()):this.$notify({text:"연락처를 확인해주세요",type:"error"}):this.$notify({text:"빈칸을 입력해주세요",type:"error"})}},mounted(){this.checkLogin(),this.employeeList()}};const QF=(0,ne.A)(jF,[["render",TF],["__scopeId","data-v-282e9bbf"]]);var UF=QF;const JF=e=>((0,o.Qi)("data-v-55bdd475"),e=e(),(0,o.jt)(),e),zF={class:"partList container-fluid py-4"},BF=JF((()=>(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"  자재 관리")],-1))),VF={class:"main-container"},WF={class:"content",style:{height:"130px",margin:"20px"}},GF={class:"row gx-3 gy-2 align-items-center"},XF={class:"d-flex"},KF={class:"p-2 flex-fill"},HF={class:"col-sm-8"},YF=JF((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialCode"},"자재코드",-1))),ZF={class:"col-sm-12"},eP=JF((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"materialName"},"자재명",-1))),tP={class:"p-2 flex-fill"},aP={class:"col-sm-8"},lP=JF((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"safetyInventory"},"안전재고(g,개)",-1))),oP={class:"col-sm-8"},sP=JF((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"expirationDate"},"유통기한",-1))),nP={class:"p-2 flex-fill"},iP={class:"col-sm-8"},rP=JF((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"regiDate"},"등록일",-1))),cP={class:"p-2 flex-fill"},dP={class:"grid-container",style:{"padding-top":"10px"}};function uP(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",zF,[BF,(0,o.Lk)("div",VF,[(0,o.Lk)("div",WF,[(0,o.Lk)("form",GF,[(0,o.Lk)("div",XF,[(0,o.Lk)("div",KF,[(0,o.Lk)("div",HF,[YF,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"materialCode","onUpdate:modelValue":t[0]||(t[0]=e=>n.materialCode=e)},null,512),[[l.Jo,n.materialCode]]),(0,o.Lk)("div",ZF,[eP,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"materialName","onUpdate:modelValue":t[1]||(t[1]=e=>n.materialName=e)},null,512),[[l.Jo,n.materialName]])])])]),(0,o.Lk)("div",tP,[(0,o.Lk)("div",aP,[lP,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"safetyInventory","onUpdate:modelValue":t[2]||(t[2]=e=>n.safetyInventory=e)},null,512),[[l.Jo,n.safetyInventory]])]),(0,o.Lk)("div",oP,[sP,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"expirationDate","onUpdate:modelValue":t[3]||(t[3]=e=>n.expirationDate=e)},null,512),[[l.Jo,n.expirationDate]])])]),(0,o.Lk)("div",nP,[(0,o.Lk)("div",iP,[rP,(0,o.bo)((0,o.Lk)("input",{type:"date",readonly:"",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"regiDate","onUpdate:modelValue":t[4]||(t[4]=e=>n.regiDate=e)},null,512),[[l.Jo,n.regiDate]])]),(0,o.Lk)("div",cP,[(0,o.Lk)("button",{style:{position:"relative",top:"29px"},type:"button",class:"btn btn-success me-5",onClick:t[5]||(t[5]=t=>e.upin?i.input_update(2):i.input_update(1))},"등록/수정"),(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"29px"},type:"button",class:"btn btn-warning me-5",onClick:t[6]||(t[6]=(...e)=>i.refresh&&i.refresh(...e))},"새로고침")])])])])])]),(0,o.Lk)("div",dP,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",onCellClicked:i.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked"])])])}var pP={data(){return{materialCode:"",materialName:"",safetyInventory:"",expirationDate:"",regiDate:(new Date).toISOString().split("T")[0],columnDefs:[{headerName:"자재코드",field:"material_code",width:220},{headerName:"자재이름",field:"material_name"},{headerName:"안전재고(g, 개)",field:"safety_inventory",cellStyle:{textAlign:"right"},cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString();return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"유통기한(일)",field:"expiration_date",cellStyle:{textAlign:"right"}},{headerName:"등록일",field:"regi_date",cellStyle:{textAlign:"center"}},{headerName:"자재삭제",field:"material_delete",cellStyle:{textAlign:"center"},upin:"",editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),console.log(e.data.material_code),confirm("삭제하시겠습니까?")&&Re.A.delete(`${Ae}/materialDel/${e.data.material_code}`).then((e=>{"성공"===e.data?(this.$notify({text:"자재가 삭제되었습니다.",type:"success"}),this.materialList()):this.$notify({text:"삭제 실패하였습니다.",type:"error"})})).catch((e=>console.log(e)))})),t}}],newList:[],rowData:[],theme:ko}},methods:{refresh(){this.materialList(),this.upin="",this.materialCode="",this.materialName="",this.safetyInventory="",this.expirationDate="",this.regiDate=""},...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능합니다.",type:"error"}),this.$router.push({name:"MainPage"}))},async materialList(){const e=await Re.A.get(`${Ae}/materialList`).catch((e=>console.log(e)));console.log(e.data),this.rowData=e.data,console.log("자재목록 : ",this.rowData)},onReady(e){e.api.sizeColumnsToFit()},onCellClicked(e){"material_delete"!==e.colDef.field&&(console.log("레코드 확인[클릭] : ",JSON.stringify(e.data)),this.materialCode=e.data.material_code,this.materialName=e.data.material_name,this.safetyInventory=e.data.safety_inventory,this.expirationDate=e.data.expiration_date,this.regiDate=e.data.regi_date,this.upin="update")},async input_update(e){if(console.log("등록 또는 수정 기능여기서 추가"),console.log(this.materialCode),console.log(this.materialName),console.log(this.safetyInventory),console.log(this.expirationDate),1===e){if(""===this.materialCode||""===this.materialName||""===this.safetyInventory||""===this.expirationDate)return void this.$notify({text:"빈칸을 입력해주세요",type:"error"});{console.log("등록");let e="ok";for(let t=0;t<this.rowData.length;t++)if(this.rowData[t].material_code===this.materialCode)return this.$notify({text:"이미 존재하는 자재코드입니다.",type:"error"}),void(e="no");if("ok"===e)return this.newList={material_code:this.materialCode,material_name:this.materialName,safety_inventory:this.safetyInventory,expiration_date:this.expirationDate},console.log(this.newList),void this.materialInsert(this.newList)}}else 2===e&&(console.log("수정"),this.newList={material_code:this.materialCode,material_name:this.materialName,safety_inventory:this.safetyInventory,expiration_date:this.expirationDate},this.materialUpdate(this.newList))},async materialUpdate(e){const t=await Re.A.post(`${Ae}/materialUpdate/${this.materialCode}`,e).catch((e=>console.log(e)));"성공"===t.data?(this.$notify({text:"자재가 수정되었습니다.",type:"success"}),this.materialList(),this.upin="",this.materialCode="",this.materialName="",this.safetyInventory="",this.expirationDate=""):this.$notify({text:"수정 실패하였습니다.",type:"error"})},async materialInsert(e){const t=await Re.A.post(`${Ae}/materialInsert`,e).catch((e=>console.log(e)));console.log("확인용용",t.data),"성공"===t.data?(this.$notify({text:"자재가 등록되었습니다.",type:"success"}),this.materialList()):this.$notify({text:"등록 실패",type:"error"})}},mounted(){this.checkLogin(),this.materialList()}};const mP=(0,ne.A)(pP,[["render",uP],["__scopeId","data-v-55bdd475"]]);var hP=mP;const yP=e=>((0,o.Qi)("data-v-9227f318"),e=e(),(0,o.jt)(),e),fP={class:"partList container-fluid py-4"},gP=yP((()=>(0,o.Lk)("div",{class:"title"},[(0,o.Lk)("h3",null,"공정 흐름도 관리")],-1))),kP={class:"main-container",style:{width:"800px",height:"auto"}},bP={class:"content",style:{height:"auto"}},LP={class:"row gx-3 gy-2 align-items-center"},vP={class:"grid-container",style:{"padding-top":"10px"}};function xP(e,t,a,l,s,n){const i=(0,o.g2)("ag-grid-vue"),r=(0,o.g2)("processflowModal");return(0,o.uX)(),(0,o.CE)("div",fP,[gP,(0,o.Lk)("div",kP,[(0,o.Lk)("div",bP,[(0,o.Lk)("form",LP,[(0,o.Lk)("div",vP,[(0,o.bF)(i,{rowData:s.rowData,columnDefs:s.columnDefs,theme:s.theme,pagination:!0,paginationPageSize:10,onGridReady:n.onReady,style:{height:"513px"},rowSelection:"multiple",onCellClicked:e.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked"])])])])]),(0,o.Lk)("div",null,[(0,o.bF)(r,{isShowModal:s.isShowModal,onCloseModal:n.closeModal,onConfirm:n.confirm,modalTitle:s.modalTitle,productCode:s.selectedProductCode,productName:s.selectedProductName,onSelectProcessflow:e.setSelectProcessflow,style:{"z-index":"'-1'"}},null,8,["isShowModal","onCloseModal","onConfirm","modalTitle","productCode","productName","onSelectProcessflow"])])])}const wP={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},_P={class:"modal-content"},CP={class:"modal-header",style:{"background-color":"#e9ecef"}},DP={class:"modal-title fs-5",id:"exampleModalLabel"},SP={class:"modal-body"},NP={class:"mb-1"},MP={class:"grid-container"},RP={class:"modal-footer"};function AP(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("processAddModal"),u=(0,o.g2)("deleteModal");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal}]),onClick:t[2]||(t[2]=(0,l.D$)(((...e)=>i.closeModal&&i.closeModal(...e)),["self"])),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",wP,[(0,o.Lk)("div",_P,[(0,o.Lk)("div",CP,[(0,o.Lk)("h1",DP,(0,d.v_)(a.modalTitle),1)]),(0,o.Lk)("div",SP,[(0,o.RG)(e.$slots,"list",{},void 0,!0),(0,o.Lk)("div",NP,[(0,o.Lk)("div",MP,[(0,o.Lk)("strong",null,"◎제품코드:"+(0,d.v_)(a.productCode)+" ◎제품명:"+(0,d.v_)(a.productName),1),(0,o.bF)(r,{style:{width:"100%","margin-bottom":"15px"},rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:5,onGridReady:e.onReady,onRowClicked:e.onRowClicked},null,8,["rowData","columnDefs","theme","onGridReady","onRowClicked"])])])]),(0,o.Lk)("div",RP,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>i.closeModal&&i.closeModal(...e))},"닫기"),(0,o.Lk)("button",{type:"button",class:"btn btn-warning","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=(...e)=>i.processAdd&&i.processAdd(...e))},"공정추가")])])])],2),(0,o.Lk)("div",null,[(0,o.bF)(c,{isShowModal2:n.isShowModal2,onCloseModal2:i.closeModal2,onSelectItem:i.handleSelectedProcess,onConfirm2:e.confirm2,modalTitle2:n.modalTitle2},null,8,["isShowModal2","onCloseModal2","onSelectItem","onConfirm2","modalTitle2"])]),(0,o.bF)(u,{showModal:n.showDeleteModal,onDeleteConfirmed:i.onDeleteConfirmed,onDeleteCancelled:i.onDeleteCancelled},null,8,["showModal","onDeleteConfirmed","onDeleteCancelled"])],64)}const IP=e=>((0,o.Qi)("data-v-d54d95b8"),e=e(),(0,o.jt)(),e),EP={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},FP={class:"modal-content"},PP={class:"modal-header"},OP={class:"modal-title fs-5",id:"exampleModalLabel"},qP=IP((()=>(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))),$P={class:"modal-body"},TP={class:"mb-1"},jP={class:"grid-container"},QP={class:"modal-footer"};function UP(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal2}]),onClick:t[1]||(t[1]=(0,l.D$)(((...e)=>i.closeModal2&&i.closeModal2(...e)),["self"])),id:"exampleModal",tabindex:"-1"},[(0,o.Lk)("div",EP,[(0,o.Lk)("div",FP,[(0,o.Lk)("div",PP,[(0,o.Lk)("h1",OP,(0,d.v_)(a.modalTitle2),1),qP]),(0,o.Lk)("div",$P,[(0,o.RG)(e.$slots,"list",{},void 0,!0),(0,o.Lk)("div",TP,[(0,o.Lk)("div",jP,[(0,o.bF)(r,{style:{width:"100%","margin-bottom":"15px"},rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:5,onGridReady:e.onReady,onRowClicked:i.onRowClicked},null,8,["rowData","columnDefs","theme","onGridReady","onRowClicked"])])])]),(0,o.Lk)("div",QP,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>i.closeModal2&&i.closeModal2(...e))},"닫기")])])])],2)}var JP={name:"Modal",props:{isShowModal2:Boolean,modalTitle2:String},watch:{modalTitle2(){console.log("로그")}},data(){return{theme:ko,rowData:[],process:[],columnDefs:[{headerName:"공정코드",field:"process_code"},{headerName:"공정명",field:"process_name"}]}},onReady(e){e.api.sizeColumnsToFit()},created(){},methods:{closeModal2(){this.$emit("closeModal2"),console.log("닫기클릭확인")},onRowClicked(e){console.log("클릭된 데이터 : ",e.data),this.$emit("selectItem",{process_code:e.data.process_code,process_name:e.data.process_name}),this.closeModal2()},async processList(){console.log("리스트 조회전 연결 콘솔 확인");let e=await Re.A.get(`${Ae}/processList`);e&&e.data?(this.process=e.data,this.rowData=e.data,console.log("연결성공")):console.log("연결실패")},getSelectedProcess(){return this.rowData[0]}},mounted(){this.processList()}};const zP=(0,ne.A)(JP,[["render",UP],["__scopeId","data-v-d54d95b8"]]);var BP=zP,VP={name:"Modal",components:{processAddModal:BP,deleteModal:UE},props:{isShowModal:Boolean,modalTitle:String,productCode:String,productName:String},data(){return{isShowModal2:!1,modalType2:"",modalTitle2:"공정 정보",processCode:"",processName:"",showDeleteModal:!1,selectedFlow:null,deleteData:null,theme:ko,rowData:[],columnDefs:[{headerName:"공정순서",field:"process_sequence",cellStyle:{textAlign:"right"}},{headerName:"공정코드",field:"process_code"},{headerName:"공정명",field:"process_name"},{headerName:"▲",field:"UP",cellStyle:{textAlign:"center"},editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="UP",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{if(1===e.data.process_sequence)return void this.$notify({text:"첫번째 공정입니다.",type:"error"});const t=e.node.data;this.updateProcessSequence(t,"UP")})),t}},{headerName:"▼",field:"DOWN",editable:!1,cellStyle:{textAlign:"center"},cellRenderer:e=>{const t=document.createElement("button");return t.innerText="DOWN",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{if(e.data.process_sequence===this.rowData.length)return void this.$notify({text:"마지막 공정입니다.",type:"error"});const t=e.node.data;this.updateProcessSequence(t,"DOWN")})),t}},{headerName:"공정 삭제",field:"삭제",editable:!1,cellStyle:{textAlign:"center"},cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f44335",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{this.showDeleteModal=!0,console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),this.deleteData=e.node.data})),t}}],flowSelect:[],newList:[]}},watch:{modalTitle(){console.log("확인용")},productCode:{handler:"flowList",immediate:!0}},onReady(e){e.api.sizeColumnsToFit()},created(){},methods:{onDeleteCancelled(){this.showDeleteModal=!1},async onDeleteConfirmed(){this.showDeleteModal=!1;const e=this.deleteData;console.log("삭제할 데이터: ",e);try{const t=await Re.A.delete(`${Ae}/flowDelete/${e.process_chart_num}`);"성공"===t.data?(this.$notify({text:"공정이 삭제되었습니다.",type:"success"}),this.updateProcessSequencesAfterDelete(e.process_sequence),this.flowList()):this.$notify({text:"삭제에 실패했습니다.",type:"error"})}catch(t){console.error("삭제 오류: ",t),this.$notify({text:"서버 오류로 삭제에 실패했습니다.",type:"error"})}},deleteProcess(e){this.selectedFlow=e,this.showDeleteModal=!0},async updateProcessSequencesAfterDelete(e){const t=this.rowData.filter((t=>t.process_sequence>e));for(const l of t){const e={process_chart_num:l.process_chart_num,process_sequence:l.process_sequence-1};try{const t=await Re.A.post(`${Ae}/flowUpdate`,e);"성공"===t.data?console.log("공정 순서가 업데이트되었습니다."):console.log("공정 순서 업데이트 실패")}catch(a){console.log("순서 업데이트 오류:",a)}}this.flowList()},handleSelectedProcess(e){console.log("전달받은 데이터 확인",e),this.selectedProcess=e,this.flowInsert(e)},async updateProcessSequence(e,t){console.log("rowData",e,"direction",t);let a=0;a="UP"===t?e.process_sequence-1:e.process_sequence+1,console.log("지금 조회할값",a);const l={beforeData:a,beforeProcessSequence:e.product_code};let o=await this.flowNumList(l);console.log(o);const s={process_chart_num:e.process_chart_num,process_sequence:a};await this.flowUpdate(s),console.log("실행되면안됨");const n={beforeData:o,beforeProcessSequence:e.process_sequence};this.result2(n)},async flowUpdate(e){const t=await Re.A.post(`${Ae}/flowUpdate`,e).catch((e=>console.log(e)));console.log("얘가 먼저 실행되야함"),t&&"성공"===t.data?this.$notify({text:"공정순서가 변경되었습니다.",type:"success"}):this.$notify({text:"변경 실패하였습니다.",type:"error"})},async result2(e){const t=await Re.A.post(`${Ae}/beforeUpdate`,e).catch((e=>console.log(e)));console.log(t),this.flowList()},async flowNumList(e){const t=await Re.A.post(`${Ae}/flowNumList`,e).catch((e=>console.log(e)));return t.data[0].process_chart_num},async flowInsert(e){const t=this.rowData.some((t=>t.process_code===e.process_code));if(t)return void this.$notify({text:"해당 공정은 이미 등록되어 있습니다.",type:"error"});this.newList={product_code:this.productCode,process_code:e.process_code,process_name:e.process_name},console.log("넘겨줄 데이터 확인",this.newList);const a=await Re.A.post(`${Ae}/flowInsert`,this.newList).catch((e=>console.log(e)));console.log("result data 확인",a.data),"성공"===a.data?(this.$notify({text:"공정이 등록되었습니다.",type:"success"}),this.flowList()):this.$notify({text:"등록 실패하였습니다.",type:"error"})},processAdd(){this.isShowModal2=!0},openModal(e){this.modalType2=e,this.modalTitle2="공정 정보",this.isShowModal2=!0},closeModal(){this.$emit("closeModal")},closeModal2(){this.isShowModal2=!1},getSelectedProduct(){return this.rowData[0]},async flowList(){console.log("제품코드 확인",this.productCode);let e=await Re.A.get(`${Ae}/flowList/${this.productCode}`);e&&e.data?(this.flowSelect=e.data,console.log("연결성공"),this.rowData=e.data):console.log("연결실패")}},mounted(){console.log("모달 오픈"),console.log(this.productCode)}};const WP=(0,ne.A)(VP,[["render",AP],["__scopeId","data-v-209e127e"]]);var GP=WP,XP={components:{processflowModal:GP},data(){return{isShowModal:!1,modalType:"",modalTitle:"공정 흐름도",selectedProductCode:"null",selectedProductName:"",columnDefs:[{headerName:"제품명",field:"product_name"},{headerName:"제품코드",field:"product_code"},{headerName:"공정흐름도조회",field:"공정흐름도조회",cellStyle:{textAlign:"center"},editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="공정흐름도조회",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="120px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{event.preventDefault(),this.selectedProductCode=e.data.product_code,this.selectedProductName=e.data.product_name,console.log("레코드 확인 : ",JSON.stringify(e.data)),this.openModal("processflowModal"),console.log("오픈 모달")})),t}}],newList:[],rowData:[],theme:ko}},methods:{...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능합니다.",type:"error"}),this.$router.push({name:"MainPage"}))},onReady(e){e.api.sizeColumnsToFit()},confirm(){console.log("값 저장"),this.closeModal()},openModal(e){this.modalType=e,this.modalTitle="공정 흐름도",this.isShowModal=!0},closeModal(){this.isShowModal=!1},async productSelect(){const e=await Re.A.get(`${Ae}/bomproduct`).catch((e=>console.log(e)));this.rowData=e.data}},mounted(){this.checkLogin(),this.productSelect()}};const KP=(0,ne.A)(XP,[["render",xP],["__scopeId","data-v-9227f318"]]);var HP=KP;const YP=e=>((0,o.Qi)("data-v-c4fec7ee"),e=e(),(0,o.jt)(),e),ZP={class:"partList container-fluid py-4"},eO=YP((()=>(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"  공정기준정보 관리")],-1))),tO={class:"main-container"},aO={class:"content",style:{height:"130px",margin:"20px"}},lO={class:"row gx-3 gy-2 align-items-center"},oO={class:"col-sm-2"},sO=YP((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"processCode"},"공정코드",-1))),nO={class:"col-sm-2"},iO=YP((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"processName"},"공정명",-1))),rO={class:"col-sm-2"},cO=YP((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"machineType"},"설비분류",-1))),dO={class:"col-sm-3"},uO={class:"grid-container",style:{"padding-top":"10px"}};function pO(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",ZP,[eO,(0,o.Lk)("div",tO,[(0,o.Lk)("div",aO,[(0,o.Lk)("form",lO,[(0,o.Lk)("div",oO,[sO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"processCode","onUpdate:modelValue":t[0]||(t[0]=e=>n.processCode=e)},null,512),[[l.Jo,n.processCode]])]),(0,o.Lk)("div",nO,[iO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"processName","onUpdate:modelValue":t[1]||(t[1]=e=>n.processName=e)},null,512),[[l.Jo,n.processName]])]),(0,o.Lk)("div",rO,[cO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"machineType","onUpdate:modelValue":t[2]||(t[2]=e=>n.machineType=e)},null,512),[[l.Jo,n.machineType]])]),(0,o.Lk)("div",dO,[(0,o.Lk)("button",{style:{position:"relative",top:"29px"},type:"button",class:"btn btn-success me-5",onClick:t[3]||(t[3]=t=>e.upin?i.input_update(2):i.input_update(1))},"등록/수정"),(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"29px"},type:"button",class:"btn btn-warning me-5",onClick:t[4]||(t[4]=(...e)=>i.refresh&&i.refresh(...e))},"새로고침")])])])]),(0,o.Lk)("div",uO,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",onCellClicked:i.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked"])])])}var mO={data(){return{processCode:"",processName:"",machineType:"",columnDefs:[{headerName:"공정코드",field:"process_code",width:220},{headerName:"공정명",field:"process_name"},{headerName:"설비분류",field:"machine_type"},{headerName:"공정정보삭제",field:"삭제",cellStyle:{textAlign:"center"},upin:"",editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),console.log("삭제할 공정코드 : ",e.data.process_code),confirm("정말 삭제하시겠습니까?")&&Re.A.delete(`${Ae}/processDelete/${e.data.process_code}`).then((e=>{"성공"===e.data?(this.$notify({text:"공정이 삭제되었습니다.",type:"success"}),this.processList()):this.$notify({text:"삭제실패.",type:"error"})})).catch((e=>console.log(e)))})),t}}],newList:[],rowData:[],theme:ko}},methods:{refresh(){this.processList(),this.upin="",this.processCode="",this.processName="",this.machineType=""},...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능",type:"error"}),this.$router.push({name:"MainPage"}))},async processList(){const e=await Re.A.get(`${Ae}/processList`).catch((e=>console.log(e)));console.log(e.data),this.rowData=e.data,console.log(this.rowData)},onReady(e){e.api.sizeColumnsToFit()},onCellClicked(e){"삭제"!==e.colDef.field&&(console.log("레코드 확인[클릭] : ",JSON.stringify(e.data)),this.processCode=e.data.process_code,this.processName=e.data.process_name,this.machineType=e.data.machine_type,this.upin="update")},async input_update(e){if(console.log("등록 또는 수정 기능여기서 추가"),console.log(this.processCode),console.log(this.processName),console.log(this.machineType),1===e){if(""===this.processCode||""===this.processName||""===this.machineType)return void this.$notify({text:"빈칸을 입력해주세요.",type:"error"});{console.log("등록");let e="ok";for(let t=0;t<this.rowData.length;t++)if(this.rowData[t].process_code===this.processCode)return this.$notify({text:"중복된 공정입니다.",type:"error"}),void(e="no");if("ok"===e)return this.newList={process_code:this.processCode,process_name:this.processName,machine_type:this.machineType},console.log(this.newList),void this.processInsert(this.newList)}}else 2===e&&(console.log("수정"),this.newList={process_code:this.processCode,process_name:this.processName,machine_type:this.machineType},this.processUpdate(this.newList))},async processInsert(e){const t=await Re.A.post(`${Ae}/processInsert`,e).catch((e=>console.log(e)));"성공"===t.data?(this.$notify({text:"공정이 등록되었습니다.",type:"success"}),this.processList()):this.$notify({text:"등록실패.",type:"error"})},async processUpdate(e){const t=await Re.A.post(`${Ae}/processUpdate/${this.processCode}`,e);"성공"===t.data?(this.$notify({text:"공정이 수정되었습니다.",type:"success"}),this.processList(),this.upin="",this.processCode="",this.processName="",this.machineType=""):this.$notify({text:"수정실패.",type:"error"})}},mounted(){this.checkLogin(),this.processList()}};const hO=(0,ne.A)(mO,[["render",pO],["__scopeId","data-v-c4fec7ee"]]);var yO=hO;const fO=e=>((0,o.Qi)("data-v-734785d0"),e=e(),(0,o.jt)(),e),gO={class:"partList container-fluid py-4"},kO=fO((()=>(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"  반품코드 관리")],-1))),bO={class:"main-container"},LO={class:"content",style:{height:"130px",margin:"20px"}},vO={class:"row gx-3 gy-2 align-items-center"},xO={class:"col-sm-2"},wO=fO((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"returnCode"},"반품코드",-1))),_O={class:"col-sm-2"},CO=fO((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"returnReason"},"반품사유",-1))),DO={class:"col-sm-3"},SO={class:"grid-container",style:{"padding-top":"10px"}};function NO(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",gO,[kO,(0,o.Lk)("div",bO,[(0,o.Lk)("div",LO,[(0,o.Lk)("form",vO,[(0,o.Lk)("div",xO,[wO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"returnCode","onUpdate:modelValue":t[0]||(t[0]=e=>n.returnCode=e)},null,512),[[l.Jo,n.returnCode]])]),(0,o.Lk)("div",_O,[CO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"returnReason","onUpdate:modelValue":t[1]||(t[1]=e=>n.returnReason=e)},null,512),[[l.Jo,n.returnReason]])]),(0,o.Lk)("div",DO,[(0,o.Lk)("button",{style:{position:"relative",top:"29px"},type:"button",class:"btn btn-success me-5",onClick:t[2]||(t[2]=t=>e.upin?i.input_update(2):i.input_update(1))},"등록/수정"),(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"29px"},type:"button",class:"btn btn-warning me-5",onClick:t[3]||(t[3]=(...e)=>i.refresh&&i.refresh(...e))},"새로고침")])])])]),(0,o.Lk)("div",SO,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",onCellClicked:i.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked"])])])}var MO={data(){return{returnCode:"",returnReason:"",columnDefs:[{headerName:"반품코드",field:"return_code",width:220},{headerName:"반품사유",field:"return_reason"},{headerName:"반품코드삭제",field:"삭제",cellStyle:{textAlign:"center"},editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),confirm("정말 삭제하시겠습니까?")&&Re.A.delete(`${Ae}/returnDelete/${e.data.return_code}`).then((e=>{"성공"===e.data?(this.$notify({text:"코드가 삭제되었습니다.",type:"success"}),this.returnList()):this.$notify({text:"삭제실패.",type:"error"})})).catch((e=>console.log(e)))})),t}}],newList:[],rowData:[],theme:ko}},methods:{refresh(){this.returnList(),this.upin="",this.returnCode="",this.returnReason=""},...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능",type:"error"}),this.$router.push({name:"MainPage"}))},async returnList(){const e=await Re.A.get(`${Ae}/returnList`).catch((e=>console.log(e)));this.rowData=e.data},onReady(e){e.api.sizeColumnsToFit()},onCellClicked(e){"삭제"!==e.colDef.field&&(console.log("레코드 확인[클릭] : ",JSON.stringify(e.data)),this.returnCode=e.data.return_code,this.returnReason=e.data.return_reason,this.upin="update")},async returnInsert(e){const t=await Re.A.post(`${Ae}/returnInsert`,e).catch((e=>console.log(e)));console.log(t.data),this.returnList()},input_update(){if(console.log("등록 또는 수정 기능여기서 추가"),""!==this.returnCode&&""!==this.returnReason){if(this.newList={return_code:this.returnCode,return_reason:this.returnReason},"update"===this.upin)this.$notify({text:"수정되었습니다.",type:"success"}),this.returnInsert(this.newList);else{for(let e=0;e<this.rowData.length;e++)if(this.rowData[e].return_code===this.returnCode)return void this.$notify({text:"이미 존재하는 반품코드입니다.",type:"error"});this.$notify({text:"등록되었습니다.",type:"success"}),this.returnInsert(this.newList)}this.returnList()}else this.$notify({text:"빈칸을 입력해주세요.",type:"error"})}},mounted(){this.checkLogin(),this.returnList()}};const RO=(0,ne.A)(MO,[["render",NO],["__scopeId","data-v-734785d0"]]);var AO=RO;const IO=e=>((0,o.Qi)("data-v-48715a5e"),e=e(),(0,o.jt)(),e),EO={class:"partList container-fluid py-4"},FO=IO((()=>(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"  창고 관리")],-1))),PO={class:"main-container"},OO={class:"content",style:{height:"auto",margin:"20px","padding-bottom":"30px"}},qO={class:"row gx-3 gy-2 align-items-center"},$O={class:"d-flex"},TO={class:"p-2 flex-fill"},jO={class:"col-sm-8"},QO=IO((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"warehouseCode"},"창고코드",-1))),UO={class:"col-sm-8"},JO=IO((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"empName"},"담당자",-1))),zO={class:"p-2 flex-fill"},BO={class:"col-sm-8"},VO=IO((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"warehouseName"},"창고명",-1))),WO={class:"col-sm-8"},GO=IO((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"empTel"},"연락처",-1))),XO={class:"p-2 flex-fill"},KO={class:"col-sm-8"},HO=IO((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"storage"},"보관가능여부",-1))),YO={class:"col-sm-8"},ZO=IO((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"warehouseArea"},"창고면적",-1))),eq={class:"p-2 flex-fill"},tq={class:"col-sm-8"},aq=IO((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"warehouseLocation"},"창고위치",-1))),lq={class:"col-sm-11"},oq={class:"grid-container",style:{"padding-top":"10px"}};function sq(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("deleteModal");return(0,o.uX)(),(0,o.CE)("div",EO,[FO,(0,o.Lk)("div",PO,[(0,o.Lk)("div",OO,[(0,o.Lk)("form",qO,[(0,o.Lk)("div",$O,[(0,o.Lk)("div",TO,[(0,o.Lk)("div",jO,[QO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"warehouseCode","onUpdate:modelValue":t[0]||(t[0]=e=>n.warehouseCode=e)},null,512),[[l.Jo,n.warehouseCode]])]),(0,o.Lk)("div",UO,[JO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"empName","onUpdate:modelValue":t[1]||(t[1]=e=>n.empName=e)},null,512),[[l.Jo,n.empName]])])]),(0,o.Lk)("div",zO,[(0,o.Lk)("div",BO,[VO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"warehouseName","onUpdate:modelValue":t[2]||(t[2]=e=>n.warehouseName=e)},null,512),[[l.Jo,n.warehouseName]])]),(0,o.Lk)("div",WO,[GO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"empTel","onUpdate:modelValue":t[3]||(t[3]=e=>n.empTel=e)},null,512),[[l.Jo,n.empTel]])])]),(0,o.Lk)("div",XO,[(0,o.Lk)("div",KO,[HO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"storage","onUpdate:modelValue":t[4]||(t[4]=e=>n.storage=e)},null,512),[[l.Jo,n.storage]])]),(0,o.Lk)("div",YO,[ZO,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"warehouseArea","onUpdate:modelValue":t[5]||(t[5]=e=>n.warehouseArea=e)},null,512),[[l.Jo,n.warehouseArea]])])]),(0,o.Lk)("div",eq,[(0,o.Lk)("div",tq,[aq,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"warehouseLocation","onUpdate:modelValue":t[6]||(t[6]=e=>n.warehouseLocation=e)},null,512),[[l.Jo,n.warehouseLocation]])]),(0,o.Lk)("div",lq,[(0,o.Lk)("button",{style:{position:"relative",top:"45px"},type:"button",class:"btn btn-success me-5",onClick:t[7]||(t[7]=t=>e.upin?i.input_update(2):i.input_update(1))},"등록/수정"),(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"45px"},type:"button",class:"btn btn-warning me-5",onClick:t[8]||(t[8]=(...e)=>i.refresh&&i.refresh(...e))},"새로고침")])])])])])]),(0,o.Lk)("div",oq,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",onCellClicked:i.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked"])]),(0,o.bF)(c,{showModal:n.showDeleteModal,onDeleteConfirmed:i.onDeleteConfirmed,onDeleteCancelled:i.onDeleteCancelled,style:{"z-index":"'9999'"}},null,8,["showModal","onDeleteConfirmed","onDeleteCancelled"])])}var nq={components:{deleteModal:UE},data(){return{warehouseCode:"",warehouseName:"",storage:"",warehouseLocation:"",empName:"",empTel:"",warehouseArea:"",showDeleteModal:!1,selectedWarehouse:null,columnDefs:[{headerName:"창고코드",field:"warehouse_code",width:220},{headerName:"창고명",field:"warehouse_name"},{headerName:"보관가능여부",field:"storage"},{headerName:"창고위치",field:"warehouse_location"},{headerName:"담당자",field:"emp_name"},{headerName:"연락처",field:"emp_tel",cellStyle:{textAlign:"center"}},{headerName:"창고면적",field:"warehouse_area",cellStyle:{textAlign:"right"}},{headerName:"창고삭제",field:"삭제",upin:"",cellStyle:{textAlign:"center"},editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),console.log("삭제할 창고코드 : ",e.data.warehouse_code),this.selectedWarehouse=e.data,this.showDeleteModal=!0})),t}}],newList:[],rowData:[],theme:ko}},methods:{refresh(){this.warehouseList(),this.upin="",this.warehouseCode="",this.warehouseName="",this.storage="",this.warehouseLocation="",this.empName="",this.empTel="",this.warehouseArea=""},onDeleteCancelled(){this.showDeleteModal=!1},async onDeleteConfirmed(){if(this.selectedWarehouse)try{const e=await Re.A.delete(`${Ae}/warehouseDelete/${this.selectedWarehouse.warehouse_code}`);"성공"===e.data?(this.$notify({text:"창고가 삭제되었습니다.",type:"success"}),this.warehouseList()):this.$notify({text:"삭제 실패.",type:"error"})}catch(e){console.log(e),this.$notify({text:"삭제 중 오류 발생",type:"error"})}this.showDeleteModal=!1},...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능",type:"error"}),this.$router.push({name:"MainPage"}))},async warehouseList(){const e=await Re.A.get(`${Ae}/warehouseList`).catch((e=>console.log(e)));this.rowData=e.data},onReady(e){e.api.sizeColumnsToFit()},onCellClicked(e){"삭제"!==e.colDef.field&&(console.log("레코드 확인[클릭] : ",JSON.stringify(e.data)),this.warehouseCode=e.data.warehouse_code,this.warehouseName=e.data.warehouse_name,this.storage=e.data.storage,this.warehouseLocation=e.data.warehouse_location,this.empName=e.data.emp_name,this.empTel=e.data.emp_tel,this.warehouseArea=e.data.warehouse_area,this.upin="update")},async warehouseInsert(e){const t=await Re.A.post(`${Ae}/warehouseInsert`,e).catch((e=>console.log(e)));console.log(t.data),this.warehouseList()},input_update(){console.log("등록 또는 수정 기능여기서 추가"),""!==this.warehouseCode&&""!==this.warehouseName&&""!==this.storage&&""!==this.warehouseLocation&&""!==this.empName&&""!==this.empTel&&""!==this.warehouseArea?(this.newList={warehouse_code:this.warehouseCode,warehouse_name:this.warehouseName,storage:this.storage,warehouse_location:this.warehouseLocation,emp_name:this.empName,emp_tel:this.empTel,warehouse_area:this.warehouseArea},"update"===this.upin?(this.$notify({text:"수정되었습니다.",type:"success"}),this.warehouseInsert(this.newList)):(this.$notify({text:"등록되었습니다.",type:"success"}),this.warehouseInsert(this.newList)),this.warehouseList()):this.$notify({text:"빈칸을 입력해주세요.",type:"error"})}},mounted(){this.checkLogin(),this.warehouseList()}};const iq=(0,ne.A)(nq,[["render",sq],["__scopeId","data-v-48715a5e"]]);var rq=iq;const cq=e=>((0,o.Qi)("data-v-6bb5ac4a"),e=e(),(0,o.jt)(),e),dq={class:"partList container-fluid py-4"},uq=cq((()=>(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"  제품 관리")],-1))),pq={class:"main-container"},mq={class:"content",style:{height:"130px",margin:"20px"}},hq={class:"row gx-3 gy-2 align-items-center"},yq={class:"col-sm-2"},fq=cq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"productCode"},"제품코드",-1))),gq={class:"col-sm-2"},kq=cq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"productName"},"제품명",-1))),bq={class:"col-sm-2"},Lq=cq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"expirationDate"},"유통기한(일)",-1))),vq={class:"col-sm-2"},xq=cq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"capacity"},"제품용량(mL)",-1))),wq={class:"col-sm-3"},_q={class:"d-flex"},Cq={class:"p-2 flex-fill"},Dq={class:"grid-container",style:{"padding-top":"10px"}};function Sq(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",dq,[uq,(0,o.Lk)("div",pq,[(0,o.Lk)("div",mq,[(0,o.Lk)("form",hq,[(0,o.Lk)("div",yq,[fq,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"productCode","onUpdate:modelValue":t[0]||(t[0]=e=>n.productCode=e)},null,512),[[l.Jo,n.productCode]])]),(0,o.Lk)("div",gq,[kq,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"productName","onUpdate:modelValue":t[1]||(t[1]=e=>n.productName=e)},null,512),[[l.Jo,n.productName]])]),(0,o.Lk)("div",bq,[Lq,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"expirationDate","onUpdate:modelValue":t[2]||(t[2]=e=>n.expirationDate=e)},null,512),[[l.Jo,n.expirationDate]])]),(0,o.Lk)("div",vq,[xq,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",style:{"background-color":"white","padding-left":"20px"},id:"capacity","onUpdate:modelValue":t[3]||(t[3]=e=>n.capacity=e)},null,512),[[l.Jo,n.capacity]])]),(0,o.Lk)("div",wq,[(0,o.Lk)("div",_q,[(0,o.Lk)("div",Cq,[(0,o.Lk)("button",{style:{position:"relative",top:"29px"},type:"button",class:"btn btn-success me-5",onClick:t[4]||(t[4]=t=>e.upin?i.input_update(2):i.input_update(1))},"등록/수정"),(0,o.Lk)("button",{style:{position:"relative",width:"120px",top:"29px"},type:"button",class:"btn btn-warning me-5",onClick:t[5]||(t[5]=(...e)=>i.refresh&&i.refresh(...e))},"새로고침")])])])])])]),(0,o.Lk)("div",Dq,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,pagination:!0,paginationPageSize:10,onGridReady:i.onReady,style:{height:"513px"},rowSelection:"multiple",onCellClicked:i.onCellClicked},null,8,["rowData","columnDefs","theme","onGridReady","onCellClicked"])])])}var Nq={data(){return{productCode:"",productName:"",expirationDate:"",capacity:"",columnDefs:[{headerName:"제품코드",field:"product_code",width:220},{headerName:"제품명",field:"product_name"},{headerName:"유통기한(일)",field:"expiration_date",cellStyle:{textAlign:"right"}},{headerName:"제품용량(mL)",field:"capacity",cellStyle:{textAlign:"right"}},{headerName:"제품삭제",field:"product_delete",upin:"",cellStyle:{textAlign:"center"},editable:!1,cellRenderer:e=>{const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f7b84d",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{console.log("레코드 확인[삭제] : ",JSON.stringify(e.data)),console.log(e.data.product_code),confirm("정말 삭제하시겠습니까?")&&Re.A.delete(`${Ae}/productDelete/${e.data.product_code}`).then((e=>{"성공"===e.data?(this.$notify({text:"제품이 삭제되었습니다.",type:"success"}),this.productSelect()):this.$notify({text:"삭제 실패하였습니다.",type:"error"})})).catch((e=>{console.log(e)}))})),t}}],newList:[],rowData:[],theme:ko}},methods:{refresh(){this.productSelect(),this.upin="",this.productCode="",this.productName="",this.expirationDate="",this.capacity=""},...(0,oe.PY)(["addLoginInfo"]),async checkLogin(){this.loginInfo=this.$store.state.loginInfo,console.log("직업",this.loginInfo),"관리자"===this.loginInfo.job?console.log("성공"):(this.$notify({text:"관리자만 접속 가능",type:"error"}),this.$router.push({name:"MainPage"}))},async productSelect(){const e=await Re.A.get(`${Ae}/bomproduct`).catch((e=>console.log(e)));this.rowData=e.data},onReady(e){e.api.sizeColumnsToFit()},onCellClicked(e){"product_delete"!==e.colDef.field&&(console.log("레코드 확인[클릭] : ",JSON.stringify(e.data)),this.productCode=e.data.product_code,this.productName=e.data.product_name,this.expirationDate=e.data.expiration_date,this.capacity=e.data.capacity,this.upin="update")},async input_update(e){if(console.log("등록 또는 수정 기능여기서 추가"),console.log(this.productCode),console.log(this.productName),console.log(this.expirationDate),console.log(this.capacity),1===e){if(""===this.productCode||""===this.productName||""===this.expirationDate||""===this.capacity)return void this.$notify({text:"빈칸을 입력해주세요",type:"error"});{console.log("빈칸 없음");let e="ok";for(let t=0;t<this.rowData.length;t++)if(this.rowData[t].product_code===this.productCode)return this.$notify({text:"이미 존재하는 제품코드입니다.",type:"error"}),void(e="no");if("ok"===e)return this.newList={product_code:this.productCode,product_name:this.productName,expiration_date:this.expirationDate,capacity:this.capacity},console.log(this.newList),void this.productInsert(this.newList)}}else 2===e&&(console.log("수정 기능여기서 추가"),this.newList={product_name:this.productName,expiration_date:this.expirationDate,capacity:this.capacity},this.productUpdate(this.newList))},async productUpdate(e){const t=await Re.A.post(`${Ae}/productUpdate/${this.productCode}`,e).catch((e=>console.log(e)));"성공"===t.data?(this.$notify({text:"제품이 수정되었습니다.",type:"success"}),this.productSelect(),this.upin="",this.productCode="",this.productName="",this.expirationDate="",this.capacity=""):this.$notify({text:"수정 실패하였습니다.",type:"error"})},async productInsert(e){const t=await Re.A.post(`${Ae}/productInsert`,e).catch((e=>console.log(e)));"성공"===t.data?(this.$notify({text:"제품이 등록되었습니다.",type:"success"}),this.productSelect()):this.$notify({text:"등록 실패하였습니다.",type:"error"})}},mounted(){this.checkLogin(),this.productSelect()}};const Mq=(0,ne.A)(Nq,[["render",Sq],["__scopeId","data-v-6bb5ac4a"]]);var Rq=Mq;const Aq=(0,o.Lk)("h1",null,"테스트",-1),Iq=[Aq];function Eq(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",null,Iq)}var Fq={data(){return{}},methods:{async loginconfig(){const e=await Re.A.get(`${Ae}/loginconfig`).catch((e=>console.log(e)));console.log("세션 출력",e.data)}},mounted(){console.log("로그인 테스트"),this.loginconfig()}};const Pq=(0,ne.A)(Fq,[["render",Eq]]);var Oq=Pq;const qq=[{path:"loginconfig",name:"Loginconfig",component:Oq},{path:"login",name:"login",component:Ze},{path:"/",name:"BadcodeManagement",redirect:{name:"BadcodeManagement"}},{path:"badcodemanagement",name:"badcodemanagement",component:aI},{path:"",redirect:{name:"BomManagement"}},{path:"bommanagement",name:"bommanagement",component:GI},{path:"",redirect:{name:"ProductManagement"}},{path:"productmanagement",name:"productmanagement",component:Rq},{path:"",redirect:{name:"CustomerManagement"}},{path:"customermanagement",name:"customermanagement",component:BE},{path:"",redirect:{name:"EmployeeManagement"}},{path:"employeemanagement",name:"employeemanagement",component:UF},{path:"",redirect:{name:"materialmanagement"}},{path:"materialmanagement",name:"materialmanagement",component:hP},{path:"",redirect:{name:"ProcessFlowManagement"}},{path:"processflowmanagement",name:"processflowmanagement",component:HP},{path:"",redirect:{name:"ProcessStandardManagement"}},{path:"processstandardmanagement",name:"processstandardmanagement",component:yO},{path:"",redirect:{name:"ReturncodeManagement"}},{path:"returncodemanagement",name:"returncodemanagement",component:AO},{path:"",redirect:{name:"WarehouseManagement"}},{path:"warehousemanagement",name:"warehousemanagement",component:rq}];var $q=qq;function Tq(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(),(0,o.Wv)(a,{key:e.$route.fullPath}))])}const jq={},Qq=(0,ne.A)(jq,[["render",Tq]]);var Uq=Qq;const Jq=e=>((0,o.Qi)("data-v-4b45a948"),e=e(),(0,o.jt)(),e),zq={class:"container-fluid py-4"},Bq=Jq((()=>(0,o.Lk)("h3",null,"주문서등록",-1))),Vq={class:"main-container"},Wq={class:"content"},Gq={class:"orderlistForm"},Xq={class:"row gx-3 gy-2 align-items-center"},Kq={class:"col-sm-2"},Hq=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"orderlistNum"},"주문서번호",-1))),Yq={class:"sm-2"},Zq=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"orderlistName"},[(0,o.eW)("주문서명"),(0,o.Lk)("span",null," *")],-1))),e$={class:"col-sm-4"},t$=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"clientName"},[(0,o.eW)("거래처명"),(0,o.Lk)("span",null," *")],-1))),a$={class:"input-group"},l$={class:"col-sm-2"},o$=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"EmpName"},[(0,o.eW)("담당자"),(0,o.Lk)("span",null," *")],-1))),s$={class:"input-group"},n$={class:"col-sm-4"},i$=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"dueDate"},[(0,o.eW)("납기일자"),(0,o.Lk)("span",null," *")],-1))),r$={class:"input-group"},c$={class:"mb-3 text-end"},d$={class:"row gx-3 gy-2 align-items-center mt-2"},u$={class:"col-sm-2"},p$=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"orderCode"},"주문번호",-1))),m$=["onUpdate:modelValue"],h$={class:"col-sm-2"},y$=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"productCode"},[(0,o.eW)("제품코드"),(0,o.Lk)("span",null," *")],-1))),f$=["onUpdate:modelValue"],g$={class:"col-sm-2"},k$=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"productName"},[(0,o.eW)("제품명"),(0,o.Lk)("span",null," *")],-1))),b$=["onUpdate:modelValue","onClick"],L$={class:"col-sm-2"},v$=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"orderNum"},[(0,o.eW)("주문수량"),(0,o.Lk)("span",null," *")],-1))),x$={class:"input-group"},w$=["onUpdate:modelValue"],_$={class:"col-sm-2"},C$=Jq((()=>(0,o.Lk)("label",{class:"col-form-label fw-bold",for:"perSale"},[(0,o.eW)("개당가격"),(0,o.Lk)("span",null," *")],-1))),D$={class:"input-group"},S$=["onUpdate:modelValue"],N$={class:"col-sm-2"},M$={class:"col-auto mt-5 text-center"};function R$(e,t,a,s,n,i){const r=(0,o.g2)("ComList"),c=(0,o.g2)("Modal"),d=(0,o.g2)("EmpList"),u=(0,o.g2)("material-button"),p=(0,o.g2)("proList");return(0,o.uX)(),(0,o.CE)("div",zq,[Bq,(0,o.Lk)("div",Vq,[(0,o.Lk)("div",Wq,[(0,o.Lk)("div",Gq,[(0,o.Lk)("form",Xq,[(0,o.Lk)("div",Kq,[Hq,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"orderlistNum","onUpdate:modelValue":t[0]||(t[0]=e=>n.orderlistNum=e),autocomplete:"off",readonly:""},null,512),[[l.Jo,n.orderlistNum]])]),(0,o.Lk)("div",Yq,[Zq,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"orderlistName","onUpdate:modelValue":t[1]||(t[1]=e=>n.orderName=e),autocomplete:"off",placeholder:"주문서명"},null,512),[[l.Jo,n.orderName]])]),(0,o.Lk)("div",e$,[t$,(0,o.Lk)("div",a$,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"clientName",onClick:t[2]||(t[2]=e=>i.openModal("client")),"onUpdate:modelValue":t[3]||(t[3]=e=>n.searchCom.com_name=e),autocomplete:"off",placeholder:"거래처명"},null,512),[[l.Jo,n.searchCom.com_name]])]),(0,o.bF)(c,{isShowModal:n.isShowModal.client,modalTitle:"거래처선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[4]||(t[4]=e=>i.closeModal("client")),onConfirm:t[5]||(t[5]=e=>i.confirm("client"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectclient:i.selectclient},null,8,["onSelectclient"]),[[l.aG,n.isShowModal.client]])])),_:1},8,["isShowModal"])]),(0,o.Lk)("div",l$,[o$,(0,o.Lk)("div",s$,[n.searchEmpName.name?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,type:"text",class:"form-control",id:"EmpName",onClick:t[6]||(t[6]=e=>i.openModal("emp")),"onUpdate:modelValue":t[7]||(t[7]=e=>n.searchEmpName.name=e),autocomplete:"off"},null,512)),[[l.Jo,n.searchEmpName.name]]):(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:1,type:"text",class:"form-control",id:"EmpName",onClick:t[8]||(t[8]=e=>i.openModal("emp")),"onUpdate:modelValue":t[9]||(t[9]=e=>n.searchEmpName=e),autocomplete:"off"},null,512)),[[l.Jo,n.searchEmpName]])]),(0,o.bF)(c,{isShowModal:n.isShowModal.emp,modalTitle:"담당자선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[10]||(t[10]=e=>i.closeModal("emp")),onConfirm:t[11]||(t[11]=e=>i.confirm("emp"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(d,{onSelectemp:i.selectemp},null,8,["onSelectemp"]),[[l.aG,n.isShowModal.emp]])])),_:1},8,["isShowModal"])]),(0,o.Lk)("div",n$,[i$,(0,o.Lk)("div",r$,[(0,o.bo)((0,o.Lk)("input",{type:"date",class:"form-control",id:"dueDate","onUpdate:modelValue":t[12]||(t[12]=e=>n.dueDate=e),autocomplete:"off"},null,512),[[l.Jo,n.dueDate]])])])]),(0,o.Lk)("div",c$,[(0,o.bF)(u,{size:"sm",color:"success",class:"button",onClick:i.addMaterial},{default:(0,o.k6)((()=>[(0,o.eW)("주문추가")])),_:1},8,["onClick"])])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.materials,((e,a)=>((0,o.uX)(),(0,o.CE)("div",{key:a,class:"row gx-3 gy-2 align-items-center plus-section"},[(0,o.Lk)("form",d$,[(0,o.Lk)("div",u$,[p$,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"orderCode","onUpdate:modelValue":t=>e.orderCode=t,autocomplete:"off",readonly:""},null,8,m$),[[l.Jo,e.orderCode]])]),(0,o.Lk)("div",h$,[y$,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"productCode","onUpdate:modelValue":t=>e.productCode=t,autocomplete:"off",readonly:"",placeholder:"제품코드"},null,8,f$),[[l.Jo,e.productCode]])]),(0,o.Lk)("div",g$,[k$,(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"productName","onUpdate:modelValue":t=>e.productName=t,onClick:e=>i.openModal("product",a),autocomplete:"off",placeholder:"제품명"},null,8,b$),[[l.Jo,e.productName]])]),(0,o.bF)(c,{isShowModal:n.isShowModal.product,modalTitle:"제품선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[13]||(t[13]=e=>i.closeModal("product")),onConfirm:t[14]||(t[14]=e=>i.confirm("product"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(p,{onSelectproduct:i.selectproduct,indexNum:n.indexNum},null,8,["onSelectproduct","indexNum"]),[[l.aG,n.isShowModal.product]])])),_:1},8,["isShowModal"]),(0,o.Lk)("div",L$,[v$,(0,o.Lk)("div",x$,[(0,o.bo)((0,o.Lk)("input",{type:"number",class:"form-control",id:"orderNum","onUpdate:modelValue":t=>e.productNum=t,autocomplete:"off",placeholder:"주문수량"},null,8,w$),[[l.Jo,e.productNum]])])]),(0,o.Lk)("div",_$,[C$,(0,o.Lk)("div",D$,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"perSale","onUpdate:modelValue":t=>e.perPrice=t,autocomplete:"off",placeholder:"개당가격"},null,8,S$),[[l.Jo,e.perPrice]])])]),(0,o.Lk)("div",N$,[(0,o.bF)(u,{size:"sm",color:"danger",type:"button",class:"mt-5",onClick:e=>i.deleteMaterial(a)},{default:(0,o.k6)((()=>[(0,o.eW)("삭제")])),_:2},1032,["onClick"])])])])))),128)),(0,o.Lk)("div",M$,[(0,o.bF)(u,{type:"button",class:"button me-4",color:"success",onClick:i.insertOrder},{default:(0,o.k6)((()=>[(0,o.eW)("등록")])),_:1},8,["onClick"]),(0,o.bF)(u,{type:"button",class:"button",color:"warning",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])])])}const A$={class:"grid-container"},I$={style:{display:"none"}};function E$(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.inputListsearch=e),class:"text-center styled-input",placeholder:"거래처명 입력하세요"},null,512),[[l.Jo,n.inputListsearch]]),(0,o.Lk)("div",A$,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnClientlist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.selectClient,rowSelection:"single"},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",I$,[(0,o.bF)(c)])])}var F$={name:"ClientList",components:{CustomNoRowsOverlay:Hs},emits:["selectclient"],data(){return{rowData:[],theme:ko,selectedCom:"",columnClientlist:[{headerName:"거래처번호",field:"client_num",resizable:!0,sortable:!0},{headerName:"거래처명",field:"com_name",resizable:!0,sortable:!0}],inputListsearch:"",noRowsOverlayComponent:"CustomNoRowsOverlay"}},created(){this.getClientList()},methods:{async getClientList(){let e=await Re.A.get(`${Ae}/orderlist/clients`).catch((e=>console.log(e)));this.rowData=e.data},selectClient(e){const t=e.data;this.$emit("selectclient",t)},onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[0];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t)}}}};const P$=(0,ne.A)(F$,[["render",E$],["__scopeId","data-v-50c0f370"]]);var O$=P$;const q$={class:"grid-container"},$$={style:{display:"none"}};function T$(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.inputListsearch=e),class:"text-center styled-input",placeholder:"직원명 입력하세요"},null,512),[[l.Jo,n.inputListsearch]]),(0,o.Lk)("div",q$,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnEmplist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.selectemp,rowSelection:"single"},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",$$,[(0,o.bF)(c)])])}var j$={name:"EmpList",components:{CustomNoRowsOverlay:Hs},emits:["selectemp"],data(){return{noRowsOverlayComponent:"CustomNoRowsOverlay",rowData:[],selectedEmpName:"",theme:ko,columnEmplist:[{headerName:"직원번호",field:"emp_num",resizable:!0,sortable:!0},{headerName:"직원이름",field:"name",resizable:!0,sortable:!0}],inputListsearch:""}},created(){this.getEmpList()},methods:{async getEmpList(){let e=await Re.A.get(`${Ae}/orderlist/emps`).catch((e=>console.log(e)));this.rowData=e.data,console.log(this.empList)},selectemp(e){const t=e.data;this.$emit("selectemp",t)},onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[0];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t)}}}};const Q$=(0,ne.A)(j$,[["render",T$],["__scopeId","data-v-e61f4146"]]);var U$=Q$;const J$={class:"grid-container"},z$={style:{display:"none"}};function B$(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.inputListsearch=e),class:"text-center styled-input",placeholder:"제품명 입력하세요"},null,512),[[l.Jo,n.inputListsearch]]),(0,o.Lk)("div",J$,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnProductlist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.selectproduct,rowSelection:"single"},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",z$,[(0,o.bF)(c)])])}var V$={name:"ProductList",components:{CustomNoRowsOverlay:Hs},emits:["selectproduct"],data(){return{noRowsOverlayComponent:"CustomNoRowsOverlay",rowData:[],theme:ko,selectedProNum:"",columnProductlist:[{headerName:"제품코드",field:"product_code",resizable:!0,sortable:!0},{headerName:"제품명",field:"product_name",resizable:!0,sortable:!0}],inputListsearch:""}},created(){this.getEmpList()},methods:{async getEmpList(){let e=await Re.A.get(`${Ae}/orderlist/products`).catch((e=>console.log(e)));this.rowData=e.data},selectproduct(e){const t=e.data;this.$emit("selectproduct",t)},onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[0];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t)}}}};const W$=(0,ne.A)(V$,[["render",B$],["__scopeId","data-v-145f5659"]]);var G$=W$,X$={name:"orderForm",components:{MaterialButton:uC,ComList:O$,EmpList:U$,proList:G$,Modal:mo},data(){return{testing:{},orderlistNum:"",orderName:"",dueDate:"",orderCode:"",productCode:"",productName:"",productNum:"",perPrice:"",materials:[{orderCode:"",productCode:"",productName:"",productNum:"",perPrice:""}],indexNum:null,searchCom:"",selectedCom:"",searchEmpName:"",selectedEmpName:"",selectedProCode:"",selectedProName:"",isShowModal:{client:!1,emp:!1,product:!1}}},computed:{},mounted(){this.test()},methods:{...(0,oe.PY)(["addLoginInfo"]),test(){this.testing=this.$store.state.loginInfo,this.searchEmpName=this.$store.state.loginInfo.name},selectclient(e){this.selectedCom=e},selectemp(e){this.selectedEmpName=e},selectproduct(e){this.selectedProCode=e.product_code,this.selectedProName=e.product_name},openModal(e,t){this.isShowModal[e]=!0,this.indexNum=t,console.log(`${e} modal open`)},confirm(e){"client"===e?this.searchCom=this.selectedCom:"emp"===e?this.searchEmpName=this.selectedEmpName:"product"===e&&(this.productCode=this.selectedProCode,this.productName=this.selectedProName,this.materials[this.indexNum]["productCode"]=this.productCode,this.materials[this.indexNum]["productName"]=this.productName),this.closeModal(e)},closeModal(e){this.isShowModal[e]=!1},dateFormat(e,t){return Ho.dateFormat(e,t)},addMaterial(){const e={orderCode:"",productCode:"",productName:"",productNum:"",perPrice:""};(0==this.materials.length||""!=this.materials[this.materials.length-1].productCode)&&this.materials.push(e)},deleteMaterial(e){this.materials=this.materials.filter(((t,a)=>e!=a))},resetSearch(){this.orderlistNum="",this.orderName="",this.dueDate="",this.orderCode="",this.productCode="",this.productName="",this.productNum="",this.perPrice="",this.materials=[],this.searchEmpName="",this.searchCom=""},async insertOrder(){if(!this.orderName||!this.dueDate||!this.searchEmpName)return void this.$notify({text:"필수 정보를 모두 입력하세요.",type:"error"});if(0===this.materials.length)return void this.$notify({text:"주문 품목을 추가하세요.",type:"error"});if(new Date(this.dueDate)<new Date)return void this.$notify({text:"납기일이 오늘보다 이전입니다.",type:"error"});let e=[],t=[],a=[],l=[];if(this.materials.forEach((o=>{o.productCode&&o.productNum&&o.perPrice?(e.push(o.productCode),t.push(o.productNum),a.push(o.perPrice)):l.push(o)})),l.length>0)return void this.$notify({text:"제품명,주문수량,개당가격은 필수 값입니다.",type:"error"});let o={orderName:this.orderName,dueDate:this.dueDate,searchCom:this.searchCom.com_name,productCode:JSON.stringify(e),productNum:JSON.stringify(t),perPrice:JSON.stringify(a)};this.searchEmpName.name?o.searchEmpName=this.searchEmpName.name:o.searchEmpName=this.searchEmpName;let s=await Re.A.post(`${Ae}/orderForm/insert`,o).catch((e=>console.log(e)));"OK"===s.statusText&&(this.$notify({text:`${this.orderName}이 등록되었습니다.`,type:"success"}),this.resetSearch())}}};const K$=(0,ne.A)(X$,[["render",R$],["__scopeId","data-v-4b45a948"]]);var H$=K$;const Y$=e=>((0,o.Qi)("data-v-7229570b"),e=e(),(0,o.jt)(),e),Z$={class:"container-fluid py-4"},eT=Y$((()=>(0,o.Lk)("h3",null,"주문서 조회",-1))),tT={class:"main-container ps-4"},aT={class:"pt-2 pb-3"},lT={class:"mb-3"},oT=Y$((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"주문상태",-1))),sT=["value"],nT={class:"row align-items-center mb-3"},iT=Y$((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"거래처명",-1))),rT={class:"col-sm-4"},cT={class:"row align-items-center mb-3"},dT=Y$((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"주문서명",-1))),uT={class:"col-sm-6"},pT={class:"row align-items-center mb-5"},mT=Y$((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"주문일자",-1))),hT={class:"col-sm-4"},yT=Y$((()=>(0,o.Lk)("div",{class:"col-sm-1 text-center"},"~",-1))),fT={class:"col-sm-4"},gT={class:"mb-3 pt-2 pb-5 text-center"},kT={style:{display:"none"}};function bT(e,t,a,s,n,i){const r=(0,o.g2)("ComList"),c=(0,o.g2)("Modal"),u=(0,o.g2)("material-button"),p=(0,o.g2)("CustomNoRowsOverlay"),m=(0,o.g2)("orderList");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Z$,[eT,(0,o.Lk)("div",tT,[(0,o.Lk)("div",aT,[(0,o.Lk)("div",lT,[oT,(0,o.Lk)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.statusList,(e=>((0,o.uX)(),(0,o.CE)("label",{class:"me-3",key:e},[(0,o.eW)((0,d.v_)(e)+" ",1),(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",value:e,type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>n.pickedStatus=e)},null,8,sT),[[l.lH,n.pickedStatus]])])))),128))])]),(0,o.Lk)("div",nT,[iT,(0,o.Lk)("div",rT,[(0,o.bo)((0,o.Lk)("input",{id:"clientSearch",class:"form-control border p-2","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchCom.com_name=e),onClick:t[2]||(t[2]=(...e)=>i.openModal&&i.openModal(...e)),autocomplete:"off",placeholder:"거래처명"},null,512),[[l.Jo,n.searchCom.com_name]]),(0,o.bF)(c,{isShowModal:n.isShowModal,modalTitle:"거래처선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[3]||(t[3]=e=>i.closeModal()),onConfirm:t[4]||(t[4]=e=>i.confirm())},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectclient:i.selectclient},null,8,["onSelectclient"]),[[l.aG,n.isShowModal]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",cT,[dT,(0,o.Lk)("div",uT,[(0,o.bo)((0,o.Lk)("input",{id:"orderSearch",class:"form-control border p-2","onUpdate:modelValue":t[5]||(t[5]=e=>n.orderName=e),autocomplete:"off",placeholder:"주문서명"},null,512),[[l.Jo,n.orderName]])])]),(0,o.Lk)("div",pT,[mT,(0,o.Lk)("div",hT,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2","onUpdate:modelValue":t[6]||(t[6]=e=>n.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.startDate]])]),yT,(0,o.Lk)("div",fT,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2","onUpdate:modelValue":t[7]||(t[7]=e=>n.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.endDate]])])])]),(0,o.Lk)("div",gT,[(0,o.bF)(u,{color:"success",class:"button",onClick:i.searchOrderlists},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(u,{color:"warning",class:"button",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])]),(0,o.Lk)("div",kT,[(0,o.bF)(p)])]),(0,o.bF)(m,{filters:n.filters},null,8,["filters"])],64)}const LT={class:"grid-container"},vT={style:{display:"none"}};function xT(e,t,a,l,s,n){const i=(0,o.g2)("ag-grid-vue"),r=(0,o.g2)("CustomNoRowsOverlay"),c=(0,o.g2)("orderInfo");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",LT,[(0,o.bF)(i,{rowData:s.rowData,columnDefs:s.columnDefs,theme:s.theme,onGridReady:n.onReady,noRowsOverlayComponent:s.noRowsOverlayComponent,rowSelection:"multiple",quickFilterText:s.inputListsearch,onRowClicked:n.onRowClicked,pagination:!0,paginationPageSize:5,paginationPageSizeSelector:[5,10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","noRowsOverlayComponent","quickFilterText","onRowClicked"])]),(0,o.Lk)("div",vT,[(0,o.bF)(r)]),Object.values(s.order).length>0?((0,o.uX)(),(0,o.Wv)(c,{key:0,order:s.order,onUpdateOrder:n.updateOrder},null,8,["order","onUpdateOrder"])):(0,o.Q3)("",!0)],64)}const wT={class:"grid-container"},_T={style:{display:"none"}},CT={class:"mb-3 pt-2 text-center"};function DT(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay"),d=(0,o.g2)("proList"),u=(0,o.g2)("Modal"),p=(0,o.g2)("material-button");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bo)((0,o.Lk)("div",wT,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnDefs,theme:n.theme,onGridReady:i.onReady1,noRowsOverlayComponent:n.noRowsOverlayComponent,rowSelection:"multiple",onCellClicked:i.onCellClicked,quickFilterText:n.inputListsearch1,onRowClicked:e.onRowClicked,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","noRowsOverlayComponent","onCellClicked","quickFilterText","onRowClicked"])],512),[[l.aG,0!=n.rowData.length]]),(0,o.Lk)("div",_T,[(0,o.bF)(c)]),(0,o.bF)(u,{isShowModal:n.isShowModal,modalTitle:"제품선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[0]||(t[0]=e=>i.closeModal()),onConfirm:t[1]||(t[1]=e=>i.confirm())},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(d,{onSelectproduct:i.selectproduct},null,8,["onSelectproduct"]),[[l.aG,n.isShowModal]])])),_:1},8,["isShowModal"]),(0,o.Lk)("div",CT,[(0,o.bF)(p,{color:"success",class:"button me-5",onClick:i.updateOrder},{default:(0,o.k6)((()=>[(0,o.eW)("주문서수정")])),_:1},8,["onClick"]),(0,o.bF)(p,{color:"danger",class:"button",onClick:i.deleteOrder},{default:(0,o.k6)((()=>[(0,o.eW)("주문서삭제")])),_:1},8,["onClick"])])],64)}var ST={name:"orderInfo",components:{CustomNoRowsOverlay:Hs,MaterialButton:uC,proList:G$,Modal:mo},props:{order:{type:Object,required:!0}},data(){return{noRowsOverlayComponent:"CustomNoRowsOverlay",Scol:0,originalValue:null,statusOrderMap:{preparing:"미출고",semiShipped:"부분출고",shipped:"출고완료"},theme:ko,rowData:[],columnDefs:[{headerName:"",headerCheckboxSelection:!0,field:"check",resizable:!1,editable:!0,sortable:!1,checkboxSelection:!0,cellStyle:{textAlign:"center"},flex:1},{headerName:"주문번호",field:"order_num",resizable:!0,sortable:!0,cellStyle:{textAlign:"right"},flex:2},{headerName:"제품코드",field:"product_code",resizable:!0,sortable:!0,cellStyle:{textAlign:"center"},flex:3},{headerName:"제품명",field:"product_name",resizable:!0,sortable:!0,cellStyle:{textAlign:"left"},flex:4},{headerName:"주문수량",field:"order_amount",editable:!0,sortable:!0,cellStyle:{textAlign:"right",cursor:"text"},flex:2,cellRenderer:e=>{const t=e.data.order_status;if("미출고"===t){if(e.value){const t=e.value.toLocaleString();return`\n                                <span style="display: flex; align-items: center; justify-content: flex-start;">\n                                    <i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i>\n                                    <span style="flex-grow: 1; text-align: right;">${t}</span>\n                                </span>\n                            `}return'<span><i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i></span>'}if(e.value){const t=e.value.toLocaleString();return`<span style="text-align: right;">${t}</span>`}return"<span></span>"}},{headerName:"개당가격",field:"per_price",editable:!0,sortable:!0,cellStyle:{textAlign:"right",cursor:"text"},flex:2,cellRenderer:e=>{const t=e.data.order_status;if("미출고"===t){if(e.value){const t=e.value.toLocaleString();return`\n                                <span style="display: flex; align-items: center; justify-content: flex-start;">\n                                    <i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i>\n                                    <span style="flex-grow: 1; text-align: right;">${t}</span>\n                                </span>\n                            `}return'<span><i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i></span>'}if(e.value){const t=e.value.toLocaleString();return`<span style="text-align: right;">${t}</span>`}return"<span></span>"}},{headerName:"총가격",field:"total_price",resizable:!0,sortable:!0,cellStyle:{textAlign:"right"},flex:2,cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"주문상태",field:"order_status",resizable:!0,sortable:!0,cellStyle:{textAlign:"left"},flex:2},{headerName:"삭제",field:"status",editable:!1,flex:1,cellStyle:{textAlign:"center"},cellRenderer:e=>{let t=e.data.order_num;if(""===t||null===t){const t=document.createElement("button");return t.innerText="삭제",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#ff0000",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{this.renderButton(e)})),t}return null}}],inputListsearch1:"",selectedProCode:"",selectedProName:"",isShowModal:!1}},created(){this.getOrderInfo()},watch:{order:{handler(){this.getOrderInfo()},deep:!0}},methods:{onCellClicked(e){e.colDef.editable&&(this.originalValues||(this.originalValues={}),this.originalValues[e.node.id]=this.originalValues[e.node.id]||{},this.originalValues[e.node.id][e.column.colId]=e.value),"product_name"===e.colDef.field&&(this.Scol=e.node.rowIndex,this.openModal())},rollbackCellChange(e){let t=e.node.id,a=e.column.colId;if(this.originalValues&&this.originalValues[t]&&void 0!==this.originalValues[t][a]){let l=this.originalValues[t][a];e.node.setDataValue(e.column,l),this.originalValue=null}},rollbackEdit(){this.originalValues&&(this.gridApi.forEachNode((e=>{Object.keys(this.originalValues[e.id]||{}).forEach((t=>{const a=this.originalValues[e.id][t];e.setDataValue(t,a)}))})),this.gridApi.deselectAll(),this.originalValue=null)},onReady1(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[2];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("button");t.textContent="주문추가",t.style.cursor="pointer",t.style.backgroundColor="#4caf50",t.style.color="white",t.style.border="none",t.style.padding="5px 10px",t.style.borderRadius="4px",t.addEventListener("click",(()=>{this.addMaterial()}));const l=document.createElement("button");l.textContent="주문삭제",l.style.cursor="pointer",l.style.backgroundColor="#f44335",l.style.color="white",l.style.border="none",l.style.padding="5px 10px",l.style.borderRadius="4px",l.addEventListener("click",(()=>{this.deleteOrders()}));const o=document.createElement("button");o.textContent="초기화",o.style.cursor="pointer",o.style.backgroundColor="#fb8c00",o.style.color="white",o.style.border="none",o.style.padding="5px 10px",o.style.borderRadius="4px",o.addEventListener("click",(()=>{this.rollbackEdit()}));const s=document.createElement("input");s.type="text",s.placeholder="검색",s.style.padding="5px",s.style.width="250px",s.style.border="1px solid #ccc",s.style.borderRadius="4px",s.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch1=t})),e.appendChild(t),e.appendChild(l),e.appendChild(o),e.appendChild(s),a.insertBefore(e,a.firstChild)}},async getOrderInfo(){let e=await Re.A.get(`${Ae}/orderInfo/${this.order.orderlist_num}}`).catch((e=>console.log(e)));this.rowData=e.data,this.rowData=e.data.map((e=>({...e,order_status:this.statusOrderMap[e.order_status]})))},addMaterial(){const e={order_num:null,product_code:"",product_name:"",order_amount:null,per_price:null};this.rowData.push(e),this.rowData=[...this.rowData]},openModal(){this.isShowModal=!0},selectproduct(e){this.selectedProCode=e.product_code,this.selectedProName=e.product_name},confirm(){"미출고"==this.rowData[this.Scol].order_status?this.rowData[this.Scol]={order_num:this.rowData[this.Scol].order_num,product_code:this.selectedProCode,product_name:this.selectedProName,order_amount:this.rowData[this.Scol].order_amount,per_price:this.rowData[this.Scol].per_price,order_status:this.rowData[this.Scol].order_status}:"출고완료"===this.rowData[this.Scol].order_status||"부분출고"===this.rowData[this.Scol].order_status?this.$notify({text:"출고완료 또는 부분출고 상태에서는 수정할 수 없습니다.",type:"warn"}):this.rowData[this.Scol]={order_num:null,product_code:this.selectedProCode,product_name:this.selectedProName,order_amount:null,per_price:null},this.rowData=[...this.rowData],this.closeModal()},closeModal(){this.isShowModal=!1},renderButton(e){let t=e.data;this.rowData=this.rowData.filter((e=>e!=t))},dateFormat(e,t){return Ho.dateFormat(e,t)},async updateOrder(){const e=this.gridApi.getSelectedRows();let t=[],a=[],l=[],o=[],s=!1;if(e.forEach((e=>{""!==e.product_code&&null!==e.product_code&&""!==e.order_amount&&null!==e.order_amount&&""!==e.per_price&&null!==e.per_price?"미출고"===e.order_status||""===e.order_num||null===e.order_num?(t.push(Number(e.order_amount)),l.push(e.product_code),a.push(e.per_price),o.push(e.order_num)):s=!0:this.$notify({text:"제품명과 주문수량, 개별금액은 필수로 입력해야 합니다.",type:"error"})})),s)return void this.$notify({text:"주문이 진행 중이 주문 건이 있습니다. 확인해주세요.",type:"warn"});let n={orderCode:JSON.stringify(o),productCode:JSON.stringify(l),orderAmount:JSON.stringify(t),perPrice:JSON.stringify(a)};this.$emit("updateOrder",n)},async deleteOrder(){if("등록"===this.order.orderlist_status){let e=await Re.A.delete(`${Ae}/orderlist/delete/${this.order.orderlist_num}`).catch((e=>console.log(e)));"success"===e.data.result?(this.$notify({text:`${this.order.orderlist_title}이 삭제되었습니다.`,type:"success"}),window.location.reload()):"fail"===e.data.result&&this.$notify({text:"삭제 오류 발생",type:"error"})}else"진행중"!==this.order.orderlist_status&&"완료"!==this.order.orderlist_status||this.$notify({text:"현재 출고 진행 중 이거나 출고 가 완료 된 건은 삭제 불가 합니다.",type:"warn"})},async deleteOrders(){const e=this.gridApi.getSelectedRows();let t=null,a=[];if(e.forEach((e=>{"미출고"==e.order_status?a.push(e.order_num):"출고완료"==e.order_status||"부분출고"==e.order_status?t="기존의 주문이 진행 중이거나 완료 건은 삭제 불가 합니다.":null==e.order_num&&(t="주문번호가 없는 건은 삭제할 수 없습니다.")})),t)this.$notify({text:t,type:"error"});else if(a.length>0){let e={orderNum:JSON.stringify(a)},t=await Re.A.put(`${Ae}/order/delete`,e).catch((e=>console.log(e)));!0===t.data.result?(this.$notify({text:"해당 입고건의 삭제가 완료되었습니다. ",type:"success"}),window.location.reload()):this.$notify({text:"해당 입고건의 삭제를 실패 했습니다. ",type:"error"})}}}};const NT=(0,ne.A)(ST,[["render",DT],["__scopeId","data-v-5297b404"]]);var MT=NT,RT={name:"orderList",props:{filters:{type:Object,required:!0}},components:{CustomNoRowsOverlay:Hs,orderInfo:MT},data(){return{noRowsOverlayComponent:"CustomNoRowsOverlay",filterOrderlist:[],statusMap:{update:"등록",continue:"진행중",done:"완료"},theme:ko,rowData:[],columnDefs:[{headerName:"주문서번호",field:"orderlist_num",resizable:!0,sortable:!0,cellStyle:{textAlign:"right"},flex:2},{headerName:"주문서명",field:"orderlist_title",editable:!0,sortable:!0,cellStyle:{textAlign:"left"},flex:4},{headerName:"거래처명",field:"com_name",resizable:!0,sortable:!0,cellStyle:{textAlign:"left"},flex:2},{headerName:"담당자",field:"name",resizable:!0,sortable:!0,cellStyle:{textAlign:"left"},flex:2},{headerName:"주문일자",field:"order_date",resizable:!0,sortable:!0,cellStyle:{textAlign:"center"},flex:2},{headerName:"납기일자",field:"due_date",editable:!0,sortable:!0,cellStyle:{textAlign:"center"},flex:2},{headerName:"진행상태",field:"orderlist_status",resizable:!0,sortable:!0,cellStyle:{textAlign:"left"},flex:2}],order:{},inputListsearch:"",added:"",updated:""}},watch:{filters:{handler(){this.searchOrder()}}},created(){this.searchOrder()},methods:{onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[1];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t),a.insertBefore(e,a.firstChild)}},async searchOrder(){if(new Date(this.filters.startDate)>new Date(this.filters.endDate))return void this.$notify({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다. ",type:"error"});let e={orderStatus:this.filters.orderStatus,clientName:this.filters.clientName,orderName:this.filters.orderName,startDate:this.filters.startDate,endDate:this.filters.endDate},t=await Re.A.put(`${Ae}/orderlist/search`,e).catch((e=>console.log(e)));this.rowData=t.data,this.rowData=t.data.map((e=>({...e,order_date:this.dateFormat(e.order_date,"yyyy-MM-dd"),due_date:this.dateFormat(e.due_date,"yyyy-MM-dd"),orderlist_status:this.statusMap[e.orderlist_status]})))},dateFormat(e,t){return Ho.dateFormat(e,t)},onRowClicked(e){this.order=e.data},async updateOrder(e){const t=JSON.parse(e.orderCode),a=JSON.parse(e.productCode),l=JSON.parse(e.orderAmount),o=JSON.parse(e.perPrice),s=[],n=[];for(let i=0;i<t.length;i++){const e={orderCode:t[i],productCode:a[i],orderAmount:l[i],perPrice:o[i]};null===e.orderCode||"null"===e.orderCode?n.push(e):s.push(e)}if(n.length>0){let e=[],t=[],a=[];n.forEach((l=>{e.push(l.productCode),t.push(l.orderAmount),a.push(l.perPrice)}));let l={orderlistNum:this.order.orderlist_num,newProductCode:JSON.stringify(e),newProductNum:JSON.stringify(t),newPerPrice:JSON.stringify(a)};if(t.some((e=>""===e||null===e))||a.some((e=>""===e||null===e)))return void this.$notify({text:"주문 수량과 가격을 입력해주세요.",type:"warn"});await Re.A.post(`${Ae}/orderUpdate/insert`,l).then((e=>{"OK"===e.statusText&&(this.added=!0)})).catch((e=>console.log(e)))}if(s.length>0){let e=[],t=[],a=[],l=[];s.forEach((o=>{e.push(Number(o.orderAmount)),t.push(o.perPrice),a.push(o.productCode),l.push(o.orderCode)}));let o={orderlistTitle:this.order.orderlist_title,dueDate:this.order.due_date,orderCode:JSON.stringify(l),productCode:JSON.stringify(a),orderAmount:JSON.stringify(e),perPrices:JSON.stringify(t)},n=await Re.A.put(`${Ae}/orderUpdate/update/${this.order.orderlist_num}`,o).catch((e=>console.log(e)));"OK"===n.statusText&&(this.updated=!0)}this.added&&this.updated?(this.$notify({text:`${this.order.orderlist_title}에 주문이 추가 되고 수정되었습니다.`,type:"success"}),window.location.reload()):this.added?(this.$notify({text:`${this.order.orderlist_title}에 주문이 추가 되었습니다.`,type:"success"}),window.location.reload()):this.updated&&(this.$notify({text:`${this.order.orderlist_title}이 수정되었습니다.`,type:"success"}),window.location.reload())}}};const AT=(0,ne.A)(RT,[["render",xT],["__scopeId","data-v-13346aa2"]]);var IT=AT,ET={name:"orderlistSearch",components:{MaterialButton:uC,Modal:mo,ComList:O$,orderList:IT,CustomNoRowsOverlay:Hs},data(){return{noRowsOverlayComponent:"CustomNoRowsOverlay",isShowModal:!1,statusList:["등록","진행중","완료"],pickedStatus:[],orderName:"",startDate:"",endDate:"",searchCom:"",selectedCom:"",filters:[]}},methods:{selectclient(e){this.selectedCom=e},async openModal(){this.isShowModal=!this.isShowModal},confirm(){this.searchCom=this.selectedCom,this.closeModal()},closeModal(){this.isShowModal=!1},resetSearch(){this.pickedStatus=[],this.clientName="",this.orderName="",this.startDate="",this.endDate="",this.orderData={}},searchOrderlists(){const e={"등록":"update","진행중":"continue","완료":"done"},t=this.pickedStatus.map((t=>e[t]));this.filters={orderStatus:t,clientName:this.searchCom,orderName:this.orderName,startDate:this.startDate,endDate:this.endDate}}}};const FT=(0,ne.A)(ET,[["render",bT],["__scopeId","data-v-7229570b"]]);var PT=FT;const OT=e=>((0,o.Qi)("data-v-54ecd586"),e=e(),(0,o.jt)(),e),qT={class:"container-fluid py-4"},$T=OT((()=>(0,o.Lk)("h3",null,"제품출고 등록",-1))),TT=OT((()=>(0,o.Lk)("h4",{class:"pt-2"},"주문서 조회",-1))),jT={class:"main-container ps-4"},QT={class:"pt-5 pb-5"},UT={class:"row align-items-center mb-3"},JT=OT((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"거래처명",-1))),zT={class:"col-sm-4"},BT={class:"row align-items-center mb-3"},VT=OT((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"주문서명",-1))),WT={class:"col-sm-6"},GT={class:"row align-items-center mb-5"},XT=OT((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"주문일자",-1))),KT={class:"col-sm-4"},HT=OT((()=>(0,o.Lk)("div",{class:"col-sm-1 text-center"},"~",-1))),YT={class:"col-sm-4"},ZT={class:"pb-3 text-center"},ej={class:"grid-container"},tj={style:{display:"none"}},aj={class:"container-fluid py-4"},lj={class:"d-flex"},oj={class:"p-2",style:{flex:"6"}},sj={class:"grid-container"},nj={style:{display:"none"}},ij={class:"p-2",style:{flex:"4"}},rj={class:"grid-container"},cj={style:{display:"none"}},dj={class:"row align-items-center mb-3"},uj=OT((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},[(0,o.eW)("담당자"),(0,o.Lk)("span",null," *")],-1))),pj={class:"col-sm-4"},mj={class:"mb-3 pt-2 text-center"};function hj(e,t,a,s,n,i){const r=(0,o.g2)("ComList"),c=(0,o.g2)("Modal"),d=(0,o.g2)("material-button"),u=(0,o.g2)("ag-grid-vue"),p=(0,o.g2)("CustomNoRowsOverlay"),m=(0,o.g2)("EmpList");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",qT,[$T,TT,(0,o.Lk)("div",jT,[(0,o.Lk)("div",QT,[(0,o.Lk)("div",UT,[JT,(0,o.Lk)("div",zT,[(0,o.bo)((0,o.Lk)("input",{id:"clientSearch",class:"form-control border p-2","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchCom.com_name=e),onClick:t[1]||(t[1]=e=>i.openModal("client")),autocomplete:"off",placeholder:"거래처명"},null,512),[[l.Jo,n.searchCom.com_name]]),(0,o.bF)(c,{isShowModal:n.isShowModal.client,modalTitle:"거래처선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[2]||(t[2]=e=>i.closeModal("client")),onConfirm:t[3]||(t[3]=e=>i.confirm("client"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectclient:i.selectclient},null,8,["onSelectclient"]),[[l.aG,n.isShowModal.client]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",BT,[VT,(0,o.Lk)("div",WT,[(0,o.bo)((0,o.Lk)("input",{id:"orderSearch",class:"form-control border p-2","onUpdate:modelValue":t[4]||(t[4]=e=>n.orderName=e),autocomplete:"off",placeholder:"주문서명"},null,512),[[l.Jo,n.orderName]])])]),(0,o.Lk)("div",GT,[XT,(0,o.Lk)("div",KT,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2","onUpdate:modelValue":t[5]||(t[5]=e=>n.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.startDate]])]),HT,(0,o.Lk)("div",YT,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2","onUpdate:modelValue":t[6]||(t[6]=e=>n.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.endDate]])])])]),(0,o.Lk)("div",ZT,[(0,o.bF)(d,{color:"success",class:"button",onClick:i.searchOrderlists},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(d,{color:"warning",class:"button",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.Lk)("div",ej,[(0,o.bF)(u,{rowData:n.rowData,columnDefs:n.columnOrderlist,theme:n.theme,onGridReady:i.onGridReady,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.onOrderRowClicked,rowSelection:"multiple",pagination:!0,paginationPageSize:5,paginationPageSizeSelector:[5,10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",tj,[(0,o.bF)(p)]),(0,o.Lk)("div",aj,[(0,o.bo)((0,o.Lk)("h4",null,"미출고조회",512),[[l.aG,0!=n.rowDataOrder.length]]),(0,o.Lk)("div",lj,[(0,o.Lk)("div",oj,[(0,o.bo)((0,o.Lk)("div",sj,[(0,o.bF)(u,{rowData:n.rowDataOrder,columnDefs:n.columnOrder,theme:n.theme,onGridReady:i.onGridReady,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.onDisoutputRowClicked,rowSelection:"single",pagination:!0,paginationPageSize:5,paginationPageSizeSelector:[5,10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","noRowsOverlayComponent","onRowClicked"])],512),[[l.aG,0!=n.rowDataOrder.length]]),(0,o.Lk)("div",nj,[(0,o.bF)(p)])]),(0,o.Lk)("div",ij,[(0,o.bo)((0,o.Lk)("div",rj,[(0,o.bF)(u,{rowData:n.rowDataLot,columnDefs:n.columnLot,theme:n.theme,onGridReady:i.onGridReady,noRowsOverlayComponent:n.noRowsOverlayComponent,editType:"fullRow",rowSelection:"multiple",pagination:!0,paginationPageSize:5,gridOptions:n.gridOptions,paginationPageSizeSelector:[5,10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","noRowsOverlayComponent","gridOptions"])],512),[[l.aG,0!=n.rowDataOrder.length]]),(0,o.Lk)("div",cj,[(0,o.bF)(p)]),(0,o.bo)((0,o.Lk)("div",dj,[uj,(0,o.Lk)("div",pj,[n.searchEmpName.name?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,id:"EmpName",class:"form-control border p-2","onUpdate:modelValue":t[7]||(t[7]=e=>n.searchEmpName.name=e),onClick:t[8]||(t[8]=e=>i.openModal("emp")),autocomplete:"off"},null,512)),[[l.Jo,n.searchEmpName.name]]):(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:1,type:"text",class:"form-control",id:"EmpName",onClick:t[9]||(t[9]=e=>i.openModal("emp")),"onUpdate:modelValue":t[10]||(t[10]=e=>n.searchEmpName=e),autocomplete:"off"},null,512)),[[l.Jo,n.searchEmpName]]),(0,o.bF)(c,{isShowModal:n.isShowModal.emp,modalTitle:"담당자선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[11]||(t[11]=e=>i.closeModal("emp")),onConfirm:t[12]||(t[12]=e=>i.confirm("emp"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(m,{onSelectemp:i.selectemp},null,8,["onSelectemp"]),[[l.aG,n.isShowModal.emp]])])),_:1},8,["isShowModal"])])],512),[[l.aG,0!=n.rowDataOrder.length]]),(0,o.bo)((0,o.Lk)("div",mj,[(0,o.bF)(d,{color:"success",class:"button",onClick:i.processData},{default:(0,o.k6)((()=>[(0,o.eW)("출고")])),_:1},8,["onClick"]),(0,o.bF)(d,{color:"warning",class:"button",onClick:i.resetLot},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])],512),[[l.aG,0!=n.rowDataOrder.length]])])])])],64)}var yj={name:"orderlistSearch",components:{MaterialButton:uC,Modal:mo,ComList:O$,EmpList:U$,CustomNoRowsOverlay:Hs},data(){return{testing:{},orderName:"",startDate:"",endDate:"",searchCom:"",selectedCom:"",noRowsOverlayComponent:"CustomNoRowsOverlay",filteredOrderlist:[],theme:ko,rowData:[],columnOrderlist:[{headerName:"주문서번호",field:"orderlist_num",flex:2,cellStyle:{textAlign:"right"}},{headerName:"주문서명",field:"orderlist_title",flex:4,cellStyle:{textAlign:"left"}},{headerName:"거래처명",field:"com_name",flex:2,cellStyle:{textAlign:"left"}},{headerName:"담당자",field:"name",flex:2,cellStyle:{textAlign:"left"}},{headerName:"주문일자",field:"order_date",flex:2,cellStyle:{textAlign:"center"}},{headerName:"납기일자",field:"due_date",flex:2,cellStyle:{textAlign:"center"}}],statusOrderMap:{preparing:"미출고",semiShipped:"부분출고"},rowDataOrder:[],columnOrder:[{headerName:"주문번호",field:"order_num",flex:2,cellStyle:{textAlign:"right"}},{headerName:"제품코드",field:"product_code",flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품명",field:"product_name",flex:3,cellStyle:{textAlign:"left"}},{headerName:"주문수량",field:"order_amount",flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"미출고량",field:"disorder_amount",flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"출고량",field:"output_amount",flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"상태여부",field:"order_status",flex:2,cellStyle:{textAlign:"left"}}],searchEmpName:"",selectedEmpName:"",gridOptions:{rowSelection:{checkboxes:!0}},rowDataLot:[],columnLot:[{headerName:"",headerCheckboxSelection:!0,field:"check",resizable:!1,editable:!0,sortable:!1,checkboxSelection:!0,flex:1,cellStyle:{textAlign:"center"}},{headerName:"제품LOT번호",field:"product_lot",flex:5,cellStyle:{textAlign:"center"}},{headerName:"출고수",field:"output_num",resizable:!1,editable:!0,sortable:!1,onCellValueChanged:this.onCellValueChanged,flex:3,cellStyle:{textAlign:"right",cursor:"text"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span  style="flex-grow: 1; text-align: right;">${t}</span>`}return'\n                                <span style="display: flex; align-items: center; justify-content: flex-start;">\n                                    <i class="fas fa-edit pt-2" style="color:#6c757d88;" title="더블클릭하여 수정 가능합니다"></i>\n                                </span>\n                            '}},{headerName:"재고수 ",field:"total_amount",flex:4,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"제조일자 ",field:"inspec_end",flex:4,cellStyle:{textAlign:"center"}}],isShowModal:{client:!1,emp:!1}}},mounted(){this.test()},methods:{...(0,oe.PY)(["addLoginInfo"]),test(){this.testing=this.$store.state.loginInfo,this.searchEmpName=this.$store.state.loginInfo.name},selectclient(e){this.selectedCom=e},selectemp(e){this.selectedEmpName=e},openModal(e){this.isShowModal[e]=!0},confirm(e){"client"===e?this.searchCom=this.selectedCom:"emp"===e&&(this.searchEmpName=this.selectedEmpName),this.closeModal(e)},closeModal(e){this.isShowModal[e]=!1},resetSearch(){this.searchCom="",this.orderName="",this.startDate="",this.endDate="",this.orderData={},this.rowData=[],this.rowDataOrder=[],this.rowDataLot=[],this.searchEmpName=""},async searchOrderlists(){if(this.filters={clientName:this.searchCom,orderName:this.orderName,startDate:this.startDate,endDate:this.endDate},new Date(this.filters.startDate)>new Date(this.filters.endDate))return void this.$notify({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다. ",type:"error"});let e=await Re.A.put(`${Ae}/output/search`,this.filters).catch((e=>console.log(e)));this.rowData=e.data,this.rowData=e.data.map((e=>({...e,order_date:this.dateFormat(e.order_date,"yyyy-MM-dd"),due_date:this.dateFormat(e.due_date,"yyyy-MM-dd")})))},dateFormat(e,t){return Ho.dateFormat(e,t)},onGridReady(e){this.gridApi=e.api},async onOrderRowClicked(e){let t=e.data,a=await Re.A.get(`${Ae}/output/disoutput/${t.orderlist_num}`).catch((e=>console.log(e)));this.rowDataOrder=a.data.map((t=>({...t,order_status:this.statusOrderMap[t.order_status],com_name:e.data.com_name})))},async onDisoutputRowClicked(e){let t=e.data,a=await Re.A.get(`${Ae}/output/product/${t.product_code}`).catch((e=>console.log(e)));this.rowDataLot=a.data,this.rowDataLot=a.data.map((t=>({...t,inspec_end:this.dateFormat(t.inspec_end,"yyyy-MM-dd"),com_name:e.data.com_name,order_num:e.data.order_num,order_amount:e.data.order_amount,disorder_amount:e.data.disorder_amount}))),this.currentDisorder=t},async processData(){const e=this.gridApi.getSelectedRows();if(0===e.length)return void this.$notify({text:"선택된 행이 없습니다.",type:"error"});let t=e[0].com_name,a=e[0].order_num,l=[],o=[],s=[];if(e.forEach((e=>{Number(e.total_amount)<e.output_num?s.push(e):(l.push(Number(e.output_num)),o.push(e.product_lot))})),s.length>0)return void this.$notify({text:"출고수는 보유 재고량보다 많을 수 없습니다.",type:"error"});const n=l.reduce(((e,t)=>e+Number(t)),0);if(e.length>0&&Number(e[0].disorder_amount)<n)return void this.$notify({text:"출고수는 미출고량보다 많을 수 없습니다.",type:"error"});if(!this.searchEmpName||0==n)return void this.$notify({text:"출고수량 과 담당자를 입력 해 주세요.",type:"error"});let i={product_lot:JSON.stringify(o),output_amount:JSON.stringify(l),order_num:a,com_name:t};this.searchEmpName.name?i.name=this.searchEmpName.name:i.name=this.searchEmpName;let r=await Re.A.post(`${Ae}/output/insert`,i).catch((e=>console.log(e)));"OK"===r.statusText&&(this.$notify({text:"출고가 완료되었습니다.",type:"success"}),window.location.reload())},resetLot(){this.gridApi.deselectAll(),this.searchEmpName="",this.clientName="";const e=this.gridApi.getRenderedNodes();e.forEach((e=>{void 0!==e.data.output_num&&(e.data.output_num="",this.gridApi.refreshCells({rowNodes:[e],columns:["output_num"]}))}))},onCellValueChanged(e){if("output_num"===e.colDef.field){const t=e.newValue,a=e.data.input_amount;t>a&&(this.$notify({text:"'출고수는 재고수보다 많을 수 없습니다.'",type:"error"}),e.node.setDataValue("output_num",e.oldValue))}}}};const fj=(0,ne.A)(yj,[["render",hj],["__scopeId","data-v-54ecd586"]]);var gj=fj;const kj=e=>((0,o.Qi)("data-v-ba395c1a"),e=e(),(0,o.jt)(),e),bj={class:"container-fluid py-4"},Lj=kj((()=>(0,o.Lk)("h3",null,"제품입고등록",-1))),vj=kj((()=>(0,o.Lk)("h4",{class:"pt-2"},"완제품 품질 검사 조회",-1))),xj={class:"main-container ps-4"},wj={class:"pt-5 pb-5"},_j={class:"row align-items-center mb-3"},Cj=kj((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"제품명",-1))),Dj={class:"col-sm-4"},Sj={class:"row align-items-center mb-5"},Nj=kj((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"통과 일자",-1))),Mj={class:"col-sm-4"},Rj=kj((()=>(0,o.Lk)("div",{class:"col-sm-1 text-center"},"~",-1))),Aj={class:"col-sm-4"},Ij={class:"pb-3 text-center"},Ej={class:"container-fluid py-4"},Fj={class:"d-flex"},Pj={class:"grid-container"},Oj={style:{display:"none"}},qj={class:"select-container"},$j={class:"d-flex flex-column justify-content-center ps-5 pt-5",style:{height:"200px"}},Tj={class:"row align-items-center mb-3"},jj=kj((()=>(0,o.Lk)("label",{class:"col-sm-3 col-form-label fw-bold"},[(0,o.eW)("담당자"),(0,o.Lk)("span",null,"*")],-1))),Qj={class:"col-sm-9 d-flex"},Uj={class:"row align-items-center mb-3"},Jj=kj((()=>(0,o.Lk)("label",{class:"col-sm-3 col-form-label fw-bold"},[(0,o.eW)("창고"),(0,o.Lk)("span",null,"*")],-1))),zj={class:"col-sm-9 d-flex"},Bj={class:"pt-5 text-center"},Vj={class:"grid-container"},Wj={style:{display:"none"}},Gj={class:"pt-5 text-center"};function Xj(e,t,a,s,n,i){const r=(0,o.g2)("proList"),c=(0,o.g2)("Modal"),d=(0,o.g2)("material-button"),u=(0,o.g2)("ag-grid-vue"),p=(0,o.g2)("CustomNoRowsOverlay"),m=(0,o.g2)("EmpList"),h=(0,o.g2)("WarList");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",bj,[Lj,vj,(0,o.Lk)("div",xj,[(0,o.Lk)("div",wj,[(0,o.Lk)("div",_j,[Cj,(0,o.Lk)("div",Dj,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"productName","onUpdate:modelValue":t[0]||(t[0]=e=>n.productName=e),onClick:t[1]||(t[1]=e=>i.openModal("product")),autocomplete:"off",placeholder:" 제품명"},null,512),[[l.Jo,n.productName]]),(0,o.bF)(c,{isShowModal:n.isShowModal.product,modalTitle:"제품선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[2]||(t[2]=e=>i.closeModal("product")),onConfirm:t[3]||(t[3]=e=>i.confirm("product"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectproduct:i.selectproduct,indexNum:e.indexNum},null,8,["onSelectproduct","indexNum"]),[[l.aG,n.isShowModal.product]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",Sj,[Nj,(0,o.Lk)("div",Mj,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2","onUpdate:modelValue":t[4]||(t[4]=e=>n.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.startDate]])]),Rj,(0,o.Lk)("div",Aj,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2","onUpdate:modelValue":t[5]||(t[5]=e=>n.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.endDate]])])])]),(0,o.Lk)("div",Ij,[(0,o.bF)(d,{color:"success",class:"button",onClick:i.searchQtResult},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(d,{color:"warning",class:"button",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.Lk)("div",Ej,[(0,o.Lk)("div",Fj,[(0,o.Lk)("div",Pj,[(0,o.bF)(u,{style:{width:"850px",height:"500px"},rowData:n.QtData,columnDefs:n.columnQtlist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,rowSelection:"multiple",noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.onQtRowClicked,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",Oj,[(0,o.bF)(p)]),(0,o.Lk)("div",qj,[(0,o.Lk)("div",$j,[(0,o.Lk)("div",Tj,[jj,(0,o.Lk)("div",Qj,[(0,o.bo)((0,o.Lk)("input",{id:"EmpName",class:"form-control border p-2","onUpdate:modelValue":t[6]||(t[6]=e=>n.searchEmpName=e),onClick:t[7]||(t[7]=e=>i.openModal("emp")),autocomplete:"off"},null,512),[[l.Jo,n.searchEmpName]]),(0,o.bF)(c,{isShowModal:n.isShowModal.emp,modalTitle:"담당자선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[8]||(t[8]=e=>i.closeModal("emp")),onConfirm:t[9]||(t[9]=e=>i.confirm("emp"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(m,{onSelectemp:i.selectemp},null,8,["onSelectemp"]),[[l.aG,n.isShowModal.emp]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",Uj,[Jj,(0,o.Lk)("div",zj,[(0,o.bo)((0,o.Lk)("input",{id:"EmpName",class:"form-control border p-2","onUpdate:modelValue":t[10]||(t[10]=e=>n.warehouseName=e),onClick:t[11]||(t[11]=e=>i.openModal("warehouse")),autocomplete:"off",placeholder:" 창고명"},null,512),[[l.Jo,n.warehouseName]]),(0,o.bF)(c,{isShowModal:n.isShowModal.warehouse,modalTitle:"창고선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[12]||(t[12]=e=>i.closeModal("warehouse")),onConfirm:t[13]||(t[13]=e=>i.confirm("warehouse"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(h,{onSelectwarehouse:i.selectwarehouse},null,8,["onSelectwarehouse"]),[[l.aG,n.isShowModal.warehouse]])])),_:1},8,["isShowModal"])])])]),(0,o.Lk)("div",Bj,[(0,o.bF)(d,{color:"success",class:"button",onClick:i.tempInputInfo},{default:(0,o.k6)((()=>[(0,o.eW)("추가")])),_:1},8,["onClick"]),(0,o.bF)(d,{color:"warning",class:"button",onClick:i.resetEmpWar},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("div",Vj,[(0,o.bF)(u,{rowData:n.tempInput,columnDefs:n.columntempInput,theme:n.theme,onGridReady:i.onReady1,quickFilterText:n.inputListsearch1,noRowsOverlayComponent:n.noRowsOverlayComponent,editType:"fullRow",rowSelection:"multiple",pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent"])],512),[[l.aG,0!=n.tempInput.length]]),(0,o.Lk)("div",Wj,[(0,o.bF)(p)])]),(0,o.bo)((0,o.Lk)("div",Gj,[(0,o.bF)(d,{color:"success",class:"button",onClick:i.inputInsert},{default:(0,o.k6)((()=>[(0,o.eW)("입고")])),_:1},8,["onClick"]),(0,o.bF)(d,{color:"warning",class:"button",onClick:i.resetTempInput},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])],512),[[l.aG,0!=n.tempInput.length]])])],64)}a(292),a(9074),a(11),a(2818),a(2289),a(4694),a(1784);const Kj={class:"grid-container"},Hj={style:{display:"none"}};function Yj(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.inputListsearch=e),class:"text-center styled-input",placeholder:"창고이름 입력하세요"},null,512),[[l.Jo,n.inputListsearch]]),(0,o.Lk)("div",Kj,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnWarlist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.selectWarehouse,rowSelection:"single"},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",Hj,[(0,o.bF)(c)])])}var Zj={name:"WarehouseList",components:{CustomNoRowsOverlay:Hs},data(){return{noRowsOverlayComponent:"CustomNoRowsOverlay",rowData:[],selectedwarehouseName:"",selectedwarehouseCode:"",theme:ko,columnWarlist:[{headerName:"창고 코드",field:"warehouse_code",resizable:!0,sortable:!0},{headerName:"창고 이름",field:"warehouse_name",resizable:!0,sortable:!0}],inputListsearch:""}},created(){this.getWarehouseList()},methods:{async getWarehouseList(){let e=await Re.A.get(`${Ae}/input/warehouse`).catch((e=>console.log(e)));this.rowData=e.data},selectWarehouse(e){const t=e.data;this.$emit("selectwarehouse",t)},onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[0];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t)}}}};const eQ=(0,ne.A)(Zj,[["render",Yj],["__scopeId","data-v-6f81bcb5"]]);var tQ=eQ,aQ={name:"inputManage",components:{MaterialButton:uC,Modal:mo,proList:G$,EmpList:U$,WarList:tQ,CustomNoRowsOverlay:Hs},data(){return{testing:{},startDate:"",endDate:"",selectedProName:"",productName:"",selectedProCode:"",productCode:"",inputListsearch:"",inputListsearch1:"",noRowsOverlayComponent:"CustomNoRowsOverlay",filteredQtResult:[],theme:ko,QtData:[],columnQtlist:[{headerName:"포장검사코드",field:"qc_packing_id",flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품코드",field:"product_code",flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품명",field:"product_name",flex:2,cellStyle:{textAlign:"left"}},{headerName:"작업번호",field:"process_num",flex:2,cellStyle:{textAlign:"right"}},{headerName:"입고수량",field:"pass_qnt",flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"통과날짜",field:"inspec_end",flex:2,cellStyle:{textAlign:"center"}}],searchEmpName:"",selectedEmpName:"",selectedEmpNum:"",searchEmpNum:"",warehouseCode:"",selectedWarehouseCode:"",warehouseName:"",selectedWarehouseName:"",tempProductCode:"",tempProductName:"",tempProcessNum:"",inputAmount:0,qtId:"",inputDate:"",tempInput:[],columntempInput:[{headerName:"",headerCheckboxSelection:!0,field:"check",resizable:!1,editable:!0,sortable:!1,checkboxSelection:!0,flex:1,cellStyle:{textAlign:"center"}},{headerName:"포장검사코드 ",field:"qtId",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품 코드",field:"tempProductCode",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품 명",field:"tempProductName",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"left"}},{headerName:"입고수량",field:"inputAmount",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"창고 위치",field:"warehouseName",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"left"}},{headerName:"담당자",field:"employeeName",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"left"}},{headerName:"통과 날짜",field:"inspectDate",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}}],isShowModal:{client:!1,emp:!1,warehouse:!1}}},mounted(){this.test()},methods:{...(0,oe.PY)(["addLoginInfo"]),test(){this.testing=this.$store.state.loginInfo,this.searchEmpName=this.$store.state.loginInfo.name,this.searchEmpNum=this.$store.state.loginInfo.emp_num},selectproduct(e){this.selectedProCode=e.product_code,this.selectedProName=e.product_name},selectemp(e){this.selectedEmpName=e.name,this.selectedEmpNum=e.emp_num},selectwarehouse(e){this.selectedWarehouseCode=e.warehouse_code,this.selectedWarehouseName=e.warehouse_name},openModal(e){this.isShowModal[e]=!0},confirm(e){"product"===e?(this.productName=this.selectedProName,this.productCode=this.selectedProCode):"emp"===e?(this.searchEmpName=this.selectedEmpName,this.searchEmpNum=this.selectedEmpNum):"warehouse"===e&&(this.warehouseCode=this.selectedWarehouseCode,this.warehouseName=this.selectedWarehouseName),this.closeModal(e)},closeModal(e){this.isShowModal[e]=!1},resetSearch(){this.productName="",this.productCode="",this.startDate="",this.endDate="",this.QtData=[],this.tempInput=[]},async searchQtResult(){if(this.filters={productCode:this.productCode,startDate:this.startDate,endDate:this.endDate},new Date(this.filters.startDate)>new Date(this.filters.endDate))return void this.$notify({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다. ",type:"error"});let e=await Re.A.put(`${Ae}/input/qtsearch`,this.filters).catch((e=>console.log(e)));this.QtData=e.data,this.QtData=e.data.map((e=>({...e,inspec_end:this.dateFormat(e.inspec_end,"yyyy-MM-dd")})))},dateFormat(e,t){return Ho.dateFormat(e,t)},onReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi;const t=document.querySelectorAll(".ag-paging-panel"),a=t[1];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t),a.insertBefore(e,a.firstChild)}},onReady1(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi;const t=document.querySelectorAll(".ag-paging-panel"),a=t[4];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("button");t.textContent="입고삭제",t.style.cursor="pointer",t.style.backgroundColor="#f44335",t.style.color="white",t.style.border="none",t.style.padding="5px 10px",t.style.borderRadius="4px",t.addEventListener("click",(()=>{this.deleteInputs()}));const l=document.createElement("input");l.type="text",l.placeholder="검색",l.style.padding="5px",l.style.width="250px",l.style.border="1px solid #ccc",l.style.borderRadius="4px",l.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch1=t})),e.appendChild(t),e.appendChild(l),a.insertBefore(e,a.firstChild)}},resetEmpWar(){this.warehouseName="",this.warehouseCode="",this.searchEmpName=""},onQtRowClicked(e){let t=e.data;this.tempProductCode=t.product_code,this.tempProductName=t.product_name,this.inputAmount=t.pass_qnt,this.qtId=t.qc_packing_id,this.inspectDate=t.inspec_end,this.tempProcessNum=t.process_num},tempInputInfo(){if(!this.tempProductCode||!this.tempProductName||!this.inputAmount||!this.qtId||!this.inspectDate||!this.searchEmpName||!this.warehouseName||!this.warehouseCode||!this.tempProcessNum)return void this.$notify({text:"품질결과,담당자,창고는 필수사항입니다.",type:"error"});let e={tempProductCode:this.tempProductCode,tempProductName:this.tempProductName,inputAmount:this.inputAmount,qtId:this.qtId,inspectDate:this.inspectDate,employeeName:this.searchEmpName,employeeNum:this.searchEmpNum,warehouseName:this.warehouseName,warehouseCode:this.warehouseCode,processNum:this.tempProcessNum},t=this.tempInput.some((t=>t.qtId===e.qtId&&t.tempProductCode===e.tempProductCode));t?this.$notify({text:" 중복된 품질검사 입니다.",type:"error"}):this.tempInput=[...this.tempInput,e]},resetTempInput(){this.tempInput=[]},deleteInputs(){const e=this.gridApi.getSelectedRows();this.tempInput=this.tempInput.filter((t=>!e.some((e=>e.qtId===t.qtId&&e.tempProductCode===t.tempProductCode))))},async inputInsert(){const e=this.gridApi.getSelectedRows();let t=e.map((e=>e.employeeNum)),a=new Set(t);if(a.size>1)return void this.$notify({text:"선택된 입고에 담당자가 여러 명 있습니다. 한 명만 선택하세요.",type:"error"});let l=e[0].employeeNum,o=[],s=[],n=[],i=[],r=[],c=[];e.forEach((e=>{o.push(e.tempProductCode),s.push(e.processNum),n.push(e.inputAmount),i.push(e.qtId),r.push(e.inspectDate),c.push(e.warehouseCode)}));let d={product_code:JSON.stringify(o),process_num:JSON.stringify(s),input_amount:JSON.stringify(n),qc_packing_id:JSON.stringify(i),inspec_end:JSON.stringify(r),warehouse_code:JSON.stringify(c),name:l},u=await Re.A.post(`${Ae}/input/insert`,d).catch((e=>console.log(e)));"OK"===u.statusText&&(this.$notify({text:"입고가 완료되었습니다.",type:"success"}),window.location.reload())}}};const lQ=(0,ne.A)(aQ,[["render",Xj],["__scopeId","data-v-ba395c1a"]]);var oQ=lQ;const sQ=e=>((0,o.Qi)("data-v-4fa0f890"),e=e(),(0,o.jt)(),e),nQ={class:"container-fluid py-4"},iQ=sQ((()=>(0,o.Lk)("h3",null,"제품입고조회",-1))),rQ={class:"main-container ps-4"},cQ={class:"pt-5 pb-5"},dQ={class:"row align-items-center mb-3"},uQ=sQ((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"제품명",-1))),pQ={class:"col-sm-4"},mQ={class:"row align-items-center mb-5"},hQ=sQ((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"입고 일자",-1))),yQ={class:"col-sm-4"},fQ=sQ((()=>(0,o.Lk)("div",{class:"col-sm-1 text-center"},"~",-1))),gQ={class:"col-sm-4"},kQ={class:"pb-3 text-center"},bQ={class:"container-fluid py-4"},LQ={class:""},vQ={class:"grid-container"},xQ={style:{display:"none"}};function wQ(e,t,a,s,n,i){const r=(0,o.g2)("proList"),c=(0,o.g2)("Modal"),d=(0,o.g2)("material-button"),u=(0,o.g2)("ag-grid-vue"),p=(0,o.g2)("CustomNoRowsOverlay"),m=(0,o.g2)("WarList");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",nQ,[iQ,(0,o.Lk)("div",rQ,[(0,o.Lk)("div",cQ,[(0,o.Lk)("div",dQ,[uQ,(0,o.Lk)("div",pQ,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"productName","onUpdate:modelValue":t[0]||(t[0]=e=>n.productName=e),onClick:t[1]||(t[1]=e=>i.openModal("product")),autocomplete:"off",placeholder:" 제품명"},null,512),[[l.Jo,n.productName]]),(0,o.bF)(c,{isShowModal:n.isShowModal.product,modalTitle:"제품선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[2]||(t[2]=e=>i.closeModal("product")),onConfirm:t[3]||(t[3]=e=>i.confirm("product"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectproduct:i.selectproduct},null,8,["onSelectproduct"]),[[l.aG,n.isShowModal.product]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",mQ,[hQ,(0,o.Lk)("div",yQ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2","onUpdate:modelValue":t[4]||(t[4]=e=>n.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.startDate]])]),fQ,(0,o.Lk)("div",gQ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2","onUpdate:modelValue":t[5]||(t[5]=e=>n.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.endDate]])])])]),(0,o.Lk)("div",kQ,[(0,o.bF)(d,{color:"success",class:"button",onClick:i.searchInputlist},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(d,{color:"warning",class:"button",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.Lk)("div",bQ,[(0,o.Lk)("div",LQ,[(0,o.Lk)("div",vQ,[(0,o.bF)(u,{style:{height:"500px"},rowData:n.inputData,columnDefs:n.columnInputData,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:n.noRowsOverlayComponent,onCellClicked:i.onCellClicked,rowSelection:"multiple",pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onCellClicked"])]),(0,o.Lk)("div",xQ,[(0,o.bF)(p)])])]),(0,o.Lk)("div",null,[(0,o.bF)(c,{isShowModal:n.isShowModal.warehouse,modalTitle:"창고선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[6]||(t[6]=e=>i.closeModal("warehouse")),onConfirm:t[7]||(t[7]=e=>i.confirm("warehouse"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(m,{onSelectwarehouse:i.selectwarehouse},null,8,["onSelectwarehouse"]),[[l.aG,n.isShowModal.warehouse]])])),_:1},8,["isShowModal"])])],64)}var _Q={name:"inputList",components:{MaterialButton:uC,Modal:mo,proList:G$,WarList:tQ,CustomNoRowsOverlay:Hs},data(){return{startDate:"",endDate:"",selectedProName:"",productName:"",selectedProCode:"",productCode:"",inputListsearch:"",originWarehouseName:null,noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,inputData:[],columnInputData:[{headerName:"",headerCheckboxSelection:!0,field:"check",resizable:!1,editable:!0,sortable:!1,checkboxSelection:!0,flex:1,cellStyle:{textAlign:"center"}},{headerName:"완제품코드",field:"product_code",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품명 ",field:"product_name",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"left"}},{headerName:"제품LOT번호 ",field:"product_lot",resizable:!0,sortable:!0,flex:3,cellStyle:{textAlign:"center"}},{headerName:"입고수량 ",field:"input_amount",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"창고위치 ",field:"warehouse_name",editable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right",cursor:"text"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`\n                                    \n                                    <span style="display: flex; align-items: center; justify-content: text-start;">\n                                        <span style="flex-grow: 1; text-align: left;">${t}</span>\n                                        <i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i>\n                                    </span>\n                                `}return'<span><i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i></span>'}},{headerName:"입고날짜 ",field:"input_date",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}}],warehouseCode:"",selectedWarehouseCode:"",warehouseName:"",selectedWarehouseName:"",isShowModal:{client:!1,warehouse:!1}}},methods:{selectproduct(e){this.selectedProCode=e.product_code,this.selectedProName=e.product_name},selectwarehouse(e){this.selectedWarehouseCode=e.warehouse_code,this.selectedWarehouseName=e.warehouse_name},openModal(e){if(this.isShowModal[e]=!0,"warehouse"===e){const e=this.gridApi.getSelectedNodes();e.length>0&&(this.selectedCol=e[0],this.originWarehouseName=this.selectedCol.data.warehouse_name)}},confirm(e){"product"===e?(this.productName=this.selectedProName,this.productCode=this.selectedProCode):"warehouse"===e&&(this.warehouseCode=this.selectedWarehouseCode,this.warehouseName=this.selectedWarehouseName,this.selectedCol.data.warehouse_name=this.warehouseName,this.gridApi.applyTransaction({update:[this.selectedCol.data]})),this.closeModal(e)},closeModal(e){this.isShowModal[e]=!1},dateFormat(e,t){return Ho.dateFormat(e,t)},onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[1];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("button");t.textContent="입고수정",t.style.cursor="pointer",t.style.backgroundColor="#4caf50",t.style.color="white",t.style.border="none",t.style.padding="5px 10px",t.style.borderRadius="4px";const l=document.createElement("button");l.textContent="입고삭제",l.style.cursor="pointer",l.style.backgroundColor="#ff0000",l.style.color="white",l.style.border="none",l.style.padding="5px 10px",l.style.borderRadius="4px";const o=document.createElement("button");o.textContent="초기화",o.style.cursor="pointer",o.style.backgroundColor="#f48a06",o.style.color="white",o.style.border="none",o.style.padding="5px 10px",o.style.borderRadius="4px",t.addEventListener("click",(()=>{this.updateInput()})),l.addEventListener("click",(()=>{this.deleteInput()})),o.addEventListener("click",(()=>{this.resetUpdateInfo()}));const s=document.createElement("input");s.type="text",s.placeholder="검색",s.style.padding="5px",s.style.width="250px",s.style.border="1px solid #ccc",s.style.borderRadius="4px",s.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t),e.appendChild(l),e.appendChild(o),e.appendChild(s),a.insertBefore(e,a.firstChild)}},async searchInputlist(){if(new Date(this.startDate)>new Date(this.endDate))return void this.$notify({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다. ",type:"error"});this.filters={productCode:this.productCode,startDate:this.startDate,endDate:this.endDate};let e=await Re.A.put(`${Ae}/input/inputlist`,this.filters).catch((e=>console.log(e)));this.inputData=e.data,this.inputData=e.data.map((e=>({...e,input_date:this.dateFormat(e.input_date,"yyyy-MM-dd")})))},resetSearch(){this.startDate="",this.endDate="",this.selectedProName="",this.productName="",this.selectedProCode="",this.productCode="",this.inputData=[]},onCellClicked(e){"warehouse_name"===e.colDef.field&&this.openModal("warehouse")},rollbackCellChange(e){let t=e.node.id,a=e.column.colId;if(this.originalValues&&this.originalValues[t]&&void 0!==this.originalValues[t][a]){let l=this.originalValues[t][a];e.node.setDataValue(e.column,l)}},resetUpdateInfo(){this.selectedCol&&(this.selectedCol.data.warehouse_name=this.originWarehouseName,this.gridApi.applyTransaction({update:[this.selectedCol.data]})),this.gridApi.deselectAll(),this.originWarehouseName=null},async updateInput(){const e=this.gridApi.getSelectedRows();let t=[],a=[];e.forEach((e=>{t.push(e.product_lot),a.push(e.warehouse_name)}));let l={productLot:JSON.stringify(t),warehouse:JSON.stringify(a)},o=await Re.A.put(`${Ae}/inputUpdate/update`,l).catch((e=>console.log(e)));!0===o.data.result?(this.$notify({text:"해당 입고건의 수정이 완료되었습니다. ",type:"success"}),window.location.reload()):this.$notify({text:"해당 입고건의 수정을 실패 했습니다. ",type:"error"})},async deleteInput(){const e=this.gridApi.getSelectedRows();let t=[];e.forEach((e=>{t.push(e.product_lot)}));let a={productLot:JSON.stringify(t)},l=await Re.A.put(`${Ae}/input/delete`,a).catch((e=>console.log(e)));!0===l.data.result?(this.$notify({text:"해당 입고건의 삭제가 완료되었습니다. ",type:"success"}),window.location.reload()):this.$notify({text:"해당 입고건의 삭제를 실패 했습니다. ",type:"error"})}}};const CQ=(0,ne.A)(_Q,[["render",wQ],["__scopeId","data-v-4fa0f890"]]);var DQ=CQ;const SQ=e=>((0,o.Qi)("data-v-568e01cc"),e=e(),(0,o.jt)(),e),NQ={class:"container-fluid py-4"},MQ=SQ((()=>(0,o.Lk)("h3",null,"제품재고조회",-1))),RQ={class:"main-container"},AQ={class:"pt-5 pb-5"},IQ={class:"row align-items-center ms-3 mb-3"},EQ=SQ((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"제품명",-1))),FQ={class:"col-sm-6 d-flex align-items-center"},PQ={class:"col-sm-4 text-end"},OQ={class:"container-fluid py-4"},qQ={class:"grid-container"},$Q={style:{display:"none"}},TQ={class:"container-fluid py-4"},jQ={class:"grid-container"},QQ=SQ((()=>(0,o.Lk)("h4",null,"제품별 LOT 조회",-1))),UQ={style:{display:"none"}};function JQ(e,t,a,s,n,i){const r=(0,o.g2)("proList"),c=(0,o.g2)("Modal"),d=(0,o.g2)("material-button"),u=(0,o.g2)("ag-grid-vue"),p=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",NQ,[MQ,(0,o.Lk)("div",RQ,[(0,o.Lk)("div",AQ,[(0,o.Lk)("div",IQ,[EQ,(0,o.Lk)("div",FQ,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control me-2",id:"productName","onUpdate:modelValue":t[0]||(t[0]=e=>n.productName=e),onClick:t[1]||(t[1]=e=>i.openModal()),autocomplete:"off",placeholder:" 제품명"},null,512),[[l.Jo,n.productName]]),(0,o.bF)(c,{isShowModal:n.isShowModal,modalTitle:"제품선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[2]||(t[2]=e=>i.closeModal()),onConfirm:t[3]||(t[3]=e=>i.confirm())},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectproduct:i.selectproduct},null,8,["onSelectproduct"]),[[l.aG,n.isShowModal]])])),_:1},8,["isShowModal"]),(0,o.Lk)("div",PQ,[(0,o.bF)(d,{size:"md",color:"success",class:"me-2",onClick:i.searchProductNum},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(d,{size:"md",color:"warning",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])])])])]),(0,o.Lk)("div",OQ,[(0,o.Lk)("div",null,[(0,o.Lk)("div",qQ,[(0,o.bF)(u,{style:{height:"350px"},rowData:n.productNum,columnDefs:n.columnProductNum,theme:n.theme,onGridReady:i.onReady,onRowClicked:i.onProductLot,quickFilterText:n.inputListsearch,noRowsOverlayComponent:n.noRowsOverlayComponent,rowSelection:"multiple",pagination:!0,paginationPageSize:5,paginationPageSizeSelector:[5,10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","onRowClicked","quickFilterText","noRowsOverlayComponent"])]),(0,o.Lk)("div",$Q,[(0,o.bF)(p)])])]),(0,o.Lk)("div",TQ,[(0,o.Lk)("div",null,[(0,o.Lk)("div",jQ,[QQ,(0,o.bF)(u,{style:{height:"350px"},rowData:n.LotNum,columnDefs:n.columnLotNum,theme:n.theme,onGridReady:i.onReady1,quickFilterText:n.inputListsearch1,noRowsOverlayComponent:n.noRowsOverlayComponent,rowSelection:"multiple",pagination:!0,paginationPageSize:5,paginationPageSizeSelector:[5,10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent"])]),(0,o.Lk)("div",UQ,[(0,o.bF)(p)])])])],64)}var zQ={name:"inputList",components:{MaterialButton:uC,Modal:mo,proList:G$,CustomNoRowsOverlay:Hs},data(){return{selectedProName:"",productName:"",selectedProCode:"",productCode:"",inputListsearch:"",inputListsearch1:"",noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,productNum:[],columnProductNum:[{headerName:"제품코드 ",field:"product_code",flex:1,cellStyle:{textAlign:"center"}},{headerName:"제품명",field:"product_name",flex:1,cellStyle:{textAlign:"left"}},{headerName:"입고수량 ",field:"valid_input_amount",flex:1,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"출고수량 ",field:"valid_output_amount",flex:1,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"입고 취소 수량",field:"canceled_amount",flex:1,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"제품 폐기 수량",field:"disposed_amount",flex:1,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"총 재고",field:"stock_amount",flex:1,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}}],statusList:["보관","폐기","취소"],pickedStatus:[],LotNum:[],columnLotNum:[{headerName:"제품LOT번호 ",field:"product_lot",flex:1,cellStyle:{textAlign:"center"}},{headerName:"제품코드",field:"product_code",flex:1,cellStyle:{textAlign:"center"}},{headerName:"제품명 ",field:"product_name",flex:1,cellStyle:{textAlign:"left"}},{headerName:"제품수량 ",field:"product_quantity",flex:1,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"창고위치 ",field:"warehouse_name",flex:1,cellStyle:{textAlign:"left"}},{headerName:"제조일자 ",field:"manufacturing_date",flex:1,cellStyle:{textAlign:"center"}},{headerName:"유통기한 ",field:"expire_date",flex:1,cellStyle:{textAlign:"center"}},{headerName:"상태",field:"product_status",flex:1,cellStyle:{textAlign:"left"}}],isShowModal:!1}},methods:{selectproduct(e){this.selectedProCode=e.product_code,this.selectedProName=e.product_name},openModal(){this.isShowModal=!0},confirm(){this.productName=this.selectedProName,this.productCode=this.selectedProCode,this.closeModal()},closeModal(){this.isShowModal=!1},onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[1];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t),a.insertBefore(e,a.firstChild)}},onReady1(e){this.gridApi=e.api,e.api.sizeColumnsToFit();const t=document.querySelectorAll(".ag-paging-panel"),a=t[2];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch1=t})),e.appendChild(t),a.insertBefore(e,a.firstChild)}},async searchProductNum(){this.filters={productCode:this.productCode};let e=await Re.A.put(`${Ae}/inventory/product`,this.filters).catch((e=>console.log(e)));this.productNum=e.data},dateFormat(e,t){return Ho.dateFormat(e,t)},async onProductLot(e){let t=await Re.A.get(`${Ae}/inventory/productLot/${e.data.product_code}`).catch((e=>console.log(e)));this.LotNum=t.data,this.LotNum=t.data.map((e=>({...e,manufacturing_date:this.dateFormat(e.manufacturing_date,"yyyy-MM-dd"),expire_date:this.dateFormat(e.expire_date,"yyyy-MM-dd")})))},resetSearch(){this.productName="",this.productCode="",this.productNum=[],this.LotNum=[]}}};const BQ=(0,ne.A)(zQ,[["render",JQ],["__scopeId","data-v-568e01cc"]]);var VQ=BQ;const WQ=e=>((0,o.Qi)("data-v-39e8a3aa"),e=e(),(0,o.jt)(),e),GQ={class:"container-fluid py-4"},XQ=WQ((()=>(0,o.Lk)("h3",null,[(0,o.eW)("제품"),(0,o.Lk)("span",{style:{"font-family":"'Arial'"}},"LOT"),(0,o.eW)("재고조회")],-1))),KQ={class:"main-container"},HQ={class:"ps-4"},YQ={class:"pt-2"},ZQ=WQ((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"LOT재고상태",-1))),eU=["value"],tU={class:"row align-items-center"},aU=WQ((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"유통기한",-1))),lU={class:"col-sm-6 d-flex align-items-center"},oU={class:"col-sm-4"},sU=WQ((()=>(0,o.Lk)("div",{class:"col-sm-1 text-center"},"~",-1))),nU={class:"col-sm-4"},iU={class:"col-sm-4 text-end"},rU={class:"container-fluid py-4"},cU={class:"grid-container"},dU={style:{display:"none"}};function uU(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),u=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",GQ,[XQ,(0,o.Lk)("div",KQ,[(0,o.Lk)("div",HQ,[(0,o.Lk)("div",YQ,[ZQ,(0,o.Lk)("div",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.statusList,(e=>((0,o.uX)(),(0,o.CE)("label",{class:"me-3",key:e},[(0,o.eW)((0,d.v_)(e)+" ",1),(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",value:e,type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>n.pickedStatus=e)},null,8,eU),[[l.lH,n.pickedStatus]])])))),128))])]),(0,o.Lk)("div",tU,[aU,(0,o.Lk)("div",lU,[(0,o.Lk)("div",oU,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2","onUpdate:modelValue":t[1]||(t[1]=e=>n.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.startDate]])]),sU,(0,o.Lk)("div",nU,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2","onUpdate:modelValue":t[2]||(t[2]=e=>n.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.endDate]])]),(0,o.Lk)("div",iU,[(0,o.bF)(r,{size:"md",color:"success",class:"button",onClick:i.searchLotNum},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",color:"warning",class:"button",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])])])])]),(0,o.Lk)("div",rU,[(0,o.Lk)("div",null,[(0,o.Lk)("div",cU,[(0,o.bF)(c,{style:{height:"600px"},rowData:n.LotNum,columnDefs:n.columnLotNum,theme:n.theme,onGridReady:i.onReady1,quickFilterText:n.inputListsearch1,noRowsOverlayComponent:n.noRowsOverlayComponent,rowSelection:"multiple",pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent"])]),(0,o.Lk)("div",dU,[(0,o.bF)(u)])])])],64)}var pU={name:"inputList",components:{MaterialButton:uC,CustomNoRowsOverlay:Hs},data(){return{startDate:"",endDate:"",inputListsearch1:"",noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,statusList:["보관","폐기","취소","소진"],pickedStatus:[],LotNum:[],columnLotNum:[{headerName:"제품LOT번호 ",field:"product_lot",resizable:!0,sortable:!0,flex:3,cellStyle:{textAlign:"center"}},{headerName:"제품코드",field:"product_code",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품명 ",field:"product_name",resizable:!0,sortable:!0,flex:3,cellStyle:{textAlign:"left"}},{headerName:"제품수량 ",field:"product_quantity",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"창고위치 ",field:"warehouse_name",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"left"}},{headerName:"제조일자 ",field:"manufacturing_date",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}},{headerName:"유통기한 ",field:"expire_date",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}},{headerName:"상태",field:"product_status",resizable:!0,sortable:!0,flex:1,cellStyle:{textAlign:"left"}},{headerName:"폐기",field:"status",editable:!1,flex:1,cellStyle:{textAlign:"center"},cellRenderer:e=>{const t=e.data.expire_date,a=e.data.product_status,l=new Date;if(new Date(t)<=l&&"보관"===a){const t=document.createElement("button");return t.innerText="폐기",t.style.marginRight="10px",t.style.cursor="pointer",t.style.backgroundColor="#f44335",t.style.width="60px",t.style.height="30px",t.style.color="white",t.style.border="none",t.style.padding="0",t.style.borderRadius="4px",t.style.textAlign="center",t.style.lineHeight="30px",t.addEventListener("click",(()=>{this.renderButton(e)})),t}}}],isShowModal:!1}},methods:{onReady1(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[0];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch1=t})),e.appendChild(t),a.insertBefore(e,a.firstChild)}},async searchLotNum(){if(new Date(this.startDate)>new Date(this.endDate))return void this.$notify({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다. ",type:"error"});this.filters={productStatus:this.pickedStatus,startDate:this.startDate,endDate:this.endDate};let e=await Re.A.put(`${Ae}/inventory/lot`,this.filters).catch((e=>console.log(e)));this.LotNum=e.data,this.LotNum=e.data.map((e=>({...e,manufacturing_date:this.dateFormat(e.manufacturing_date,"yyyy-MM-dd"),expire_date:this.dateFormat(e.expire_date,"yyyy-MM-dd")})))},dateFormat(e,t){return Ho.dateFormat(e,t)},async renderButton(e){let t={disposeLots:e.data.product_lot},a=await Re.A.put(`${Ae}/inventory/dispose`,t).catch((e=>console.log(e)));!0===a.data.result?(this.$notify({text:"해당 LOT는 폐기 되었습니다. ",type:"success"}),window.location.reload()):this.$notify({text:"해당 LOT는 폐기 처리 실패 했습니다. ",type:"error"})},resetSearch(){this.startDate="",this.endDate="",this.pickedStatus=[],this.LotNum=[]}}};const mU=(0,ne.A)(pU,[["render",uU],["__scopeId","data-v-39e8a3aa"]]);var hU=mU;const yU=e=>((0,o.Qi)("data-v-16e0fc85"),e=e(),(0,o.jt)(),e),fU={class:"container-fluid py-4"},gU=yU((()=>(0,o.Lk)("h3",null,"제품반품 등록",-1))),kU=yU((()=>(0,o.Lk)("h4",{class:"pt-2"},"주문서 조회",-1))),bU={class:"main-container"},LU={class:"pt-5 pb-5"},vU={class:"row align-items-center ms-3 mb-3"},xU=yU((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"거래처명",-1))),wU={class:"col-sm-6 d-flex align-items-center"},_U={class:"col-sm-4"},CU={class:"col-sm-4 text-end"},DU={class:"grid-container"},SU={style:{display:"none"}},NU={class:"container-fluid py-4"},MU=yU((()=>(0,o.Lk)("h4",null,"출고 완료 된 주문 조회",-1))),RU={class:"d-flex"},AU={class:"grid-container"},IU={style:{display:"none"}},EU={class:"select-container"},FU={class:"form-section"},PU={class:"d-flex flex-column justify-content-center ps-5 pt-5"},OU={class:"row align-items-center mb-3"},qU=yU((()=>(0,o.Lk)("label",{class:"col-sm-3 col-form-label fw-bold"},[(0,o.eW)("담당자"),(0,o.Lk)("span",null," *")],-1))),$U={class:"col-sm-9 d-flex align-items-center"},TU={class:"row align-items-center mb-3"},jU={class:"form-section mb-4"},QU=yU((()=>(0,o.Lk)("label",{class:"col-sm-3 col-form-label fw-bold"},[(0,o.eW)("반품수량"),(0,o.Lk)("span",null," *")],-1))),UU={class:"col-sm-9 d-flex align-items-center"},JU={class:"row align-items-center mb-3"},zU={class:"form-section"},BU=yU((()=>(0,o.Lk)("label",{class:"col-sm-3 col-form-label fw-bold"},[(0,o.eW)("반품사유"),(0,o.Lk)("span",null," *")],-1))),VU={class:"col-sm-9 d-flex align-items-center"},WU={class:"text-center"};function GU(e,t,a,s,n,i){const r=(0,o.g2)("ComList"),c=(0,o.g2)("Modal"),d=(0,o.g2)("material-button"),u=(0,o.g2)("ag-grid-vue"),p=(0,o.g2)("CustomNoRowsOverlay"),m=(0,o.g2)("EmpList"),h=(0,o.g2)("ReturnList");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",fU,[gU,kU,(0,o.Lk)("div",bU,[(0,o.Lk)("div",LU,[(0,o.Lk)("div",vU,[xU,(0,o.Lk)("div",wU,[(0,o.Lk)("div",_U,[(0,o.bo)((0,o.Lk)("input",{id:"clientSearch",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchCom.com_name=e),onClick:t[1]||(t[1]=e=>i.openModal("client")),autocomplete:"off",placeholder:" 거래처명"},null,512),[[l.Jo,n.searchCom.com_name]]),(0,o.bF)(c,{isShowModal:n.isShowModal.client,modalTitle:"거래처선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[2]||(t[2]=e=>i.closeModal("client")),onConfirm:t[3]||(t[3]=e=>i.confirm("client"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectclient:i.selectclient},null,8,["onSelectclient"]),[[l.aG,n.isShowModal.client]])])),_:1},8,["isShowModal"])]),(0,o.Lk)("div",CU,[(0,o.bF)(d,{size:"md",color:"success",class:"me-2",onClick:i.searchOrderlists},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(d,{size:"md",color:"warning",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])])])])]),(0,o.Lk)("div",DU,[(0,o.bF)(u,{rowData:n.rowData,columnDefs:n.columnOrderlist,theme:n.theme,onGridReady:i.onReady,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.onOrderRowClicked,quickFilterText:n.inputListsearch,rowSelection:"multiple",pagination:!0,paginationPageSize:5,paginationPageSizeSelector:[5,10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","noRowsOverlayComponent","onRowClicked","quickFilterText"])]),(0,o.Lk)("div",SU,[(0,o.bF)(p)]),(0,o.Lk)("div",NU,[MU,(0,o.Lk)("div",RU,[(0,o.Lk)("div",AU,[(0,o.bF)(u,{style:{width:"900px",height:"500px"},rowData:n.rowDataOutputOrder,columnDefs:n.columnOutputOrder,theme:n.theme,onGridReady:i.onReady1,quickFilterText:n.inputListsearch1,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:i.onOutputReturn,rowSelection:"multiple",pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",IU,[(0,o.bF)(p)]),(0,o.bo)((0,o.Lk)("div",EU,[(0,o.Lk)("div",FU,[(0,o.Lk)("div",PU,[(0,o.Lk)("div",OU,[qU,(0,o.Lk)("div",$U,[(0,o.bo)((0,o.Lk)("input",{id:"EmpName",class:"form-control border p-2","onUpdate:modelValue":t[4]||(t[4]=e=>n.searchEmpName=e),onClick:t[5]||(t[5]=e=>i.openModal("emp")),autocomplete:"off"},null,512),[[l.Jo,n.searchEmpName]]),(0,o.bF)(c,{isShowModal:n.isShowModal.emp,modalTitle:"담당자선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[6]||(t[6]=e=>i.closeModal("emp")),onConfirm:t[7]||(t[7]=e=>i.confirm("emp"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(m,{onSelectemp:i.selectemp},null,8,["onSelectemp"]),[[l.aG,n.isShowModal.emp]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",TU,[(0,o.Lk)("div",jU,[QU,(0,o.Lk)("div",UU,[(0,o.bo)((0,o.Lk)("input",{id:"returnNum",class:"form-control border p-2",autocomplete:"off","onUpdate:modelValue":t[8]||(t[8]=t=>e.returnNum=t),placeholder:" 반품수량"},null,512),[[l.Jo,e.returnNum]])])])]),(0,o.Lk)("div",JU,[(0,o.Lk)("div",zU,[BU,(0,o.Lk)("div",VU,[(0,o.bo)((0,o.Lk)("input",{id:"ReturnReason",class:"form-control border p-2","onUpdate:modelValue":t[9]||(t[9]=e=>n.searchReturnReason=e),onClick:t[10]||(t[10]=e=>i.openModal("returns")),autocomplete:"off",placeholder:"반품사유"},null,512),[[l.Jo,n.searchReturnReason]]),(0,o.bF)(c,{isShowModal:n.isShowModal.returns,modalTitle:"반품사유",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[11]||(t[11]=e=>i.closeModal("returns")),onConfirm:t[12]||(t[12]=e=>i.confirm("returns"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(h,{onSelectreturn:i.selectreturn},null,8,["onSelectreturn"]),[[l.aG,n.isShowModal.returns]])])),_:1},8,["isShowModal"])])])])])]),(0,o.Lk)("div",WU,[(0,o.bF)(d,{color:"success",class:"me-3",onClick:i.returninstall},{default:(0,o.k6)((()=>[(0,o.eW)("등록")])),_:1},8,["onClick"]),(0,o.bF)(d,{color:"warning",onClick:i.resetReturn},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])],512),[[l.aG,0!=n.rowDataOutputOrder.length]])])])],64)}const XU={class:"grid-container"},KU={style:{display:"none"}};function HU(e,t,a,s,n,i){const r=(0,o.g2)("ag-grid-vue"),c=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.inputListsearch=e),class:"text-center styled-input",placeholder:"반품코드 & 반품이유 입력하세요"},null,512),[[l.Jo,n.inputListsearch]]),(0,o.Lk)("div",XU,[(0,o.bF)(r,{rowData:n.rowData,columnDefs:n.columnReturnlist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:e.noRowsOverlayComponent,onRowClicked:i.selectreturn,rowSelection:"single"},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",KU,[(0,o.bF)(c)])],64)}var YU={name:"ReturnList",data(){return{rowData:[],selectedReturnCode:"",selectedReturnReason:"",theme:ko,columnReturnlist:[{headerName:"반품코드",field:"return_code",resizable:!0,sortable:!0},{headerName:"반품이유",field:"return_reason",resizable:!0,sortable:!0}],inputListsearch:""}},created(){this.getReturnList()},methods:{async getReturnList(){let e=await Re.A.get(`${Ae}/return`).catch((e=>console.log(e)));this.rowData=e.data,console.log(this.returnList)},selectreturn(e){const t=e.data;this.$emit("selectreturn",t)},onReady(e){this.gridApi=e.api,e.api.sizeColumnsToFit();const t=document.querySelectorAll(".ag-paging-panel"),a=t[0];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t)}}}};const ZU=(0,ne.A)(YU,[["render",HU],["__scopeId","data-v-0a249b92"]]);var eJ=ZU,tJ={name:"orderlistSearch",components:{MaterialButton:uC,Modal:mo,ComList:O$,EmpList:U$,ReturnList:eJ,CustomNoRowsOverlay:Hs},data(){return{testing:{},searchCom:"",selectedCom:"",inputListsearch:"",inputListsearch1:"",statusMap:{update:"등록",continue:"진행중",done:"완료"},noRowsOverlayComponent:"CustomNoRowsOverlay",filteredOrderlist:[],theme:ko,rowData:[],columnOrderlist:[{headerName:"주문서번호",field:"orderlist_num",flex:2,cellStyle:{textAlign:"right"}},{headerName:"주문서명",field:"orderlist_title",flex:4,cellStyle:{textAlign:"left"}},{headerName:"거래처명",field:"com_name",flex:2,cellStyle:{textAlign:"left"}},{headerName:"담당자",field:"name",flex:3,cellStyle:{textAlign:"left"}},{headerName:"주문일자",field:"order_date",flex:2,cellStyle:{textAlign:"center"}},{headerName:"납기일자",field:"due_date",flex:2,cellStyle:{textAlign:"center"}},{headerName:"진행상태",field:"orderlist_status",flex:2,cellStyle:{textAlign:"left"}}],rowDataOutputOrder:[],columnOutputOrder:[{headerName:"주문번호",field:"order_num",flex:2,cellStyle:{textAlign:"right"}},{headerName:"출고번호",field:"output_num",flex:2,cellStyle:{textAlign:"right"}},{headerName:"제품코드",field:"product_code",flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품명",field:"product_name",flex:3,cellStyle:{textAlign:"left"}},{headerName:"주문수량",field:"order_amount",flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"출고량",field:"output_amount",flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"개당가격",field:"per_price",flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"출고날짜",field:"output_date",flex:2,cellStyle:{textAlign:"center"}}],searchEmpName:"",selectedEmpName:"",searchEmpNum:"",selectedEmpNum:"",selectedReturnCode:"",searchReturnCode:"",selectedReturnReason:"",searchReturnReason:"",productCode:"",outputNum:"",outputAmount:"",clientNum:"",isShowModal:{client:!1,emp:!1}}},mounted(){this.test()},methods:{...(0,oe.PY)(["addLoginInfo"]),test(){this.testing=this.$store.state.loginInfo,this.searchEmpName=this.$store.state.loginInfo.name,this.searchEmpNum=this.$store.state.loginInfo.emp_num},selectclient(e){this.selectedCom=e},selectemp(e){this.selectedEmpName=e.name,this.selectedEmpNum=e.emp_num},selectreturn(e){this.selectedReturnCode=e.return_code,this.selectedReturnReason=e.return_reason},openModal(e){this.isShowModal[e]=!0},confirm(e){"client"===e?this.searchCom=this.selectedCom:"emp"===e?(this.searchEmpName=this.selectedEmpName,this.searchEmpNum=this.selectedEmpNum):"returns"===e&&(this.searchReturnCode=this.selectedReturnCode,this.searchReturnReason=this.selectedReturnReason),this.closeModal(e)},closeModal(e){this.isShowModal[e]=!1},resetSearch(){this.searchCom="",this.rowData=[],this.rowDataOutputOrder=[],this.searchEmpName="",this.searchEmpNum="",this.returnNum="",this.searchReturnReason="",this.searchReturnCode=""},async searchOrderlists(){this.filters={clientName:this.searchCom};let e=await Re.A.put(`${Ae}/orderlist/search`,this.filters).catch((e=>console.log(e)));this.rowData=e.data,this.rowData=e.data.map((e=>({...e,order_date:this.dateFormat(e.order_date,"yyyy-MM-dd"),due_date:this.dateFormat(e.due_date,"yyyy-MM-dd"),orderlist_status:this.statusMap[e.orderlist_status]})))},dateFormat(e,t){return Ho.dateFormat(e,t)},onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[1];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t),a.insertBefore(e,a.firstChild)}},onReady1(e){this.gridApi=e.api,e.api.sizeColumnsToFit();const t=document.querySelectorAll(".ag-paging-panel"),a=t[2];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch1=t})),e.appendChild(t),a.insertBefore(e,a.firstChild)}},async onOrderRowClicked(e){let t=e.data,a=await Re.A.get(`${Ae}/shippedOrderInfo/${t.orderlist_num}`).catch((e=>console.log(e)));this.rowDataOutputOrder=a.data,this.rowDataOutputOrder=a.data.map((t=>({...t,output_date:this.dateFormat(t.output_date,"yyyy-MM-dd"),com_name:e.data.com_name})))},onOutputReturn(e){let t=e.data;this.outputAmount=t.output_amount,this.productCode=t.product_code,this.outputNum=t.output_num,this.clientNum=t.client_num},async returninstall(){if(this.outputAmount<this.returnNum)return void this.$notify({text:"출고량보다 반품량이 많습니다.",type:"error"});let e={client_num:this.clientNum,product_code:this.productCode,return_num:Number(this.returnNum),return_code:this.searchReturnCode,emp_num:this.searchEmpNum,output_num:this.outputNum},t=await Re.A.post(`${Ae}/return/insert`,e).catch((e=>console.log(e)));"OK"===t.statusText&&(this.$notify({text:"반품처리가 완료되었습니다.",type:"success"}),window.location.reload())},resetReturn(){this.searchEmpName="",this.searchEmpNum="",this.returnNum="",this.searchReturnReason="",this.searchReturnCode=""}}};const aJ=(0,ne.A)(tJ,[["render",GU],["__scopeId","data-v-16e0fc85"]]);var lJ=aJ;const oJ=e=>((0,o.Qi)("data-v-2b4f44b3"),e=e(),(0,o.jt)(),e),sJ={class:"container-fluid py-4"},nJ=oJ((()=>(0,o.Lk)("h3",null,"제품반품조회",-1))),iJ={class:"main-container ps-4"},rJ={class:"pt-5 pb-5"},cJ={class:"row align-items-center mb-3"},dJ=oJ((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"거래처명",-1))),uJ={class:"col-sm-4"},pJ={class:"row align-items-center mb-5"},mJ=oJ((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"반품일자",-1))),hJ={class:"col-sm-4"},yJ=oJ((()=>(0,o.Lk)("div",{class:"col-sm-1 text-center"},"~",-1))),fJ={class:"col-sm-4"},gJ={class:"pb-3 text-center"},kJ={class:"grid-container"},bJ={style:{display:"none"}};function LJ(e,t,a,s,n,i){const r=(0,o.g2)("ComList"),c=(0,o.g2)("Modal"),d=(0,o.g2)("material-button"),u=(0,o.g2)("ag-grid-vue"),p=(0,o.g2)("CustomNoRowsOverlay"),m=(0,o.g2)("ReturnList",!0);return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",sJ,[nJ,(0,o.Lk)("div",iJ,[(0,o.Lk)("div",rJ,[(0,o.Lk)("div",cJ,[dJ,(0,o.Lk)("div",uJ,[(0,o.bo)((0,o.Lk)("input",{id:"clientSearch",class:"form-control border p-2","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchCom.com_name=e),onClick:t[1]||(t[1]=e=>i.openModal("client")),autocomplete:"off",placeholder:" 거래처명"},null,512),[[l.Jo,n.searchCom.com_name]]),(0,o.bF)(c,{isShowModal:n.isShowModal.client,modalTitle:"거래처선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[2]||(t[2]=e=>i.closeModal("client")),onConfirm:t[3]||(t[3]=e=>i.confirm("client"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectclient:i.selectclient},null,8,["onSelectclient"]),[[l.aG,n.isShowModal.client]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",pJ,[mJ,(0,o.Lk)("div",hJ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2","onUpdate:modelValue":t[4]||(t[4]=e=>n.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.startDate]])]),yJ,(0,o.Lk)("div",fJ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2","onUpdate:modelValue":t[5]||(t[5]=e=>n.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.endDate]])])])]),(0,o.Lk)("div",gJ,[(0,o.bF)(d,{size:"sm",color:"success",class:"button",onClick:i.searchOrderlists},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(d,{size:"sm",color:"warning",class:"button",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.Lk)("div",kJ,[(0,o.bF)(u,{style:{height:"450px"},rowData:n.rowData,columnDefs:n.columnOrderlist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:e.onOrderRowClicked,onCellClicked:i.onCellClicked,rowSelection:"multiple",pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked","onCellClicked"])]),(0,o.Lk)("div",bJ,[(0,o.bF)(p)]),(0,o.Lk)("div",null,[(0,o.bF)(c,{isShowModal:n.isShowModal.returns,modalTitle:"반품사유",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[6]||(t[6]=e=>i.closeModal("returns")),onConfirm:t[7]||(t[7]=e=>i.confirm("returns"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(m,{onSelectreturn:i.selectreturn},null,8,["onSelectreturn"]),[[l.aG,n.isShowModal.returns]])])),_:1},8,["isShowModal"])])],64)}var vJ={name:"orderlistSearch",components:{MaterialButton:uC,Modal:mo,ComList:O$,ReturnList:eJ,CustomNoRowsOverlay:Hs},data(){return{originalValue:null,originalReturnReason:null,originalReturnCode:null,startDate:"",endDate:"",searchCom:"",selectedCom:"",selectedReturnCode:"",searchReturnCode:"",selectedReturnReason:"",searchReturnReason:"",inputListsearch:"",noRowsOverlayComponent:"CustomNoRowsOverlay",filteredOrderlist:[],theme:ko,rowData:[],columnOrderlist:[{headerName:"",headerCheckboxSelection:!0,field:"check",resizable:!1,editable:!0,sortable:!1,checkboxSelection:!0,flex:1,cellStyle:{textAlign:"center"}},{headerName:"반품번호",field:"returnlist_num",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right"}},{headerName:"출고번호",field:"output_num",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right"}},{headerName:"거래처명",field:"com_name",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"left"}},{headerName:"제품LOT번호",field:"product_lot",resizable:!0,sortable:!0,flex:3,cellStyle:{textAlign:"center"}},{headerName:"제품코드",field:"product_code",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품명",field:"product_name",resizable:!0,sortable:!0,flex:3,cellStyle:{textAlign:"left"}},{headerName:"출고량",field:"output_amount",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"반품량",field:"return_num",editable:!0,resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"right",cursor:"text"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`\n                                    <span style="display: flex; align-items: center; justify-content: flex-start;">\n                                        <i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i>\n                                        <span style="flex-grow: 1; text-align: right;">${t}</span>\n                                    </span>\n                                `}return'<span><i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i></span>'}},{headerName:"담당자",field:"name",resizable:!0,sortable:!0,flex:2,cellStyle:{textAlign:"left"}},{headerName:"반품날짜",field:"return_date",resizable:!0,sortable:!0,flex:3,cellStyle:{textAlign:"center"}},{headerName:"반품사유",field:"return_reason",resizable:!0,sortable:!0,flex:4,cellStyle:{textAlign:"right",cursor:"text"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`\n                                    <span style="display: flex; align-items: center; justify-content: text-start;">\n                                        <span style="flex-grow: 1;  text-align: left;">${t}</span>\n                                        <i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i>\n                                    </span>\n                                `}return'<span><i class="fas fa-edit" style="color:#6c757d88" title="더블클릭하여 수정 가능합니다"></i></span>'}}],isShowModal:{client:!1}}},methods:{onCellClicked(e){e.colDef.editable&&(this.originalValues||(this.originalValues={}),this.originalValues[e.node.id]=this.originalValues[e.node.id]||{},this.originalValues[e.node.id][e.column.colId]=e.value),"return_reason"===e.colDef.field&&this.openModal("returns")},rollbackCellChange(e){let t=e.node.id,a=e.column.colId;if(this.originalValues&&this.originalValues[t]&&void 0!==this.originalValues[t][a]){let l=this.originalValues[t][a];e.node.setDataValue(e.column,l)}},rollbackEdit(){this.originalValues&&this.gridApi.forEachNode((e=>{Object.keys(this.originalValues[e.id]||{}).forEach((t=>{const a=this.originalValues[e.id][t];e.setDataValue(t,a)}))})),this.selectedCol&&(this.selectedCol.data.return_reason=this.originalReturnReason,this.selectedCol.data.return_code=this.originalReturnCode,this.gridApi.applyTransaction({update:[this.selectedCol.data]})),this.gridApi.deselectAll(),this.originalValue=null,this.originalReturnReason=null,this.originalReturnCode=null},selectclient(e){this.selectedCom=e},selectreturn(e){this.selectedReturnCode=e.return_code,this.selectedReturnReason=e.return_reason},openModal(e){if(this.isShowModal[e]=!0,"returns"===e){const e=this.gridApi.getSelectedNodes();e.length>0?(this.selectedCol=e[0],this.originalReturnReason=this.selectedCol.data.return_reason,this.originalReturnCode=this.selectedCol.data.return_code):console.log("선택된 셀이 없습니다.")}},confirm(e){"client"===e?this.searchCom=this.selectedCom:"returns"===e&&(this.searchReturnCode=this.selectedReturnCode,this.searchReturnReason=this.selectedReturnReason,this.selectedCol.data.return_reason=this.searchReturnReason,this.selectedCol.data.return_code=this.searchReturnCode,this.gridApi.applyTransaction({update:[this.selectedCol.data]})),this.closeModal(e)},closeModal(e){this.isShowModal[e]=!1},resetSearch(){this.searchCom="",this.startDate="",this.endDate="",this.rowData=[]},async searchOrderlists(){if(this.filters={clientName:this.searchCom,startDate:this.startDate,endDate:this.endDate},new Date(this.filters.startDate)>new Date(this.filters.endDate))return void this.$notify({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다. ",type:"error"});let e=await Re.A.put(`${Ae}/return/search`,this.filters).catch((e=>console.log(e)));this.rowData=e.data,this.rowData=e.data.map((e=>({...e,return_date:this.dateFormat(e.return_date,"yyyy-MM-dd")})))},dateFormat(e,t){return Ho.dateFormat(e,t)},onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[1];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("button");t.textContent="반품수정",t.style.cursor="pointer",t.style.backgroundColor="#4caf50",t.style.color="white",t.style.border="none",t.style.padding="5px 10px",t.style.borderRadius="4px";const l=document.createElement("button");l.textContent="반품삭제",l.style.cursor="pointer",l.style.backgroundColor="#ff0000",l.style.color="white",l.style.border="none",l.style.padding="5px 10px",l.style.borderRadius="4px";const o=document.createElement("button");o.textContent="초기화",o.style.cursor="pointer",o.style.backgroundColor="#f48a06",o.style.color="white",o.style.border="none",o.style.padding="5px 10px",o.style.borderRadius="4px",t.addEventListener("click",(()=>{this.updateReturn()})),l.addEventListener("click",(()=>{this.deleteReturn()})),o.addEventListener("click",(()=>{this.rollbackEdit()}));const s=document.createElement("input");s.type="text",s.placeholder="검색",s.style.padding="5px",s.style.width="250px",s.style.border="1px solid #ccc",s.style.borderRadius="4px",s.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t),e.appendChild(l),e.appendChild(o),e.appendChild(s),a.insertBefore(e,a.firstChild)}},async updateReturn(){const e=this.gridApi.getSelectedRows();let t=[],a=[],l=[];for(const n of e){if(n.return_num>n.output_amount)return void this.$notify({text:"반품 갯수가 출고 갯수보다 많습니다",type:"error"});t.push(n.returnlist_num),a.push(n.return_num),l.push(n.return_code)}let o={returnlistNum:JSON.stringify(Number(t)),returnNum:JSON.stringify(Number(a)),returnCode:JSON.stringify(l)},s=await Re.A.put(`${Ae}/returnUpdate/update`,o).catch((e=>console.log(e)));!0===s.data.result?(this.$notify({text:"해당 반품건의 수정이 완료되었습니다. ",type:"success"}),window.location.reload()):this.$notify({text:"해당 반품건의 수정을 실패 했습니다. ",type:"error"})},async deleteReturn(){const e=this.gridApi.getSelectedRows();let t=[];e.forEach((e=>{t.push(e.returnlist_num)}));let a={returnlistNum:JSON.stringify(t)},l=await Re.A.put(`${Ae}/return/delete`,a).catch((e=>console.log(e)));!0===l.data.result?(this.$notify({text:"해당 반품품건의 삭제 완료되었습니다. ",type:"success"}),window.location.reload()):this.$notify({text:"해당 반품건의 삭제을 실패 했습니다. ",type:"error"})}}};const xJ=(0,ne.A)(vJ,[["render",LJ],["__scopeId","data-v-2b4f44b3"]]);var wJ=xJ;const _J=e=>((0,o.Qi)("data-v-726ffbf7"),e=e(),(0,o.jt)(),e),CJ={class:"container-fluid py-4"},DJ=_J((()=>(0,o.Lk)("h3",null,"제품출고조회",-1))),SJ={class:"main-container ps-4"},NJ={class:"pt-5 pb-5"},MJ={class:"row align-items-center mb-3"},RJ=_J((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"거래처명",-1))),AJ={class:"col-sm-4"},IJ={class:"row align-items-center mb-3"},EJ=_J((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"제품명",-1))),FJ={class:"col-sm-4"},PJ={class:"row align-items-center mb-3"},OJ=_J((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"주문서명",-1))),qJ={class:"col-sm-6"},$J={class:"row align-items-center mb-5"},TJ=_J((()=>(0,o.Lk)("label",{class:"col-sm-2 col-form-label fw-bold"},"출고일자",-1))),jJ={class:"col-sm-4"},QJ=_J((()=>(0,o.Lk)("div",{class:"col-sm-1 text-center"},"~",-1))),UJ={class:"col-sm-4"},JJ={class:"pb-3 text-center"},zJ={class:"grid-container"},BJ={style:{display:"none"}};function VJ(e,t,a,s,n,i){const r=(0,o.g2)("ComList"),c=(0,o.g2)("Modal"),d=(0,o.g2)("proList"),u=(0,o.g2)("material-button"),p=(0,o.g2)("ag-grid-vue"),m=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",CJ,[DJ,(0,o.Lk)("div",SJ,[(0,o.Lk)("div",NJ,[(0,o.Lk)("div",MJ,[RJ,(0,o.Lk)("div",AJ,[(0,o.bo)((0,o.Lk)("input",{id:"clientSearch",class:"form-control border p-2","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchCom.com_name=e),onClick:t[1]||(t[1]=e=>i.openModal("client")),autocomplete:"off",placeholder:"거래처명"},null,512),[[l.Jo,n.searchCom.com_name]]),(0,o.bF)(c,{isShowModal:n.isShowModal.client,modalTitle:"거래처선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[2]||(t[2]=e=>i.closeModal("client")),onConfirm:t[3]||(t[3]=e=>i.confirm("client"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(r,{onSelectclient:i.selectclient},null,8,["onSelectclient"]),[[l.aG,n.isShowModal.client]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",IJ,[EJ,(0,o.Lk)("div",FJ,[(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control",id:"productName",placeholder:"제품명","onUpdate:modelValue":t[4]||(t[4]=e=>n.productName=e),onClick:t[5]||(t[5]=e=>i.openModal("product")),autocomplete:"off"},null,512),[[l.Jo,n.productName]]),(0,o.bF)(c,{isShowModal:n.isShowModal.product,modalTitle:"제품선택",noBtn:"닫기",yesBtn:"선택",onCloseModal:t[6]||(t[6]=e=>i.closeModal("product")),onConfirm:t[7]||(t[7]=e=>i.confirm("product"))},{list:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(d,{onSelectproduct:i.selectproduct,indexNum:e.indexNum},null,8,["onSelectproduct","indexNum"]),[[l.aG,n.isShowModal.product]])])),_:1},8,["isShowModal"])])]),(0,o.Lk)("div",PJ,[OJ,(0,o.Lk)("div",qJ,[(0,o.bo)((0,o.Lk)("input",{id:"orderSearch",class:"form-control border p-2","onUpdate:modelValue":t[8]||(t[8]=e=>n.orderName=e),autocomplete:"off",placeholder:"주문서명"},null,512),[[l.Jo,n.orderName]])])]),(0,o.Lk)("div",$J,[TJ,(0,o.Lk)("div",jJ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2","onUpdate:modelValue":t[9]||(t[9]=e=>n.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.startDate]])]),QJ,(0,o.Lk)("div",UJ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2","onUpdate:modelValue":t[10]||(t[10]=e=>n.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.endDate]])])])]),(0,o.Lk)("div",JJ,[(0,o.bF)(u,{color:"success",class:"button",onClick:i.searchOrderlists},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(u,{color:"warning",class:"button",onClick:i.resetSearch},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.Lk)("div",zJ,[(0,o.bF)(p,{style:{height:"600px"},rowData:n.rowData,columnDefs:n.columnOrderlist,theme:n.theme,onGridReady:i.onReady,quickFilterText:n.inputListsearch,noRowsOverlayComponent:n.noRowsOverlayComponent,onRowClicked:e.onOrderRowClicked,rowSelection:"multiple",pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]},null,8,["rowData","columnDefs","theme","onGridReady","quickFilterText","noRowsOverlayComponent","onRowClicked"])]),(0,o.Lk)("div",BJ,[(0,o.bF)(m)])],64)}var WJ={name:"orderlistSearch",components:{MaterialButton:uC,Modal:mo,proList:G$,ComList:O$,CustomNoRowsOverlay:Hs},data(){return{orderName:"",startDate:"",endDate:"",searchCom:"",selectedCom:"",selectedProName:"",productName:"",selectedProCode:"",productCode:"",noRowsOverlayComponent:"CustomNoRowsOverlay",filteredOrderlist:[],theme:ko,rowData:[],columnOrderlist:[{headerName:"출고번호",field:"output_num",flex:2,cellStyle:{textAlign:"right"}},{headerName:"주문서명",field:"orderlist_title",flex:4,cellStyle:{textAlign:"left"}},{headerName:"거래처명",field:"com_name",flex:3,cellStyle:{textAlign:"left"}},{headerName:"제품코드",field:"product_code",flex:2,cellStyle:{textAlign:"center"}},{headerName:"제품명",field:"product_name",flex:3,cellStyle:{textAlign:"left"}},{headerName:"제품LOT번호",field:"product_lot",flex:3,cellStyle:{textAlign:"center"}},{headerName:"출고수량",field:"output_amount",flex:2,cellStyle:{textAlign:"right"},cellRenderer:e=>{if(e.value){const t=e.value.toLocaleString();return`<span>${t}</span>`}}},{headerName:"출고날짜",field:"output_date",flex:3,cellStyle:{textAlign:"center"}}],inputListsearch:"",isShowModal:{client:!1,emp:!1,product:!1}}},methods:{selectclient(e){this.selectedCom=e},selectproduct(e){this.selectedProCode=e.product_code,this.selectedProName=e.product_name},openModal(e){this.isShowModal[e]=!0},confirm(e){"client"===e?this.searchCom=this.selectedCom:"product"===e&&(this.productName=this.selectedProName,this.productCode=this.selectedProCode),this.closeModal(e)},closeModal(e){this.isShowModal[e]=!1},resetSearch(){this.searchCom="",this.orderName="",this.startDate="",this.endDate="",this.productName="",this.productCode="",this.orderData={},this.rowData=[],this.searchEmpName=""},async searchOrderlists(){if(this.filters={clientName:this.searchCom,productCode:this.productCode,orderName:this.orderName,startDate:this.startDate,endDate:this.endDate},new Date(this.filters.startDate)>new Date(this.filters.endDate))return void this.$notify({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다. ",type:"error"});let e=await Re.A.put(`${Ae}/outputList/search`,this.filters).catch((e=>console.log(e)));this.rowData=e.data,this.rowData=e.data.map((e=>({...e,output_date:this.dateFormat(e.output_date,"yyyy-MM-dd")})))},dateFormat(e,t){return Ho.dateFormat(e,t)},onReady(e){this.gridApi=e.api;const t=document.querySelectorAll(".ag-paging-panel"),a=t[2];if(a){const e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";const t=document.createElement("input");t.type="text",t.placeholder="검색",t.style.padding="5px",t.style.width="250px",t.style.border="1px solid #ccc",t.style.borderRadius="4px",t.addEventListener("input",(e=>{const t=e.target.value;this.inputListsearch=t})),e.appendChild(t),a.insertBefore(e,a.firstChild)}}}};const GJ=(0,ne.A)(WJ,[["render",VJ],["__scopeId","data-v-726ffbf7"]]);var XJ=GJ;const KJ=(e,t)=>{ot.state.loginInfo.name?1!==ot.state.loginInfo.job_num&&3!==ot.state.loginInfo.level?((0,Te.me)({title:"로그인요청",text:"영업팀 또는 관리자만 접속 가능합니다.",type:"error"}),t(!1)):t():((0,Te.me)({title:"로그인요청",text:"로그인이 필요한 페이지입니다.",type:"error"}),t(!1))},HJ=[{path:"/",name:"salesList",redirect:{name:"salesList"},beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"orderlist/insert",name:"orderForm",component:H$,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"orderlist/management",name:"orderlistSearch",component:PT,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"orderlist/orderinfo/:no",name:"orderInfo",component:MT,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"output/management",name:"outputManage",component:gj,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"output/outputlist",name:"outputList",component:XJ,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"input/management",name:"inputManage",component:oQ,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"input/inputlist",name:"inputList",component:DQ,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"inventory/product",name:"productInventory",component:VQ,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"inventory/lot",name:"lotInventory",component:hU,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"return/management",name:"returnManage",component:lJ,beforeEnter:(e,t,a)=>{KJ(e,a)}},{path:"return/returnlist",name:"returnList",component:wJ,beforeEnter:(e,t,a)=>{KJ(e,a)}}];var YJ=HJ;function ZJ(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[((0,o.uX)(),(0,o.Wv)(a,{key:e.$route.fullPath}))])}const ez={},tz=(0,ne.A)(ez,[["render",ZJ]]);var az=tz;const lz=e=>((0,o.Qi)("data-v-60f31b77"),e=e(),(0,o.jt)(),e),oz={class:"px-4 py-4"},sz=lz((()=>(0,o.Lk)("h3",null,"입고 검사-검사 신청",-1))),nz=lz((()=>(0,o.Lk)("hr",null,null,-1))),iz={class:"mb-4"},rz=lz((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),cz={class:"row gx-3 p-4 rounded border shadow search-background"},dz={class:"col-md-2 ps-5"},uz=lz((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"등록일(부터)",-1))),pz={class:"d-flex gap-2"},mz={class:"col-md-2"},hz=lz((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"등록일(까지)",-1))),yz={class:"d-flex gap-2"},fz={class:"col-md-3"},gz=lz((()=>(0,o.Lk)("label",{for:"mName",class:"form-label"},"자재명",-1))),kz={class:"col-md-2 d-flex align-items-end"},bz=lz((()=>(0,o.Lk)("hr",null,null,-1))),Lz={class:"container-fluid py-4"},vz=lz((()=>(0,o.Lk)("h4",null,"검색 결과",-1))),xz=lz((()=>(0,o.Lk)("div",{class:"ps-4"},[(0,o.Lk)("p",null,"자재 검사 신청 내역에 추가할 입고 예정 자재를 선택해 주세요.")],-1))),wz={class:"col-2 ps-4"},_z={class:"grid-container"},Cz=lz((()=>(0,o.Lk)("hr",null,null,-1))),Dz={class:"container-fluid py-4"},Sz=lz((()=>(0,o.Lk)("h4",null,"검사 신청 내역",-1))),Nz=lz((()=>(0,o.Lk)("div",{class:"ps-4"},[(0,o.Lk)("p",null,"자재 검사 신청 내역에 있는 수량이 실제 수량과 다르다면 수정할 수 있습니다.")],-1))),Mz={class:"grid-container"},Rz=lz((()=>(0,o.Lk)("hr",null,null,-1))),Az={class:"row justify-content-center"},Iz={class:"col-auto"},Ez={class:"col-auto"},Fz=lz((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"발주 수량 확인",-1))),Pz=lz((()=>(0,o.Lk)("p",null,"발주 수량을 확인하시고 다르다면 수정해 주세요.",-1))),Oz={class:"form-group"},qz=lz((()=>(0,o.Lk)("label",{for:"quantityInput"},"실제 수량",-1))),$z={class:"d-flex align-items-center"},Tz={class:"ms-2 mb-0"},jz=lz((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"신청 확인",-1))),Qz=lz((()=>(0,o.Lk)("b",null,"신청 내역대로 저장하시겠습니까?",-1))),Uz={style:{display:"none"}};function Jz(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),u=(0,o.g2)("Modal"),p=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",oz,[sz,nz,(0,o.Lk)("div",iz,[rz,(0,o.Lk)("div",cz,[(0,o.Lk)("div",dz,[uz,(0,o.Lk)("div",pz,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",mz,[hz,(0,o.Lk)("div",yz,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",fz,[gz,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"mName",class:"form-control border p-2 cursor-pointer",placeholder:"자재명","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.mName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.mName]])]),(0,o.Lk)("div",kz,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:e.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),bz,(0,o.Lk)("div",Lz,[vz,xz,(0,o.Lk)("div",wz,[(0,o.bF)(r,{class:"btn-success",size:"md",color:"primary",onClick:i.addCheckedRows},{default:(0,o.k6)((()=>[(0,o.eW)("선택 항목 추가")])),_:1},8,["onClick"])]),(0,o.Lk)("div",_z,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onReady,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,noRowsOverlayComponent:n.noRowsOverlayComponent,rowSelection:"multiple"},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","noRowsOverlayComponent"])])]),Cz,(0,o.Lk)("div",Dz,[Sz,Nz,(0,o.Lk)("div",Mz,[(0,o.bF)(c,{rowData:n.rowData2,columnDefs:n.columnDefs2,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,pagination:!0,onCellClicked:i.onCellClicked,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"400px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])]),Rz,(0,o.Lk)("div",Az,[(0,o.Lk)("div",Iz,[(0,o.bF)(r,{class:"btn btn-success",size:"lg",onClick:i.openModal},{default:(0,o.k6)((()=>[(0,o.eW)("저장")])),_:1},8,["onClick"])]),(0,o.Lk)("div",Ez,[(0,o.bF)(r,{class:"btn btn-warning",size:"lg",onClick:i.resetAll},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.bF)(u,{isShowModal:n.isShowModalUpdate,onCloseModal:i.closeModal,onConfirm:t[4]||(t[4]=e=>i.updateQnt(n.selectedRow.orderCode,n.editedQuantity))},{title:(0,o.k6)((()=>[Fz])),list:(0,o.k6)((()=>[Pz,(0,o.Lk)("div",Oz,[qz,(0,o.Lk)("div",$z,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.editedQuantity=e),type:"number",id:"quantityInput",class:"form-control",style:{width:"auto"},autocomplete:"off"},null,512),[[l.Jo,n.editedQuantity]]),(0,o.Lk)("p",Tz,(0,d.v_)(e.materialType),1)])])])),_:1},8,["isShowModal","onCloseModal"]),(0,o.bF)(u,{isShowModal:n.isShowModal,onCloseModal:i.closeModal,onConfirm:i.confirm},{title:(0,o.k6)((()=>[jz])),list:(0,o.k6)((()=>[Qz])),_:1},8,["isShowModal","onCloseModal","onConfirm"]),(0,o.Lk)("div",Uz,[(0,o.bF)(p)])],64)}const zz={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md"},Bz={class:"modal-content"},Vz={class:"modal-header",style:{"background-color":"#e9ecef"}},Wz={class:"modal-body"},Gz={class:"modal-footer"};function Xz(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal}]),id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[(0,o.Lk)("div",zz,[(0,o.Lk)("div",Bz,[(0,o.Lk)("div",Vz,[(0,o.RG)(e.$slots,"title",{},(()=>[(0,o.eW)("title")]),!0)]),(0,o.Lk)("div",Wz,[(0,o.RG)(e.$slots,"list",{},(()=>[(0,o.eW)("slot")]),!0)]),(0,o.Lk)("div",Gz,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>n.closeModal&&n.closeModal(...e))},"닫기"),(0,o.Lk)("button",{type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=(...e)=>n.confirm&&n.confirm(...e))},"저장")])])])],2)}var Kz={name:"Modal",props:{isShowModal:Boolean},data(){return{modalState:this.isShowModal}},methods:{closeModal(){this.$emit("closeModal")},confirm(){this.$emit("confirm")}}};const Hz=(0,ne.A)(Kz,[["render",Xz],["__scopeId","data-v-c0f1df12"]]);var Yz=Hz,Zz=a(9709);const{notify:eB}=(0,Te.hN)();var tB={name:"입고검사신청",components:{MaterialButton:uC,Modal:Yz,AgGridVue:Zz.b,CustomNoRowsOverlay:Hs},data(){return{loginInfo:{},searchInfo:{mName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd")},orderList:[],isShowModal:!1,isShowModalUpdate:!1,editedQuantity:0,selectedRow:{},noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"",resizable:!1,editable:!0,sortable:!1,cellStyle:{textAlign:"center"},flex:.0625,headerCheckboxSelection:!0,checkboxSelection:!0},{headerName:"자재발주코드",field:"orderCode",resizable:!1,cellStyle:{textAlign:"center"},flex:.5},{headerName:"자재명",field:"mName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"발주수량",field:"ordQty",resizable:!1,cellStyle:{textAlign:"right"},flex:.5,cellRenderer:e=>{if(e.value){if(e.data.mName.includes("병")){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}{const t=Number(.001*e.value).toLocaleString()+" kg";return`<span style="text-align: right;">${t}</span>`}}return'<span style="text-align: right;"></span>'}},{headerName:"발주신청일",field:"orderDate",resizable:!1,cellStyle:{textAlign:"center"},flex:.25}],rowData2:[],columnDefs2:[{headerName:"자재발주코드",field:"orderCode",resizable:!1,cellStyle:{textAlign:"center"},flex:.5},{headerName:"자재명",field:"mName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"실제수량",field:"ordQty",resizable:!1,editable:!0,cellStyle:{cursor:"text",textAlign:"right"},flex:.5,cellRenderer:e=>{if(null!=e.value){const t=e.data.mName.includes("병")?`${Number(e.value).toLocaleString()}개`:`${Number(.001*e.value).toLocaleString()} kg`;return`\n                <div style="display: flex; align-items: center; justify-content: space-between;">\n                  <i class="fas fa-edit" style=" color: gray; margin-right: 5px;"></i>\n                  <span style="flex-grow: 1; text-align: right;">${t}</span>\n                </div>\n              `}return'<span style="text-align: right;"></span>'}},{headerName:"발주신청일",field:"orderDate",resizable:!1,cellStyle:{textAlign:"center"},flex:.3},{headerName:"검사담당인",field:"empName",resizable:!1,cellStyle:{textAlign:"left"},flex:.3},{cellRenderer:e=>`\n              <button class="btn btn-danger btn-sm delete-btn" data-id="${e.node.id}">\n                삭제\n              </button>\n            `,editable:!1,resizable:!1,sortable:!1,filter:!1,cellStyle:{textAlign:"center"},flex:.25}],defaultColDef:{headerClass:"header-center"}}},methods:{bringIoginInfo(){this.loginInfo=this.$store.state.loginInfo},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void eB({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});const e=this.searchInfo.mName.replace(/\s+/g,""),t={mName:0!=e.length?e:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let a=await Re.A.post(`${Ae}/meterialOrderQC`,t).catch((e=>console.log(e)));this.orderList=a.data,this.rowData1=[];for(let l=0;l<this.orderList.length;l++){let e={orderCode:this.orderList[l].order_code,mName:this.orderList[l].material_name,ordQty:this.orderList[l].ord_qty,orderDate:this.dateFormat(this.orderList[l].order_date,"yyyy-MM-dd"),empNum:this.loginInfo.emp_num,empName:this.loginInfo.name};this.rowData1[l]=e}},async searchOrderAll(){let e=await Re.A.get(`${Ae}/meterialOrderQCAll`).catch((e=>console.log(e)));this.orderList=e.data,this.rowData1=[];for(let t=0;t<this.orderList.length;t++){let e={orderCode:this.orderList[t].order_code,mName:this.orderList[t].material_name,ordQty:this.orderList[t].ord_qty,orderDate:this.dateFormat(this.orderList[t].order_date,"yyyy-MM-dd"),empNum:this.loginInfo.emp_num,empName:this.loginInfo.name};this.rowData1[t]=e}},onReady(e){this.gridApi1=e.api},onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,document.removeEventListener("click",this.handleDeleteButtonClick),this.handleDeleteButtonClick=e=>{if(e.target&&e.target.classList.contains("delete-btn")){const t=e.target.getAttribute("data-id");this.deleteRow(t)}},document.addEventListener("click",this.handleDeleteButtonClick)},addCheckedRows(){const e=this.gridApi1.getSelectedNodes(),t=e.map((e=>e.data));if(0==t.length)return void eB({text:"추가할 자재를 선택하지 않았습니다.",type:"error"});const a=t.filter((e=>!this.rowData2.some((t=>t["orderCode"]===e["orderCode"]))));this.rowData2=[...this.rowData2,...a],eB({text:`${a.length}개의 건이 추가되었습니다.`,type:"success"})},deleteRow(e){const t=this.gridApi.getDisplayedRowAtIndex(e).data;this.rowData2=this.rowData2.filter((e=>e.orderCode!==t.orderCode)),eB({text:"해당 건을 삭제했습니다.",type:"error"})},resetAll(){0!=this.rowData2.length&&(this.searchOrderAll(),this.rowData2=[],eB({text:"검사 처리 내역을 초기화 했습니다.",type:"warn"}))},dateFormat(e,t){return Ho.dateFormat(e,t)},openModal(){0!=this.rowData2.length?this.isShowModal=!this.isShowModal:eB({text:"신청 내역이 비었습니다.",type:"error"})},async confirm(){let e=(0,lo.ux)(this.rowData2),t=await Re.A.post(`${Ae}/insertQCM`,e).catch((e=>console.log(e)));eB({text:`${t.data.successNum}건이 신청되었습니다`,type:"success"}),this.searchOrderAll(),this.rowData2=[],this.closeModal()},onCellClicked(e){e.event.target&&e.event.target.classList.contains("delete-btn")||(this.selectedRow=JSON.parse(JSON.stringify(e.data)),this.selectedRow.mName.includes("병")?(this.materialType="개",this.editedQuantity=this.selectedRow.ordQty):(this.materialType="kg",this.editedQuantity=.001*this.selectedRow.ordQty),this.isShowModalUpdate=!0)},updateQnt(e,t){if(t<=0)return void eB({text:"검사할 자재 수량이 존재하지 않습니다.",type:"warn"});if("개"===this.materialType&&!Number.isInteger(t))return void eB({text:"해당 자재의 수량은 소수로 입력할 수 없습니다.",type:"warn"});switch(this.materialType){case"kg":t*=1e3;break;case"개":break}const a=this.rowData2.findIndex((t=>t.orderCode===e));-1!==a&&(this.rowData2[a]={...this.rowData2[a],ordQty:t},eB({text:"자재의 수량을 수정했습니다.",type:"success"})),this.rowData2=[...this.rowData2],this.closeModal()},closeModal(){this.isShowModal=!1,this.isShowModalUpdate=!1}},mounted(){this.bringIoginInfo()},created(){this.searchOrderAll()}};const aB=(0,ne.A)(tB,[["render",Jz],["__scopeId","data-v-60f31b77"]]);var lB=aB;const oB=e=>((0,o.Qi)("data-v-51d86f0d"),e=e(),(0,o.jt)(),e),sB={class:"px-4 py-4"},nB=oB((()=>(0,o.Lk)("h3",{class:"mb-3"},"입고 검사-검사 관리",-1))),iB=oB((()=>(0,o.Lk)("hr",null,null,-1))),rB={class:"mb-4"},cB=oB((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),dB={class:"row gx-3 p-4 rounded border shadow search-background"},uB={class:"col-md-2 ps-5"},pB=oB((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"등록일(부터)",-1))),mB={class:"d-flex gap-2"},hB={class:"col-md-2"},yB=oB((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"등록일(까지)",-1))),fB={class:"d-flex gap-2"},gB={class:"col-md-3"},kB=oB((()=>(0,o.Lk)("label",{for:"mName",class:"form-label"},"자재명",-1))),bB={class:"col-md-2 d-flex align-items-end"},LB=oB((()=>(0,o.Lk)("hr",null,null,-1))),vB={class:"container-fluid py-4"},xB=oB((()=>(0,o.Lk)("h4",null,"입고상세정보",-1))),wB=oB((()=>(0,o.Lk)("p",{class:"ps-4"},"검사할 자재를 선택하고 이상이 있을 시 불량 사유와 불량 수량을 입력하세요.",-1))),_B={class:"grid-container"},CB=oB((()=>(0,o.Lk)("hr",null,null,-1))),DB={class:"container-fluid py-4"},SB=oB((()=>(0,o.Lk)("h4",null,"검사처리내역",-1))),NB={class:"grid-container"},MB=oB((()=>(0,o.Lk)("hr",null,null,-1))),RB={class:"row justify-content-center"},AB={class:"col-auto"},IB={class:"col-auto"},EB=oB((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검사 상세 정보",-1))),FB={class:"modal-css"},PB={class:"table table-sm w-100",style:{border:"3px solid #dee2e6"}},OB=oB((()=>(0,o.Lk)("th",{scope:"row",style:{width:"30%","text-align":"left",border:"1px solid #dee2e6"}},"입고검사번호",-1))),qB={style:{"text-align":"right",border:"1px solid #dee2e6",color:"#333333","font-weight":"bold"}},$B=oB((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"자재명",-1))),TB={style:{"text-align":"right",border:"1px solid #dee2e6"}},jB=oB((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"총 수량",-1))),QB={key:0,style:{"text-align":"right",border:"1px solid #dee2e6"}},UB={key:1,style:{"text-align":"right",border:"1px solid #dee2e6"}},JB={class:"d-flex justify-content-end mt-3"},zB=oB((()=>(0,o.Lk)("h5",{class:"pt-5"},"불량 내역",-1))),BB={key:0,class:"pt-2"},VB=oB((()=>(0,o.Lk)("b",null,"불량 내역이 없습니다.",-1))),WB=[VB],GB={class:"form-group"},XB=["for"],KB=["onUpdate:modelValue","id"],HB=oB((()=>(0,o.Lk)("option",{value:"",hidden:"",disabled:"",selected:""},"(선택)",-1))),YB=["value"],ZB={class:"form-group mt-2"},eV=["for"],tV=["onUpdate:modelValue","id"],aV={class:"d-flex justify-content-end mt-3"},lV=["onClick"],oV=oB((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검사 완료 확인",-1))),sV=oB((()=>(0,o.Lk)("b",null,"해당 검사내역대로 저장하시겠습니까?",-1))),nV={style:{display:"none"}};function iV(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),u=(0,o.g2)("Modal"),p=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",sB,[nB,iB,(0,o.Lk)("div",rB,[cB,(0,o.Lk)("div",dB,[(0,o.Lk)("div",uB,[pB,(0,o.Lk)("div",mB,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",hB,[yB,(0,o.Lk)("div",fB,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",gB,[kB,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"mName",class:"form-control border p-2 cursor-pointer",placeholder:"자재명","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.mName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.mName]])]),(0,o.Lk)("div",bB,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),LB,(0,o.Lk)("div",vB,[xB,wB,(0,o.Lk)("div",_B,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,onCellClicked:i.onCellClicked,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])])]),CB,(0,o.Lk)("div",DB,[SB,(0,o.Lk)("div",NB,[(0,o.bF)(c,{rowData:n.rowData2,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,onCellClicked:i.onCellClicked,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"400px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])]),MB,(0,o.Lk)("div",RB,[(0,o.Lk)("div",AB,[(0,o.bF)(r,{class:"btn btn-success",size:"lg",onClick:i.openModal},{default:(0,o.k6)((()=>[(0,o.eW)("저장")])),_:1},8,["onClick"])]),(0,o.Lk)("div",IB,[(0,o.bF)(r,{class:"btn btn-warning",size:"lg",onClick:i.reset},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.bF)(u,{isShowModal:n.showModalRJC,onCloseModal:i.closeModal,onConfirm:t[4]||(t[4]=e=>i.saveDefectDetailsForRow(n.selectedRow.qcMaterialId,n.selectedRow.totalQnt))},{title:(0,o.k6)((()=>[EB])),list:(0,o.k6)((()=>[(0,o.Lk)("div",FB,[(0,o.Lk)("table",PB,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[OB,(0,o.Lk)("td",qB,(0,d.v_)(n.selectedRow.qcMaterialId),1)]),(0,o.Lk)("tr",null,[$B,(0,o.Lk)("td",TB,(0,d.v_)(n.selectedRow.mName),1)]),(0,o.Lk)("tr",null,[jB,"kg"===this.materialType?((0,o.uX)(),(0,o.CE)("td",QB,(0,d.v_)(.001*n.selectedRow.totalQnt)+" "+(0,d.v_)(this.materialType),1)):"개"===this.materialType?((0,o.uX)(),(0,o.CE)("td",UB,(0,d.v_)(1*n.selectedRow.totalQnt)+" "+(0,d.v_)(this.materialType),1)):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",JB,[(0,o.bF)(r,{size:"md",class:"btn btn-warning",onClick:t[3]||(t[3]=e=>i.addDefectDetailForRow(n.selectedRow.qcMaterialId))},{default:(0,o.k6)((()=>[(0,o.eW)(" 불량 항목 추가 ")])),_:1})]),zB,null==n.defectDetailsMap[n.selectedRow.qcMaterialId]?((0,o.uX)(),(0,o.CE)("div",BB,WB)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.defectDetailsMap[n.selectedRow.qcMaterialId],((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"defect-item mt-3"},[(0,o.Lk)("div",GB,[(0,o.Lk)("label",{for:"reason"+t},"불량 사유 "+(0,d.v_)(t+1),9,XB),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t=>e.reason=t,id:"reason"+t,class:"form-control",placeholder:"불량 사유"},[HB,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.defectReasons,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.code,value:e.code},(0,d.v_)(e.name),9,YB)))),128))],8,KB),[[l.u1,e.reason]])]),(0,o.Lk)("div",ZB,[(0,o.Lk)("label",{for:"defectQty"+t},"불량 수량("+(0,d.v_)(this.materialType)+")",9,eV),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.qty=t,id:"defectQty"+t,class:"form-control",autocomplete:"off"},null,8,tV),[[l.Jo,e.qty]])]),(0,o.Lk)("div",aV,[(0,o.Lk)("button",{class:"btn btn-danger mt-2",onClick:e=>i.removeDefectDetailForRow(n.selectedRow.qcMaterialId,t)}," 삭제 ",8,lV)])])))),128))])])),_:1},8,["isShowModal","onCloseModal"]),(0,o.bF)(u,{isShowModal:n.showModalDone,onCloseModal:i.closeModal,onConfirm:i.confirm},{title:(0,o.k6)((()=>[oV])),list:(0,o.k6)((()=>[sV])),_:1},8,["isShowModal","onCloseModal","onConfirm"]),(0,o.Lk)("div",nV,[(0,o.bF)(p)])],64)}const{notify:rV}=(0,Te.hN)();var cV={name:"입고검사관리",components:{MaterialButton:uC,Modal:Yz,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{mName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd")},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"입고검사번호",field:"qcMaterialId",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"자재발주코드",field:"orderCode",resizable:!1,cellStyle:{textAlign:"center"},flex:1.1},{headerName:"자재명",field:"mName",resizable:!1,cellStyle:{textAlign:"left"},flex:1.2},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"총 수량",field:"totalQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=e.data.mName.includes("병")?`${Number(e.value).toLocaleString()}개`:`${Number(.001*e.value).toLocaleString()} kg`;return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"합격량",field:"passQnt",resizable:!1,cellStyle:{cursor:"text",textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=e.data.mName.includes("병")?`${Number(e.value).toLocaleString()}개`:`${Number(.001*e.value).toLocaleString()} kg`;return`\n                <div style="display: flex; align-items: center; justify-content: space-between;">\n                  <i class="fas fa-edit" style=" color: gray; margin-right: 5px;"></i>\n                  <span style="flex-grow: 1; text-align: right;">${t}</span>\n                </div>\n              `}return'<span style="text-align: right;"></span>'}},{headerName:"불합격량",field:"rjcQnt",resizable:!1,cellStyle:{cursor:"text",textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=e.data.mName.includes("병")?`${Number(e.value).toLocaleString()}개`:`${Number(.001*e.value).toLocaleString()} kg`;return`\n                <div style="display: flex; align-items: center; justify-content: space-between;">\n                  <i class="fas fa-edit" style=" color: gray; margin-right: 5px;"></i>\n                  <span style="flex-grow: 1; text-align: right;">${t}</span>\n                </div>\n              `}return'<span style="text-align: right;"></span>'}},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1.8},{headerName:"검사상태",field:"inspecStatus",resizable:!1,cellStyle:{textAlign:"left"},flex:1}],defaultColDef:{headerClass:"header-center"},inspecData:[],showModalRJC:!1,selectedRow:{},defectDetails:[],defectReasons:[],selectedReason:"",defectQty:0,defectDetailsMap:{},rowData2:[],showModalDone:!1}},methods:{dateFormat(e,t){return Ho.dateFormat(e,t)},onGridReady(e){this.gridApi=e.api},processSearchResults(e){const t=[];for(let a of e)t.push({qcMaterialId:a.qc_material_id,orderCode:a.order_code,mName:a.material_name,eName:a.name,totalQnt:a.total_qnt,passQnt:a.pass_qnt,rjcQnt:a.rjc_qnt,inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecStatus:a.inspec_status});return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void rV({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});const e=this.searchInfo.mName.replace(/\s+/g,""),t={mName:0!=e.length?e:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let a=await Re.A.post(`${Ae}/requestQCM`,t).catch((e=>console.log(e)));this.searchList=a.data,this.rowData1=[],this.defectDetailsMap={},this.rowData1=this.processSearchResults(this.searchList),this.rowData2=[]},async searchRequestAll(){let e=await Re.A.get(`${Ae}/requestQCMAll`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.defectDetailsMap=[],this.rowData1=this.processSearchResults(this.searchList),this.rowData2=[]},onCellClicked(e){this.selectedRow=e.data,this.selectedRow.mName.includes("병")?this.materialType="개":this.materialType="kg",this.showModalRJC=!0},closeModal(){this.showModalRJC=!1,this.selectedRow={},this.showModalDone=!1},addDefectDetailForRow(e){this.defectDetailsMap[e]||(this.defectDetailsMap[e]=[]),this.defectDetailsMap[e].push({reason:"",qty:0,unit:this.materialType})},removeDefectDetailForRow(e,t){this.defectDetailsMap[e]&&(this.defectDetailsMap[e].splice(t,1),0===this.defectDetailsMap[e].length&&delete this.defectDetailsMap[e])},saveDefectDetailsForRow(e,t){const a=this.defectDetailsMap[e]||[];if(a.some((e=>!e.reason)))return void rV({text:"불량 사유가 입력되지 않은 항목이 있습니다.",type:"warn"});if(a.some((e=>e.qty<=0)))return void rV({text:"수량이 입력되지 않았거나 0 이하를 입력한 항목이 있습니다.",type:"warn"});if("개"===this.materialType&&a.some((e=>!Number.isInteger(e.qty))))return void rV({text:"해당 자재의 수량은 소수로 입력할 수 없습니다.",type:"warn"});const l=a.reduce(((e,t)=>{const a="kg"===this.materialType?1e3*t.qty:t.qty;return e+a}),0);if(l>t)return void rV({text:"불량 총합량이 총합량보다 클 수 없습니다.",type:"warn"});const o=t-l,s=this.rowData1.findIndex((e=>e.qcMaterialId===this.selectedRow.qcMaterialId));-1!==s&&(this.rowData1=this.rowData1.map(((e,t)=>t===s?{...e,passQnt:o,rjcQnt:l,inspecStatus:"검사내역입력완료"}:e))),this.closeModal(),this.rowData2=this.rowData1.filter((e=>"검사내역입력완료"===e["inspecStatus"])),rV({text:`검사 결과 - 합격량: ${o/("kg"===this.materialType?1e3:1)}${this.materialType}, 불합격량: ${l/("kg"===this.materialType?1e3:1)}${this.materialType} 입니다.`,type:"success"}),console.log(a),console.log(this.defectDetailsMap)},openModal(){0!=this.rowData2.length?this.showModalDone=!this.showModalDone:rV({text:"저장할 검사처리내역이 없습니다.",type:"error"})},async confirm(){let e=[];for(let l in this.defectDetailsMap)Object.prototype.hasOwnProperty.call(this.defectDetailsMap,l)&&this.defectDetailsMap[l].forEach((t=>{e.push({qcMaterialId:l,faultyCode:t.reason,qty:"kg"===t.unit?1e3*t.qty:t.qty})}));e.sort(((e,t)=>e.qcMaterialId===t.qcMaterialId?e.faultyCode.localeCompare(t.faultyCode):e.qcMaterialId.localeCompare(t.qcMaterialId)));let t={qcm:this.rowData2,qcmr:e},a=await Re.A.post(`${Ae}/completeQCM`,t).catch((e=>console.log(e)));rV({text:`완료된 검사: ${a.data.updatedRows} 건, 기록된 불량 내역: ${a.data.defectNum}건`,type:"success"}),this.closeModal(),this.searchRequestAll()},async callFaultyCode(){let e=await Re.A.get(`${Ae}/faultyCode`).catch((e=>console.log(e)));this.faultyCodeList=e.data;const t=[];this.faultyCodeList.forEach(((e,a)=>{t[a]={code:e.faulty_code,name:e.faulty_reason}})),this.defectReasons=t},reset(){0!=this.rowData2.length&&(this.searchRequestAll(),rV({text:"검사 처리 내역을 초기화 했습니다.",type:"warn"}))}},created(){this.searchRequestAll(),this.callFaultyCode()}};const dV=(0,ne.A)(cV,[["render",iV],["__scopeId","data-v-51d86f0d"]]);var uV=dV;const pV=e=>((0,o.Qi)("data-v-2c3abab6"),e=e(),(0,o.jt)(),e),mV={class:"px-4 py-4"},hV=pV((()=>(0,o.Lk)("h3",{class:"mb-3"},"입고 검사-검사 기록 조회",-1))),yV=pV((()=>(0,o.Lk)("hr",null,null,-1))),fV={class:"mb-4"},gV=pV((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),kV={class:"row gx-3 p-4 rounded border shadow search-background"},bV={class:"col-md-2 ps-5"},LV=pV((()=>(0,o.Lk)("label",{for:"qcStat",class:"form-label"},"검사 상태",-1))),vV=pV((()=>(0,o.Lk)("option",{value:"qcs1"},"전체",-1))),xV=pV((()=>(0,o.Lk)("option",{value:"qcs2"},"검사 완료",-1))),wV=pV((()=>(0,o.Lk)("option",{value:"qcs3"},"검사 미완료",-1))),_V=[vV,xV,wV],CV={class:"col-md-2"},DV=pV((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"검사일(부터)",-1))),SV={class:"d-flex gap-2"},NV={class:"col-md-2"},MV=pV((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"검사일(까지)",-1))),RV={class:"d-flex gap-2"},AV={class:"col-md-2"},IV=pV((()=>(0,o.Lk)("label",{for:"mName",class:"form-label"},"자재명",-1))),EV={class:"col-md-2 d-flex align-items-end"},FV=pV((()=>(0,o.Lk)("hr",null,null,-1))),PV={class:"container-fluid py-4"},OV=pV((()=>(0,o.Lk)("h4",null,"입고 상세 정보",-1))),qV={class:"grid-container"},$V=pV((()=>(0,o.Lk)("hr",null,null,-1))),TV={style:{display:"none"}};function jV(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),d=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",mV,[hV,yV,(0,o.Lk)("div",fV,[gV,(0,o.Lk)("div",kV,[(0,o.Lk)("div",bV,[LV,(0,o.bo)((0,o.Lk)("select",{class:"form-select text-center border cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.qcState=e),"aria-label":"검사 상태 선택"},_V,512),[[l.u1,n.searchInfo.qcState]])]),(0,o.Lk)("div",CV,[DV,(0,o.Lk)("div",SV,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",NV,[MV,(0,o.Lk)("div",RV,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",AV,[IV,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"mName",class:"form-control border p-2 cursor-pointer",placeholder:"자재명","onUpdate:modelValue":t[3]||(t[3]=e=>n.searchInfo.mName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.mName]])]),(0,o.Lk)("div",EV,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),FV,(0,o.Lk)("div",PV,[OV,(0,o.Lk)("div",qV,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"700px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","noRowsOverlayComponent"])])]),$V,(0,o.Lk)("div",TV,[(0,o.bF)(d)])],64)}const{notify:QV}=(0,Te.hN)();var UV={name:"입고검사",components:{MaterialButton:uC,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{mName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd"),qcState:"qcs1"},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"입고검사번호",field:"qcMaterialId",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"자재발주코드",field:"orderCode",resizable:!1,cellStyle:{textAlign:"center"},flex:1.1},{headerName:"자재명",field:"mName",resizable:!1,cellStyle:{textAlign:"left"},flex:1.2},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"총 수량",field:"totalQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=e.data.mName.includes("병")?`${Number(e.value).toLocaleString()}개`:`${Number(.001*e.value).toLocaleString()} kg`;return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"합격량",field:"passQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1.1,cellRenderer:e=>{if(null!=e.value){if(e.data.mName.includes("병")){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}{const t=Number(.001*e.value).toLocaleString()+" kg";return`<span style="text-align: right;">${t}</span>`}}return'<span style="text-align: right;"></span>'}},{headerName:"불합격량",field:"rjcQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1.1,cellRenderer:e=>{if(null!=e.value){if(e.data.mName.includes("병")){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}{const t=Number(.001*e.value).toLocaleString()+" kg";return`<span style="text-align: right;">${t}</span>`}}return'<span style="text-align: right;"></span>'}},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1.8},{headerName:"검사완료시각",field:"inspecEnd",resizable:!1,cellStyle:{textAlign:"center"},flex:1.8},{headerName:"검사상태",field:"inspecStatus",resizable:!1,cellStyle:{textAlign:"left"},flex:1}],defaultColDef:{headerClass:"header-center"}}},methods:{onGridReady(e){this.gridApi=e.api},dateFormat(e,t){return Ho.dateFormat(e,t)},processSearchResults(e){const t=[];for(let a of e)t.push({qcMaterialId:a.qc_material_id,orderCode:a.order_code,mName:a.material_name,eName:a.name,totalQnt:a.total_qnt,passQnt:a.pass_qnt,rjcQnt:a.rjc_qnt,inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecEnd:null===a.inspec_end?"":this.dateFormat(a.inspec_end,"yyyy-MM-dd hh:mm:ss"),inspecStatus:a.inspec_status});return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void QV({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});const e=this.searchInfo.mName.replace(/\s+/g,""),t={mName:0!=e.length?e:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate,qcState:this.searchInfo.qcState};let a=await Re.A.post(`${Ae}/recordQCM`,t).catch((e=>console.log(e)));this.searchList=a.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)},async searchRequestAll(){let e=await Re.A.get(`${Ae}/recordQCMAll`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList),console.log(this.rowData1)}},created(){this.searchRequestAll()}};const JV=(0,ne.A)(UV,[["render",jV],["__scopeId","data-v-2c3abab6"]]);var zV=JV;const BV=e=>((0,o.Qi)("data-v-14fff795"),e=e(),(0,o.jt)(),e),VV={class:"px-4 py-4"},WV=BV((()=>(0,o.Lk)("h3",{class:"mb-3"},"입고 검사-불량 내역 조회",-1))),GV=BV((()=>(0,o.Lk)("hr",null,null,-1))),XV={class:"mb-4"},KV=BV((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),HV={class:"row gx-3 p-4 rounded border shadow search-background"},YV={class:"col-md-2 ps-5"},ZV=BV((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"검사일(부터)",-1))),eW={class:"d-flex gap-2"},tW={class:"col-md-2"},aW=BV((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"검사일(까지)",-1))),lW={class:"d-flex gap-2"},oW={class:"col-md-3"},sW=BV((()=>(0,o.Lk)("label",{for:"mName",class:"form-label"},"자재명",-1))),nW={class:"col-md-2 d-flex align-items-end"},iW=BV((()=>(0,o.Lk)("hr",null,null,-1))),rW={class:"container-fluid py-4"},cW=BV((()=>(0,o.Lk)("h4",null,"불량 내역",-1))),dW={class:"grid-container"},uW=BV((()=>(0,o.Lk)("hr",null,null,-1))),pW={style:{display:"none"}};function mW(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),d=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",VV,[WV,GV,(0,o.Lk)("div",XV,[KV,(0,o.Lk)("div",HV,[(0,o.Lk)("div",YV,[ZV,(0,o.Lk)("div",eW,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",tW,[aW,(0,o.Lk)("div",lW,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",oW,[sW,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"mName",class:"form-control border p-2 cursor-pointer",placeholder:"자재명","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.mName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.mName]])]),(0,o.Lk)("div",nW,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),iW,(0,o.Lk)("div",rW,[cW,(0,o.Lk)("div",dW,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"700px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","noRowsOverlayComponent"])])]),uW,(0,o.Lk)("div",pW,[(0,o.bF)(d)])],64)}const{notify:hW}=(0,Te.hN)();var yW={name:"입고검사불량내역",components:{MaterialButton:uC,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{mName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd")},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"불량품번호",field:"qcMaterialRjcId",resizable:!1,cellStyle:{textAlign:"center"},flex:4},{headerName:"자재발주코드",field:"orderCode",resizable:!1,cellStyle:{textAlign:"center"},flex:4},{headerName:"입고검사번호",field:"qcMaterialId",resizable:!1,cellStyle:{textAlign:"center"},flex:4},{headerName:"자재명",field:"mName",resizable:!1,cellStyle:{textAlign:"left"},flex:3.1},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:3},{headerName:"불합격량",field:"rjcQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:3.5,cellRenderer:e=>{if(e.value){const t=e.data.mName.includes("병")?`${Number(e.value).toLocaleString()}개`:`${Number(.001*e.value).toLocaleString()} kg`;return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"불량코드",field:"faultyCode",resizable:!1,cellStyle:{textAlign:"center"},flex:4},{headerName:"불량명",field:"faultyReason",resizable:!1,cellStyle:{textAlign:"left"},flex:3},{headerName:"검사시작시각",field:"inspecStart",resizable:!0,cellStyle:{textAlign:"center"},flex:4},{headerName:"검사완료시각",field:"inspecEnd",resizable:!1,cellStyle:{textAlign:"center"},flex:4}],defaultColDef:{headerClass:"header-center"}}},methods:{onGridReady(e){this.gridApi=e.api},dateFormat(e,t){return Ho.dateFormat(e,t)},processSearchResults(e){const t=[];for(let a of e)t.push({qcMaterialRjcId:a.qc_material_rjc_id,orderCode:a.order_code,qcMaterialId:a.qc_material_id,mName:a.material_name,eName:a.name,rjcQnt:a.rjc_quantity,faultyCode:a.faulty_code,faultyReason:a.faulty_reason,inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecEnd:this.dateFormat(a.inspec_end,"yyyy-MM-dd hh:mm:ss")});return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void hW({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});const e=this.searchInfo.mName.replace(/\s+/g,""),t={mName:0!=e.length?e:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let a=await Re.A.post(`${Ae}/recordQCMR`,t).catch((e=>console.log(e)));this.searchList=a.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)},async searchRequestAll(){let e=await Re.A.get(`${Ae}/recordQCMRAll`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)}},created(){this.searchRequestAll()}};const fW=(0,ne.A)(yW,[["render",mW],["__scopeId","data-v-14fff795"]]);var gW=fW;const kW=e=>((0,o.Qi)("data-v-fa987512"),e=e(),(0,o.jt)(),e),bW={class:"px-4 py-4"},LW=kW((()=>(0,o.Lk)("h3",{class:"mb-3"},"공정 검사-세척 검사 관리",-1))),vW=kW((()=>(0,o.Lk)("hr",null,null,-1))),xW={class:"mb-4"},wW=kW((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),_W={class:"row gx-3 p-4 rounded border shadow search-background"},CW={class:"col-md-2 ps-5"},DW=kW((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"등록일(부터)",-1))),SW={class:"d-flex gap-2"},NW={class:"col-md-2"},MW=kW((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"등록일(까지)",-1))),RW={class:"d-flex gap-2"},AW={class:"col-md-3"},IW=kW((()=>(0,o.Lk)("label",{for:"mName",class:"form-label"},"자재명",-1))),EW={class:"col-md-2 d-flex align-items-end"},FW=kW((()=>(0,o.Lk)("hr",null,null,-1))),PW={class:"container-fluid py-4"},OW=kW((()=>(0,o.Lk)("h4",null,"검사 상세 정보",-1))),qW=kW((()=>(0,o.Lk)("div",{class:"ps-4"},[(0,o.Lk)("p",null,"검사할 자재를 선택하고 이상이 있을 시 불량 사유와 불량 수량을 입력하세요.")],-1))),$W={class:"grid-container"},TW=kW((()=>(0,o.Lk)("hr",null,null,-1))),jW={class:"container-fluid py-4"},QW=kW((()=>(0,o.Lk)("h4",null,"검사처리내역",-1))),UW={class:"grid-container"},JW=kW((()=>(0,o.Lk)("hr",null,null,-1))),zW={class:"row justify-content-center"},BW={class:"col-auto"},VW={class:"col-auto"},WW=kW((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검사 상세 정보",-1))),GW={class:"modal-css"},XW={class:"table table-sm w-100",style:{border:"3px solid #dee2e6"}},KW=kW((()=>(0,o.Lk)("th",{scope:"row",style:{width:"30%","text-align":"left",border:"1px solid #dee2e6"}},"공정검사번호",-1))),HW={style:{"text-align":"right",border:"1px solid #dee2e6"}},YW=kW((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"자재명",-1))),ZW={style:{"text-align":"right",border:"1px solid #dee2e6"}},eG=kW((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"총 수량",-1))),tG={style:{"text-align":"right",border:"1px solid #dee2e6"}},aG={class:"d-flex justify-content-end mt-3"},lG=kW((()=>(0,o.Lk)("h5",{class:"pt-5"},"불량 내역",-1))),oG={key:0,class:"pt-2"},sG=kW((()=>(0,o.Lk)("b",null,"불량 내역이 없습니다.",-1))),nG=[sG],iG={class:"form-group"},rG=["for"],cG=["onUpdate:modelValue","id"],dG=kW((()=>(0,o.Lk)("option",{value:"",hidden:"",disabled:"",selected:""},"(선택)",-1))),uG=["value"],pG={class:"form-group mt-2"},mG=["for"],hG=["onUpdate:modelValue","id"],yG={class:"d-flex justify-content-end mt-3"},fG=["onClick"],gG=kW((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검사 완료 확인",-1))),kG=kW((()=>(0,o.Lk)("p",null,"해당 검사내역대로 저장하시겠습니까?",-1))),bG={style:{display:"none"}};function LG(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),u=(0,o.g2)("Modal"),p=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",bW,[LW,vW,(0,o.Lk)("div",xW,[wW,(0,o.Lk)("div",_W,[(0,o.Lk)("div",CW,[DW,(0,o.Lk)("div",SW,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",NW,[MW,(0,o.Lk)("div",RW,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",AW,[IW,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"mName",class:"form-control border p-2 cursor-pointer",placeholder:"자재명","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.mName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.mName]])]),(0,o.Lk)("div",EW,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),FW,(0,o.Lk)("div",PW,[OW,qW,(0,o.Lk)("div",$W,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,onCellClicked:i.onCellClicked,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])])]),TW,(0,o.Lk)("div",jW,[QW,(0,o.Lk)("div",UW,[(0,o.bF)(c,{rowData:n.rowData2,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,onCellClicked:i.onCellClicked,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"400px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])]),JW,(0,o.Lk)("div",zW,[(0,o.Lk)("div",BW,[(0,o.bF)(r,{class:"btn btn-success",size:"lg",onClick:i.openModal},{default:(0,o.k6)((()=>[(0,o.eW)("저장")])),_:1},8,["onClick"])]),(0,o.Lk)("div",VW,[(0,o.bF)(r,{class:"btn btn-warning",size:"lg",onClick:i.reset},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.bF)(u,{isShowModal:n.showModalRJC,onCloseModal:i.closeModal,onConfirm:t[4]||(t[4]=e=>i.saveDefectDetailsForRow(n.selectedRow.qcProcessId,n.selectedRow.totalQnt))},{title:(0,o.k6)((()=>[WW])),list:(0,o.k6)((()=>[(0,o.Lk)("div",GW,[(0,o.Lk)("table",XW,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[KW,(0,o.Lk)("td",HW,(0,d.v_)(n.selectedRow.qcProcessId),1)]),(0,o.Lk)("tr",null,[YW,(0,o.Lk)("td",ZW,(0,d.v_)(n.selectedRow.mName),1)]),(0,o.Lk)("tr",null,[eG,(0,o.Lk)("td",tG,(0,d.v_)(n.selectedRow.totalQnt)+" (개)",1)])])]),(0,o.Lk)("div",aG,[(0,o.bF)(r,{size:"md",class:"mt-3 btn btn-warning",onClick:t[3]||(t[3]=e=>i.addDefectDetailForRow(n.selectedRow.qcProcessId))},{default:(0,o.k6)((()=>[(0,o.eW)(" 불량 항목 추가 ")])),_:1})]),lG,null==n.defectDetailsMap[n.selectedRow.qcProcessId]?((0,o.uX)(),(0,o.CE)("div",oG,nG)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.defectDetailsMap[n.selectedRow.qcProcessId],((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"defect-item mt-3"},[(0,o.Lk)("div",iG,[(0,o.Lk)("label",{for:"reason"+t},"불량 사유 "+(0,d.v_)(t+1)+":",9,rG),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t=>e.reason=t,id:"reason"+t,class:"form-control"},[dG,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.defectReasons,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.code,value:e.code},(0,d.v_)(e.name),9,uG)))),128))],8,cG),[[l.u1,e.reason]])]),(0,o.Lk)("div",pG,[(0,o.Lk)("label",{for:"defectQty"+t},"불량 수량(개):",8,mG),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.qty=t,id:"defectQty"+t,class:"form-control",autocomplete:"off"},null,8,hG),[[l.Jo,e.qty]])]),(0,o.Lk)("div",yG,[(0,o.Lk)("button",{class:"btn btn-danger mt-2",onClick:e=>i.removeDefectDetailForRow(n.selectedRow.qcProcessId,t)},"삭제",8,fG)])])))),128))])])),_:1},8,["isShowModal","onCloseModal"]),(0,o.bF)(u,{isShowModal:n.showModalDone,onCloseModal:i.closeModal,onConfirm:i.confirm},{title:(0,o.k6)((()=>[gG])),list:(0,o.k6)((()=>[kG])),_:1},8,["isShowModal","onCloseModal","onConfirm"]),(0,o.Lk)("div",bG,[(0,o.bF)(p)])],64)}const{notify:vG}=(0,Te.hN)();var xG={name:"세척검사관리",components:{MaterialButton:uC,Modal:Yz,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{mName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd")},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"공정검사번호",field:"qcProcessId",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"공정작업번호",field:"processNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1},{headerName:"생산지시번호",field:"productionOrderNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1},{headerName:"자재명",field:"mName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"총 수량",field:"totalQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"합격량",field:"passQnt",resizable:!1,editable:!0,cellStyle:{cursor:"text",textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`\n                <div style="display: flex; align-items: center; justify-content: space-between;">\n                  <i class="fas fa-edit" style=" color: gray; margin-right: 5px;"></i>\n                  <span style="flex-grow: 1; text-align: right;">${t}</span>\n                </div>\n              `}return'<span style="text-align: right;"></span>'}},{headerName:"불합격량",field:"rjcQnt",resizable:!1,editable:!0,cellStyle:{cursor:"text",textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`\n                <div style="display: flex; align-items: center; justify-content: space-between;">\n                  <i class="fas fa-edit" style=" color: gray; margin-right: 5px;"></i>\n                  <span style="flex-grow: 1; text-align: right;">${t}</span>\n                </div>\n              `}return'<span style="text-align: right;"></span>'}},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"검사상태",field:"inspecStatus",resizable:!1,cellStyle:{textAlign:"left"},flex:1}],defaultColDef:{headerClass:"header-center"},showModalRJC:!1,selectedRow:{},defectDetails:[],defectReasons:[],selectedReason:"",defectQty:0,defectDetailsMap:{},rowData2:[],showModalDone:!1}},methods:{dateFormat(e,t){return Ho.dateFormat(e,t)},onGridReady(e){this.gridApi=e.api},processSearchResults(e){const t=[];for(let a of e)t.push({qcProcessId:a.qc_cleaning_id,processNum:a.process_num,productionOrderNum:a.production_order_num,mName:a.material,eName:a.emp_name,totalQnt:a.total_qnt,passQnt:a.pass_qnt,rjcQnt:a.rjc_qnt,inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecStatus:a.inspec_status});return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void vG({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});const e=this.searchInfo.mName.replace(/\s+/g,""),t={mName:0!=e.length?e:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let a=await Re.A.post(`${Ae}/requestQCPC`,t).catch((e=>console.log(e)));this.searchList=a.data,this.rowData1=[],this.defectDetailsMap={},this.rowData1=this.processSearchResults(this.searchList),this.rowData2=[]},async searchRequestAll(){let e=await Re.A.post(`${Ae}/requestQCPC`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.defectDetailsMap=[],this.rowData1=this.processSearchResults(this.searchList),this.rowData2=[]},onCellClicked(e){this.selectedRow=e.data,this.showModalRJC=!0},closeModal(){this.showModalRJC=!1,this.selectedRow={},this.showModalDone=!1},addDefectDetailForRow(e){this.defectDetailsMap[e]||(this.defectDetailsMap[e]=[]),this.defectDetailsMap[e].push({reason:"",qty:0})},removeDefectDetailForRow(e,t){this.defectDetailsMap[e]&&(this.defectDetailsMap[e].splice(t,1),0===this.defectDetailsMap[e].length&&delete this.defectDetailsMap[e])},saveDefectDetailsForRow(e,t){const a=this.defectDetailsMap[e]||[];if(a.some((e=>!e.reason)))return void vG({text:"불량 사유가 입력되지 않은 항목이 있습니다.",type:"warn"});if(a.some((e=>e.qty<=0)))return void vG({text:"수량이 입력되지 않았거나 0 이하를 입력한 항목이 있습니다.",type:"warn"});if(a.some((e=>!Number.isInteger(e.qty))))return void vG({text:"해당 자재의 수량은 소수로 입력할 수 없습니다.",type:"warn"});const l=a.reduce(((e,t)=>e+t.qty),0);if(l>t)return void vG({text:"불량 총합량이 총합량보다 클 수 없습니다.",type:"warn"});const o=t-l,s=this.rowData1.findIndex((e=>e.qcProcessId===this.selectedRow.qcProcessId));-1!==s&&(this.rowData1=this.rowData1.map(((e,t)=>t===s?{...e,passQnt:o,rjcQnt:l,inspecStatus:"검사내역입력완료"}:e))),this.closeModal(),this.rowData2=this.rowData1.filter((e=>"검사내역입력완료"===e["inspecStatus"])),vG({text:`검사 결과 - 합격량: ${o}개, 불합격량: ${l}개 입니다.`,type:"success"})},openModal(){0!=this.rowData2.length?this.showModalDone=!this.showModalDone:vG({text:"검사처리내역이 비었습니다.",type:"error"})},async confirm(){let e=[];for(let l in this.defectDetailsMap)Object.prototype.hasOwnProperty.call(this.defectDetailsMap,l)&&this.defectDetailsMap[l].forEach((t=>{e.push({qcProcessId:l,faultyCode:t.reason,qty:t.qty})}));e.sort(((e,t)=>e.qcProcessId===t.qcProcessId?e.faultyCode.localeCompare(t.faultyCode):e.qcProcessId.localeCompare(t.qcProcessId)));let t={qcpc:this.rowData2,qcpcr:e},a=await Re.A.post(`${Ae}/completeQCPC`,t).catch((e=>console.log(e)));vG({text:`완료된 검사: ${a.data.updatedRows}건, 기록된 불량 내역: ${a.data.defectNum}건`,type:"success"}),this.closeModal(),this.searchRequestAll()},async callFaultyCode(){let e=await Re.A.get(`${Ae}/faultyCodeQCPC`).catch((e=>console.log(e)));this.faultyCodeList=e.data;const t=[];this.faultyCodeList.forEach(((e,a)=>{t[a]={code:e.faulty_code,name:e.faulty_reason}})),this.defectReasons=t},reset(){0!=this.rowData2.length&&(this.searchRequestAll(),vG({text:"검사 처리 내역을 초기화 했습니다.",type:"warn"}))}},created(){this.searchRequestAll(),this.callFaultyCode()}};const wG=(0,ne.A)(xG,[["render",LG],["__scopeId","data-v-fa987512"]]);var _G=wG;const CG=e=>((0,o.Qi)("data-v-ee00167e"),e=e(),(0,o.jt)(),e),DG={class:"px-4 py-4"},SG=CG((()=>(0,o.Lk)("h3",{class:"mb-3"},"공정 검사-음료 검사 관리",-1))),NG=CG((()=>(0,o.Lk)("hr",null,null,-1))),MG={class:"mb-4"},RG=CG((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),AG={class:"row gx-3 p-4 rounded border shadow search-background"},IG={class:"col-md-2 ps-5"},EG=CG((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"등록일(부터)",-1))),FG={class:"d-flex gap-2"},PG={class:"col-md-2"},OG=CG((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"등록일(까지)",-1))),qG={class:"d-flex gap-2"},$G={class:"col-md-3"},TG=CG((()=>(0,o.Lk)("label",{for:"pName",class:"form-label"},"제품명",-1))),jG={class:"col-md-2 d-flex align-items-end"},QG=CG((()=>(0,o.Lk)("hr",null,null,-1))),UG={class:"container-fluid py-4"},JG=CG((()=>(0,o.Lk)("h4",null,"검사 상세 정보",-1))),zG=CG((()=>(0,o.Lk)("div",{class:"ps-4"},[(0,o.Lk)("p",null,"각 검사 수치를 입력한 뒤, 저장을 눌러주세요.")],-1))),BG={class:"grid-container"},VG=CG((()=>(0,o.Lk)("hr",null,null,-1))),WG={class:"container-fluid py-4"},GG=CG((()=>(0,o.Lk)("h4",null,"검사 처리 내역",-1))),XG={class:"grid-container"},KG={class:"row justify-content-center"},HG={class:"col-auto"},YG={class:"col-auto"},ZG=CG((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검사 상세 정보",-1))),eX={class:"modal-css"},tX={class:"table table-sm w-100",style:{border:"3px solid #dee2e6"}},aX=CG((()=>(0,o.Lk)("th",{scope:"row",style:{width:"30%","text-align":"left",border:"1px solid #dee2e6"}},"공정검사번호",-1))),lX={style:{"text-align":"right",border:"1px solid #dee2e6"}},oX=CG((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"음료 제품명",-1))),sX={style:{"text-align":"right",border:"1px solid #dee2e6"}},nX=CG((()=>(0,o.Lk)("hr",null,null,-1))),iX=["onUpdate:modelValue","placeholder"],rX=CG((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검사 완료 확인",-1))),cX=CG((()=>(0,o.Lk)("p",null,"해당 검사 내역대로 저장하시겠습니까?",-1))),dX={style:{display:"none"}};function uX(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),u=(0,o.g2)("Modal"),p=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",DG,[SG,NG,(0,o.Lk)("div",MG,[RG,(0,o.Lk)("div",AG,[(0,o.Lk)("div",IG,[EG,(0,o.Lk)("div",FG,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",PG,[OG,(0,o.Lk)("div",qG,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",$G,[TG,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"pName",class:"form-control border p-2 cursor-pointer",placeholder:"제품명","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.pName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.pName]])]),(0,o.Lk)("div",jG,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),QG,(0,o.Lk)("div",UG,[JG,zG,(0,o.Lk)("div",BG,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,onCellClicked:i.onCellClicked,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])])]),VG,(0,o.Lk)("div",WG,[GG,(0,o.Lk)("div",XG,[(0,o.bF)(c,{rowData:n.rowData2,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,onCellClicked:i.onCellClicked,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"400px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])]),(0,o.Lk)("div",KG,[(0,o.Lk)("div",HG,[(0,o.bF)(r,{class:"btn btn-success",size:"lg",onClick:i.openModal},{default:(0,o.k6)((()=>[(0,o.eW)("저장")])),_:1},8,["onClick"])]),(0,o.Lk)("div",YG,[(0,o.bF)(r,{class:"btn btn-warning",size:"lg",onClick:i.reset},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.bF)(u,{isShowModal:n.showModalRJC,onCloseModal:i.closeModal,onConfirm:t[3]||(t[3]=e=>i.saveDefectDetailsForRow(n.selectedRow.qcProcessId))},{title:(0,o.k6)((()=>[ZG])),list:(0,o.k6)((()=>[(0,o.Lk)("div",eX,[(0,o.Lk)("table",tX,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[aX,(0,o.Lk)("td",lX,(0,d.v_)(n.selectedRow.qcProcessId),1)]),(0,o.Lk)("tr",null,[oX,(0,o.Lk)("td",sX,(0,d.v_)(n.selectedRow.pName),1)])])]),nX,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.defectDetailsMap[n.selectedRow.qcProcessId],((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"inspection-item"},[(0,o.Lk)("label",null,(0,d.v_)(i.processedItemNames[t]),1),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.input_value=t,class:"form-control mt-2 w-100",placeholder:`허용치 ${e.etc_min} ~ ${e.etc_max} ${e.item_unit}`,autocomplete:"off"},null,8,iX),[[l.Jo,e.input_value,void 0,{number:!0}]])])))),128))])])),_:1},8,["isShowModal","onCloseModal"]),(0,o.bF)(u,{isShowModal:n.showModalDone,onCloseModal:i.closeModal,onConfirm:i.confirm},{title:(0,o.k6)((()=>[rX])),list:(0,o.k6)((()=>[cX])),_:1},8,["isShowModal","onCloseModal","onConfirm"]),(0,o.Lk)("div",dX,[(0,o.bF)(p)])],64)}a(178);const{notify:pX}=(0,Te.hN)();var mX={name:"음료검사기록",components:{MaterialButton:uC,Modal:Yz,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{pName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd")},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"공정검사번호",field:"qcProcessId",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"공정작업번호",field:"processNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1},{headerName:"생산지시번호",field:"productionOrderNum",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"제품명",field:"pName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"합격 여부",field:"inspecResult",resizable:!1,cellStyle:{cursor:"text",textAlign:"left"},cellRenderer:e=>null!=e.value?`\n                <div style="display: flex; align-items: center; justify-content: space-between;">\n                  <i class="fas fa-edit" style=" color: gray; margin-right: 5px;"></i>\n                  <span style="flex-grow: 1; text-align: right;">${e.value}</span>\n                </div>\n              `:'<span style="text-align: right;"></span>',flex:1},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"검사상태",field:"inspecStatus",resizable:!1,cellStyle:{textAlign:"left"},flex:1}],defaultColDef:{headerClass:"header-center"},showModalRJC:!1,selectedRow:{},testDetails:{},defectDetailsMap:{},rowData2:[],completedDefectDetailsMap:{},showModalDone:!1}},computed:{processedItemNames(){return this.defectDetailsMap[this.selectedRow.qcProcessId].map((e=>{switch(e.item_name){case"pH":return`산도(${e.item_name})`;case"CFU":return`총세균수(${e.item_name})`;case"Brix":return`당도(${e.item_name})`;case"PesticideResidues":return`잔류농약(${e.item_name})`;case"YeastAndMold":return`효모/곰팡이(${e.item_name})`;default:return e.item_name}}))}},methods:{dateFormat(e,t){return Ho.dateFormat(e,t)},onGridReady(e){this.gridApi=e.api},processSearchResults(e){const t=[];for(let a of e)t.push({qcProcessId:a.qc_berverage_id,processNum:a.process_num,productionOrderNum:a.production_order_num,productCode:a.product_code,pName:a.product_name,eName:a.emp_name,inspecResult:"미정",inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecStatus:a.inspec_status}),this.addDefectDetailForRow(a.qc_berverage_id,a.product_code);return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void pX({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});const e=this.searchInfo.pName.replace(/\s+/g,""),t={pName:0!=e.length?e:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let a=await Re.A.post(`${Ae}/requestQCPB`,t).catch((e=>console.log(e)));this.searchList=a.data,this.rowData1=[],this.defectDetailsMap={},this.rowData1=this.processSearchResults(this.searchList),this.rowData2=[],this.completedDefectDetailsMap={}},async searchRequestAll(){let e=await Re.A.post(`${Ae}/requestQCPB`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.defectDetailsMap={},this.rowData1=this.processSearchResults(this.searchList),this.rowData2=[],this.completedDefectDetailsMap={}},onCellClicked(e){this.selectedRow=e.data,this.showModalRJC=!0},closeModal(){this.showModalRJC=!1,this.selectedRow={},this.showModalDone=!1},addDefectDetailForRow(e,t){this.defectDetailsMap[e]||(this.defectDetailsMap[e]=[]);const a=this.testDetails[t]||[];a.forEach((t=>{this.defectDetailsMap[e].push({item_id:t.item_id,details_id:t.details_id,item_name:t.item_name,item_unit:t.item_unit,etc_min:t.etc_min,etc_max:t.etc_max,input_value:""})}))},saveDefectDetailsForRow(e){const t=this.defectDetailsMap[e]||[];if(t.some((e=>null==e.input_value||""===e.input_value||e.input_value<0)))return void pX({text:"검사 항목의 입력 값은 음수나 공백이 허용되지 않습니다.",type:"warn"});if(t.some((e=>"pH"===e.item_name&&e.input_value>14)))return void pX({text:"산도 검사 범위의 최대치는 14pH 입니다.",type:"warn"});t.forEach((e=>{e.input_value<e.etc_min||e.input_value>e.etc_max?e.is_passed="no":e.is_passed="yes"})),this.completedDefectDetailsMap||(this.completedDefectDetailsMap={}),this.completedDefectDetailsMap[e]=t.filter((e=>void 0!==e.is_passed));const a=this.rowData1.findIndex((e=>e.qcProcessId===this.selectedRow.qcProcessId));if(-1!==a){const e=t.every((e=>"yes"===e.is_passed)),l=e?"합격":"불합격";this.rowData1=this.rowData1.map(((e,t)=>t===a?{...e,inspecStatus:"검사내역입력완료",inspecResult:l}:e)),pX({text:`검사 결과, ${l}입니다. `,type:"success"})}this.closeModal(),this.rowData2=this.rowData1.filter((e=>"검사내역입력완료"===e["inspecStatus"]))},openModal(){0!=this.rowData2.length?this.showModalDone=!this.showModalDone:pX({text:"검사처리내역이 비었습니다.",type:"error"})},async confirm(){let e=[];for(let l in this.completedDefectDetailsMap)Object.prototype.hasOwnProperty.call(this.completedDefectDetailsMap,l)&&this.completedDefectDetailsMap[l].forEach((t=>{e.push({qcProcessId:l,itemId:t.item_id,detailsId:t.details_id,actualValue:t.input_value,isPassed:t.is_passed})}));e.sort(((e,t)=>e.qcProcessId.localeCompare(t.qcProcessId)));let t={qcpb:this.rowData2,qcpbr:e},a=await Re.A.post(`${Ae}/completeQCPB`,t).catch((e=>console.log(e)));pX({text:`완료된 검사: ${a.data.updatedRows}건, 기록된 검사 내역: ${a.data.defectNum}건`,type:"success"}),this.closeModal(),this.searchRequestAll()},async callTestDetail(){let e=await Re.A.get(`${Ae}/testDetailsForB`).catch((e=>console.log(e)));this.testDetails=e.data},reset(){0!=this.rowData2.length&&(this.searchRequestAll(),pX({text:"검사 처리 내역을 초기화 했습니다.",type:"warn"}))}},async created(){await this.callTestDetail(),this.searchRequestAll()}};const hX=(0,ne.A)(mX,[["render",uX],["__scopeId","data-v-ee00167e"]]);var yX=hX;const fX=e=>((0,o.Qi)("data-v-7feebb76"),e=e(),(0,o.jt)(),e),gX={class:"px-4 py-4"},kX=fX((()=>(0,o.Lk)("h3",{class:"mb-3"},"공정 검사-세척 검사 기록 조회",-1))),bX=fX((()=>(0,o.Lk)("hr",null,null,-1))),LX={class:"mb-4"},vX=fX((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),xX={class:"row gx-3 p-4 rounded border shadow search-background"},wX={class:"col-md-2 ps-5"},_X=fX((()=>(0,o.Lk)("label",{for:"qcStat",class:"form-label"},"검사 상태",-1))),CX=fX((()=>(0,o.Lk)("option",{value:"qcs1"},"전체",-1))),DX=fX((()=>(0,o.Lk)("option",{value:"qcs2"},"검사 완료",-1))),SX=fX((()=>(0,o.Lk)("option",{value:"qcs3"},"검사 미완료",-1))),NX=[CX,DX,SX],MX={class:"col-md-2"},RX=fX((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"검사일(부터)",-1))),AX={class:"d-flex gap-2"},IX={class:"col-md-2"},EX=fX((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"검사일(까지)",-1))),FX={class:"d-flex gap-2"},PX={class:"col-md-2"},OX=fX((()=>(0,o.Lk)("label",{for:"mName",class:"form-label"},"자재명",-1))),qX={class:"col-md-2 d-flex align-items-end"},$X=fX((()=>(0,o.Lk)("hr",null,null,-1))),TX={class:"container-fluid py-4"},jX=fX((()=>(0,o.Lk)("h4",null,"입고 상세 정보",-1))),QX={class:"grid-container"},UX=fX((()=>(0,o.Lk)("hr",null,null,-1))),JX={style:{display:"none"}};function zX(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),d=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",gX,[kX,bX,(0,o.Lk)("div",LX,[vX,(0,o.Lk)("div",xX,[(0,o.Lk)("div",wX,[_X,(0,o.bo)((0,o.Lk)("select",{class:"form-select text-center border cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.qcState=e),"aria-label":"검사 상태 선택"},NX,512),[[l.u1,n.searchInfo.qcState]])]),(0,o.Lk)("div",MX,[RX,(0,o.Lk)("div",AX,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",IX,[EX,(0,o.Lk)("div",FX,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",PX,[OX,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"mName",class:"form-control border p-2 cursor-pointer",placeholder:"자재명","onUpdate:modelValue":t[3]||(t[3]=e=>n.searchInfo.mName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.mName]])]),(0,o.Lk)("div",qX,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),$X,(0,o.Lk)("div",TX,[jX,(0,o.Lk)("div",QX,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"700px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","noRowsOverlayComponent"])])]),UX,(0,o.Lk)("div",JX,[(0,o.bF)(d)])],64)}const{notify:BX}=(0,Te.hN)();var VX={name:"세척검사기록",components:{MaterialButton:uC,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{mName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd"),qcState:"qcs1"},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"공정검사번호",field:"qcProcessId",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"공정작업번호",field:"processNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1},{headerName:"생산지시번호",field:"productionOrderNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1},{headerName:"자재명",field:"mName",resizable:!1,cellStyle:{textAlign:"left"},flex:1.25},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"총 수량",field:"totalQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"합격량",field:"passQnt",resizable:!1,editable:!0,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"불합격량",field:"rjcQnt",resizable:!1,editable:!0,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"검사완료시각",field:"inspecEnd",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"검사상태",field:"inspecStatus",resizable:!1,cellStyle:{textAlign:"left"},flex:1}],defaultColDef:{headerClass:"header-center"}}},methods:{onGridReady(e){this.gridApi=e.api},dateFormat(e,t){return Ho.dateFormat(e,t)},processSearchResults(e){const t=[];for(let a of e)t.push({qcProcessId:a.qc_cleaning_id,processNum:a.process_num,productionOrderNum:a.production_order_num,mName:a.material,eName:a.emp_name,totalQnt:a.total_qnt,passQnt:a.pass_qnt,rjcQnt:a.rjc_qnt,inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecEnd:null===a.inspec_end?"":this.dateFormat(a.inspec_end,"yyyy-MM-dd hh:mm:ss"),inspecStatus:a.inspec_status});return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void BX({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});let e="";switch(this.searchInfo.qcState){case"qcs1":e="recordQCPCAll";break;case"qcs2":e="recordQCPC";break;case"qcs3":e="requestQCPC";break}const t=this.searchInfo.mName.replace(/\s+/g,""),a={mName:0!=t.length?t:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let l=await Re.A.post(`${Ae}/${e}`,a).catch((e=>console.log(e)));this.searchList=l.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)},async searchRequestAll(){let e=await Re.A.post(`${Ae}/recordQCPCAll`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)}},created(){this.searchRequestAll()}};const WX=(0,ne.A)(VX,[["render",zX],["__scopeId","data-v-7feebb76"]]);var GX=WX;const XX=e=>((0,o.Qi)("data-v-3265a072"),e=e(),(0,o.jt)(),e),KX={class:"px-4 py-4"},HX=XX((()=>(0,o.Lk)("h3",{class:"mb-3"},"공정 검사- 세척 검사 불량 내역 조회",-1))),YX=XX((()=>(0,o.Lk)("hr",null,null,-1))),ZX={class:"mb-4"},eK=XX((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),tK={class:"row gx-3 p-4 rounded border shadow search-background"},aK={class:"col-md-2 ps-5"},lK=XX((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"검사일(부터)",-1))),oK={class:"d-flex gap-2"},sK={class:"col-md-2"},nK=XX((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"검사일(까지)",-1))),iK={class:"d-flex gap-2"},rK={class:"col-md-3"},cK=XX((()=>(0,o.Lk)("label",{for:"mName",class:"form-label"},"자재명",-1))),dK={class:"col-md-2 d-flex align-items-end"},uK=XX((()=>(0,o.Lk)("hr",null,null,-1))),pK={class:"container-fluid py-4"},mK=XX((()=>(0,o.Lk)("h4",null,"불량 내역",-1))),hK={class:"grid-container"},yK=XX((()=>(0,o.Lk)("hr",null,null,-1))),fK={style:{display:"none"}};function gK(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),d=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",KX,[HX,YX,(0,o.Lk)("div",ZX,[eK,(0,o.Lk)("div",tK,[(0,o.Lk)("div",aK,[lK,(0,o.Lk)("div",oK,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",sK,[nK,(0,o.Lk)("div",iK,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",rK,[cK,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"mName",class:"form-control border p-2 cursor-pointer",placeholder:"자재명","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.mName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.mName]])]),(0,o.Lk)("div",dK,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),uK,(0,o.Lk)("div",pK,[mK,(0,o.Lk)("div",hK,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"700px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","noRowsOverlayComponent"])])]),yK,(0,o.Lk)("div",fK,[(0,o.bF)(d)])],64)}const{notify:kK}=(0,Te.hN)();var bK={name:"세척검사불량내역",components:{MaterialButton:uC,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{mName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd")},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"불량품번호",field:"qcCleaningRjcId",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"포장검사번호",field:"qcCleaningId",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"공정작업번호",field:"processNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1.25},{headerName:"생산지시번호",field:"productionOrderNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1.25},{headerName:"자재명",field:"mName",resizable:!1,cellStyle:{textAlign:"left"},flex:1.25},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:1.1},{headerName:"불합격량",field:"rjcQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"불량코드",field:"faultyCode",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"불량명",field:"faultyReason",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"검사완료시각",field:"inspecEnd",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5}],defaultColDef:{headerClass:"header-center"}}},methods:{onGridReady(e){this.gridApi=e.api},dateFormat(e,t){return Ho.dateFormat(e,t)},processSearchResults(e){const t=[];for(let a of e)t.push({qcCleaningRjcId:a.cleaning_rjc_id,qcCleaningId:a.qc_cleaning_id,productionOrderNum:a.production_order_num,processNum:a.process_num,mName:a.material,eName:a.name,rjcQnt:a.rjc_quantity,faultyCode:a.faulty_code,faultyReason:a.faulty_reason,inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecEnd:this.dateFormat(a.inspec_end,"yyyy-MM-dd hh:mm:ss")});return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void kK({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});const e=this.searchInfo.mName.replace(/\s+/g,""),t={mName:0!=e.length?e:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let a=await Re.A.post(`${Ae}/recordQCPCR`,t).catch((e=>console.log(e)));this.searchList=a.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)},async searchRequestAll(){let e=await Re.A.post(`${Ae}/recordQCPCR`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)}},created(){this.searchRequestAll()}};const LK=(0,ne.A)(bK,[["render",gK],["__scopeId","data-v-3265a072"]]);var vK=LK;const xK=e=>((0,o.Qi)("data-v-f2e4d862"),e=e(),(0,o.jt)(),e),wK={class:"px-4 py-4"},_K=xK((()=>(0,o.Lk)("h3",{class:"mb-3"},"공정 검사-음료 검사 기록 조회",-1))),CK=xK((()=>(0,o.Lk)("hr",null,null,-1))),DK={class:"mb-4"},SK=xK((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),NK={class:"row gx-3 p-4 rounded border shadow search-background"},MK={class:"col-md-1"},RK=xK((()=>(0,o.Lk)("label",{for:"qcStat",class:"form-label"},"검사 상태",-1))),AK=xK((()=>(0,o.Lk)("option",{value:"qcs1"},"전체",-1))),IK=xK((()=>(0,o.Lk)("option",{value:"qcs2"},"검사 완료",-1))),EK=xK((()=>(0,o.Lk)("option",{value:"qcs3"},"검사 미완료",-1))),FK=[AK,IK,EK],PK={key:0,class:"col-md-1"},OK=xK((()=>(0,o.Lk)("label",{for:"isPass",class:"form-label"},"합격 여부",-1))),qK=xK((()=>(0,o.Lk)("option",{value:"all"},"전체",-1))),$K=xK((()=>(0,o.Lk)("option",{value:"passed"},"합격",-1))),TK=xK((()=>(0,o.Lk)("option",{value:"failed"},"불합격",-1))),jK=[qK,$K,TK],QK={class:"col-md-2"},UK=xK((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"검사일(부터)",-1))),JK={class:"d-flex gap-2"},zK={class:"col-md-2"},BK=xK((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"검사일(까지)",-1))),VK={class:"d-flex gap-2"},WK={class:"col-md-2"},GK=xK((()=>(0,o.Lk)("label",{for:"pName",class:"form-label"},"제품명",-1))),XK={class:"col-md-2 d-flex align-items-end"},KK=xK((()=>(0,o.Lk)("hr",null,null,-1))),HK={class:"container-fluid py-4"},YK=xK((()=>(0,o.Lk)("h4",null,"검사 상세 정보",-1))),ZK=xK((()=>(0,o.Lk)("div",{class:"ps-4"},[(0,o.Lk)("p",null,"조회할 검사 건을 선택하시면 자세한 검사 내용을 확인할 수 있습니다.")],-1))),eH={class:"grid-container"},tH=xK((()=>(0,o.Lk)("hr",null,null,-1))),aH=xK((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검사 상세 정보",-1))),lH={class:"modal-css"},oH={class:"table table-sm w-100",style:{border:"3px solid #dee2e6"}},sH=xK((()=>(0,o.Lk)("th",{scope:"row",style:{width:"30%","text-align":"left",border:"1px solid #dee2e6"}},"공정검사번호",-1))),nH={style:{"text-align":"right",border:"1px solid #dee2e6"}},iH=xK((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"음료 제품명",-1))),rH={style:{"text-align":"right",border:"1px solid #dee2e6"}},cH={key:0},dH=xK((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"검사 결과",-1))),uH={style:{"font-weight":"bold","text-align":"right",border:"1px solid #dee2e6",color:"#007bff"}},pH={key:1},mH=xK((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"검사 결과",-1))),hH={style:{"font-weight":"bold","text-align":"right",border:"1px solid #dee2e6",color:"#f44335"}},yH=xK((()=>(0,o.Lk)("hr",null,null,-1))),fH={class:"d-flex justify-content-between align-items-center mb-3"},gH={class:"item-name"},kH={class:"item-range"},bH={key:0},LH={class:"item-value-passed"},vH={key:1},xH={class:"item-value-failed"},wH={style:{display:"none"}};function _H(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),u=(0,o.g2)("Modal"),p=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",wK,[_K,CK,(0,o.Lk)("div",DK,[SK,(0,o.Lk)("div",NK,[(0,o.Lk)("div",MK,[RK,(0,o.bo)((0,o.Lk)("select",{class:"form-select text-center border cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.qcState=e),"aria-label":"검사 상태 선택"},FK,512),[[l.u1,n.searchInfo.qcState]])]),"qcs2"===n.searchInfo.qcState?((0,o.uX)(),(0,o.CE)("div",PK,[OK,(0,o.bo)((0,o.Lk)("select",{class:"form-select text-center border cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.isPassed=e),"aria-label":"검사 상태 선택"},jK,512),[[l.u1,n.searchInfo.isPassed]])])):(0,o.Q3)("",!0),(0,o.Lk)("div",QK,[UK,(0,o.Lk)("div",JK,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",zK,[BK,(0,o.Lk)("div",VK,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[3]||(t[3]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",WK,[GK,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"pName",class:"form-control border p-2 cursor-pointer",placeholder:"제품명","onUpdate:modelValue":t[4]||(t[4]=e=>n.searchInfo.pName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.pName]])]),(0,o.Lk)("div",XK,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),KK,(0,o.Lk)("div",HK,[YK,ZK,(0,o.Lk)("div",eH,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,onCellClicked:i.onCellClicked,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"700px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])])]),tH,(0,o.bF)(u,{isShowModal:n.showModalRJC,onCloseModal:i.closeModal},{title:(0,o.k6)((()=>[aH])),list:(0,o.k6)((()=>[(0,o.Lk)("div",lH,[(0,o.Lk)("table",oH,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[sH,(0,o.Lk)("td",nH,(0,d.v_)(n.selectedRow.qcProcessId),1)]),(0,o.Lk)("tr",null,[iH,(0,o.Lk)("td",rH,(0,d.v_)(n.selectedRow.pName),1)]),"합격"===n.selectedRow.inspecResult?((0,o.uX)(),(0,o.CE)("tr",cH,[dH,(0,o.Lk)("td",uH,(0,d.v_)(n.selectedRow.inspecResult),1)])):(0,o.Q3)("",!0),"불합격"===n.selectedRow.inspecResult?((0,o.uX)(),(0,o.CE)("tr",pH,[mH,(0,o.Lk)("td",hH,(0,d.v_)(n.selectedRow.inspecResult),1)])):(0,o.Q3)("",!0)])]),yH,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.defectDetailsMap[n.selectedRow.qcProcessId],((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"inspection-item"},[(0,o.Lk)("div",fH,[(0,o.Lk)("div",null,[(0,o.Lk)("span",gH,(0,d.v_)(i.processedItemNames[t]),1),(0,o.Lk)("span",kH," [ 허용치 "+(0,d.v_)(e.etc_min)+" ~ "+(0,d.v_)(e.etc_max)+" "+(0,d.v_)(e.item_unit)+" ] ",1)]),"yes"===e.is_passed?((0,o.uX)(),(0,o.CE)("div",bH,[(0,o.Lk)("div",LH,(0,d.v_)(e.input_value)+" "+(0,d.v_)(e.item_unit),1)])):"no"===e.is_passed?((0,o.uX)(),(0,o.CE)("div",vH,[(0,o.Lk)("div",xH,(0,d.v_)(e.input_value)+" "+(0,d.v_)(e.item_unit),1)])):(0,o.Q3)("",!0)])])))),128))])])),_:1},8,["isShowModal","onCloseModal"]),(0,o.Lk)("div",wH,[(0,o.bF)(p)])],64)}const CH={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"},DH={class:"modal-content"},SH={class:"modal-header",style:{"background-color":"#e9ecef"}},NH={class:"modal-body"},MH={class:"modal-footer"};function RH(e,t,a,l,s,n){return(0,o.uX)(),(0,o.CE)("div",{class:(0,d.C4)(["modal fade",{show:a.isShowModal}]),id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[(0,o.Lk)("div",CH,[(0,o.Lk)("div",DH,[(0,o.Lk)("div",SH,[(0,o.RG)(e.$slots,"title",{},(()=>[(0,o.eW)("title")]),!0)]),(0,o.Lk)("div",NH,[(0,o.RG)(e.$slots,"list",{},(()=>[(0,o.eW)("slot")]),!0)]),(0,o.Lk)("div",MH,[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>n.closeModal&&n.closeModal(...e))},"닫기")])])])],2)}var AH={name:"Modal",props:{isShowModal:Boolean},data(){return{modalState:this.isShowModal}},methods:{closeModal(){this.$emit("closeModal")}}};const IH=(0,ne.A)(AH,[["render",RH],["__scopeId","data-v-762de0ff"]]);var EH=IH;const{notify:FH}=(0,Te.hN)();var PH={name:"음료검사관리",components:{MaterialButton:uC,Modal:EH,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{pName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd"),qcState:"qcs1",isPassed:"all"},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"공정검사번호",field:"qcProcessId",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"공정작업번호",field:"processNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1},{headerName:"생산지시번호",field:"productionOrderNum",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"제품명",field:"pName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"합격 여부",field:"inspecResult",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"검사완료시각",field:"inspecEnd",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"검사상태",field:"inspecStatus",resizable:!1,cellStyle:{textAlign:"left"},flex:1}],defaultColDef:{headerClass:"header-center"},showModalRJC:!1,selectedRow:{},testDetails:{},defectDetailsMap:{},completedDefectDetailsMap:{},completedTestDetails:[]}},computed:{processedItemNames(){return this.defectDetailsMap[this.selectedRow.qcProcessId].map((e=>{switch(e.item_name){case"pH":return`산도(${e.item_name})`;case"CFU":return`총 세균수(${e.item_name})`;case"Brix":return`당도(${e.item_name})`;case"PesticideResidues":return`잔류 농약(${e.item_name})`;case"YeastAndMold":return`효모/곰팡이(${e.item_name})`;default:return e.item_name}}))}},watch:{"searchInfo.qcState":function(){this.searchInfo.isPassed="all"}},methods:{dateFormat(e,t){return Ho.dateFormat(e,t)},onGridReady(e){this.gridApi=e.api},processSearchResults(e){const t=[];for(let a of e)t.push({qcProcessId:a.qc_berverage_id,processNum:a.process_num,productionOrderNum:a.production_order_num,productCode:a.product_code,pName:a.product_name,eName:a.emp_name,inspecResult:null===a.inspec_result?"미정":a.inspec_result,inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecEnd:null===a.inspec_end?"":this.dateFormat(a.inspec_end,"yyyy-MM-dd hh:mm:ss"),inspecStatus:a.inspec_status}),this.addDefectDetailForRow(a.qc_berverage_id,a.product_code);return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void FH({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});let e="";switch(this.searchInfo.qcState){case"qcs1":e="recordQCPBAll";break;case"qcs2":e="recordQCPB";break;case"qcs3":e="requestQCPB";break}const t=this.searchInfo.pName.replace(/\s+/g,""),a={pName:0!=t.length?t:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate,isPassed:this.searchInfo.isPassed};let l=await Re.A.post(`${Ae}/${e}`,a).catch((e=>console.log(e)));this.searchList=l.data,this.rowData1=[],this.defectDetailsMap={},this.rowData1=this.processSearchResults(this.searchList),this.completedDefectDetailsMap={}},async searchRequestAll(){let e=await Re.A.post(`${Ae}/recordQCPBAll`).catch((e=>console.log(e)));this.searchList=e.data,console.log(e.data),this.rowData1=[],this.defectDetailsMap={},this.rowData1=this.processSearchResults(this.searchList),this.completedDefectDetailsMap={}},onCellClicked(e){this.selectedRow=e.data,this.showModalRJC=!0},closeModal(){this.showModalRJC=!1,this.selectedRow={}},addDefectDetailForRow(e,t){this.defectDetailsMap[e]||(this.defectDetailsMap[e]=[]);const a=this.testDetails[t]||[];a.forEach((t=>{let a=this.completedTestDetails.find((a=>a.qc_berverage_id===e&&a.bev_test_item_id===t.item_id&&a.bev_test_details_id===t.details_id));this.defectDetailsMap[e].push({qcProcessId:e,item_id:t.item_id,details_id:t.details_id,item_name:t.item_name,item_unit:t.item_unit,etc_min:t.etc_min,etc_max:t.etc_max,input_value:a?a.actual_value:0,is_passed:a?a.is_passed:""})}))},async callTestDetail(){let e=await Re.A.get(`${Ae}/testDetailsForB`).catch((e=>console.log(e)));this.testDetails=e.data},async callCompletedTestDetail(){let e=await Re.A.get(`${Ae}/recordQCPBDetails`).catch((e=>console.log(e)));this.completedTestDetails=e.data}},async created(){await this.callCompletedTestDetail(),await this.callTestDetail(),this.searchRequestAll()}};const OH=(0,ne.A)(PH,[["render",_H],["__scopeId","data-v-f2e4d862"]]);var qH=OH;const $H=e=>((0,o.Qi)("data-v-6c23a26c"),e=e(),(0,o.jt)(),e),TH={class:"px-4 py-4"},jH=$H((()=>(0,o.Lk)("h3",{class:"mb-3"},"포장 검사 관리",-1))),QH=$H((()=>(0,o.Lk)("hr",null,null,-1))),UH={class:"mb-4"},JH=$H((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),zH={class:"row gx-3 p-4 rounded border shadow search-background"},BH={class:"col-md-2 ps-5"},VH=$H((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"등록일(부터)",-1))),WH={class:"d-flex gap-2"},GH={class:"col-md-2"},XH=$H((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"등록일(까지)",-1))),KH={class:"d-flex gap-2"},HH={class:"col-md-3"},YH=$H((()=>(0,o.Lk)("label",{for:"pName",class:"form-label"},"제품명",-1))),ZH={class:"col-md-2 d-flex align-items-end"},eY=$H((()=>(0,o.Lk)("hr",null,null,-1))),tY={class:"container-fluid py-4"},aY=$H((()=>(0,o.Lk)("h4",null,"검사 상세 정보",-1))),lY=$H((()=>(0,o.Lk)("div",{class:"ps-4"},[(0,o.Lk)("p",null,"검사할 제품을 선택하고 이상이 있을 시 불량 사유와 불량 수량을 입력하세요.")],-1))),oY={class:"grid-container"},sY=$H((()=>(0,o.Lk)("hr",null,null,-1))),nY={class:"container-fluid py-4"},iY=$H((()=>(0,o.Lk)("h4",null,"검사 처리 내역",-1))),rY={class:"grid-container"},cY=$H((()=>(0,o.Lk)("hr",null,null,-1))),dY={class:"row justify-content-center"},uY={class:"col-auto"},pY={class:"col-auto"},mY=$H((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검사 상세 정보",-1))),hY={class:"modal-css"},yY={class:"table table-sm w-100",style:{border:"3px solid #dee2e6"}},fY=$H((()=>(0,o.Lk)("th",{scope:"row",style:{width:"30%","text-align":"left",border:"1px solid #dee2e6"}},"공정검사번호",-1))),gY={style:{"text-align":"right",border:"1px solid #dee2e6"}},kY=$H((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"제품명",-1))),bY={style:{"text-align":"right",border:"1px solid #dee2e6"}},LY=$H((()=>(0,o.Lk)("th",{scope:"row",style:{"text-align":"left",border:"1px solid #dee2e6"}},"총 수량",-1))),vY={style:{"text-align":"right",border:"1px solid #dee2e6"}},xY={class:"d-flex justify-content-end mt-3"},wY=$H((()=>(0,o.Lk)("h5",{class:"pt-5"},"불량 내역",-1))),_Y={key:0,class:"pt-2"},CY=$H((()=>(0,o.Lk)("b",null,"불량 내역이 없습니다.",-1))),DY=[CY],SY={class:"form-group"},NY=["for"],MY=["onUpdate:modelValue","id"],RY=$H((()=>(0,o.Lk)("option",{value:"",hidden:"",disabled:"",selected:""},"(선택)",-1))),AY=["value"],IY={class:"form-group mt-2"},EY=["for"],FY=["onUpdate:modelValue","id"],PY={class:"d-flex justify-content-end mt-3"},OY=["onClick"],qY=$H((()=>(0,o.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"검사 완료 확인",-1))),$Y=$H((()=>(0,o.Lk)("b",null,"검사 내역대로 저장하시겠습니까?",-1))),TY={style:{display:"none"}};function jY(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),u=(0,o.g2)("Modal"),p=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",TH,[jH,QH,(0,o.Lk)("div",UH,[JH,(0,o.Lk)("div",zH,[(0,o.Lk)("div",BH,[VH,(0,o.Lk)("div",WH,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",GH,[XH,(0,o.Lk)("div",KH,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",HH,[YH,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"pName",class:"form-control border p-2 cursor-pointer",placeholder:"제품명","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.pName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.pName]])]),(0,o.Lk)("div",ZH,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),eY,(0,o.Lk)("div",tY,[aY,lY,(0,o.Lk)("div",oY,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,onCellClicked:i.onCellClicked,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])])]),sY,(0,o.Lk)("div",nY,[iY,(0,o.Lk)("div",rY,[(0,o.bF)(c,{rowData:n.rowData2,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,onCellClicked:i.onCellClicked,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"400px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","onCellClicked","noRowsOverlayComponent"])]),cY,(0,o.Lk)("div",dY,[(0,o.Lk)("div",uY,[(0,o.bF)(r,{class:"btn btn-success",size:"lg",onClick:i.openModal},{default:(0,o.k6)((()=>[(0,o.eW)("저장")])),_:1},8,["onClick"])]),(0,o.Lk)("div",pY,[(0,o.bF)(r,{class:"btn btn-warning",size:"lg",onClick:i.reset},{default:(0,o.k6)((()=>[(0,o.eW)("초기화")])),_:1},8,["onClick"])])])]),(0,o.bF)(u,{isShowModal:n.showModalRJC,onCloseModal:i.closeModal,onConfirm:t[4]||(t[4]=e=>i.saveDefectDetailsForRow(n.selectedRow.qcProcessId,n.selectedRow.totalQnt))},{title:(0,o.k6)((()=>[mY])),list:(0,o.k6)((()=>[(0,o.Lk)("div",hY,[(0,o.Lk)("table",yY,[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[fY,(0,o.Lk)("td",gY,(0,d.v_)(n.selectedRow.qcProcessId),1)]),(0,o.Lk)("tr",null,[kY,(0,o.Lk)("td",bY,(0,d.v_)(n.selectedRow.pName),1)]),(0,o.Lk)("tr",null,[LY,(0,o.Lk)("td",vY,(0,d.v_)(n.selectedRow.totalQnt)+" 개",1)])])]),(0,o.Lk)("div",xY,[(0,o.bF)(r,{size:"md",class:"mt-3 btn btn-warning",onClick:t[3]||(t[3]=e=>i.addDefectDetailForRow(n.selectedRow.qcProcessId))},{default:(0,o.k6)((()=>[(0,o.eW)(" 불량 항목 추가 ")])),_:1})]),wY,null==n.defectDetailsMap[n.selectedRow.qcProcessId]?((0,o.uX)(),(0,o.CE)("div",_Y,DY)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.defectDetailsMap[n.selectedRow.qcProcessId],((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"defect-item mt-3"},[(0,o.Lk)("div",SY,[(0,o.Lk)("label",{for:"reason"+t},"불량 사유 "+(0,d.v_)(t+1)+":",9,NY),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t=>e.reason=t,id:"reason"+t,class:"form-control"},[RY,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.defectReasons,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.code,value:e.code},(0,d.v_)(e.name),9,AY)))),128))],8,MY),[[l.u1,e.reason]])]),(0,o.Lk)("div",IY,[(0,o.Lk)("label",{for:"defectQty"+t},"불량 수량(개):",8,EY),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.qty=t,id:"defectQty"+t,class:"form-control",autocomplete:"off"},null,8,FY),[[l.Jo,e.qty]])]),(0,o.Lk)("div",PY,[(0,o.Lk)("button",{class:"btn btn-danger mt-2",onClick:e=>i.removeDefectDetailForRow(n.selectedRow.qcProcessId,t)},"삭제",8,OY)])])))),128))])])),_:1},8,["isShowModal","onCloseModal"]),(0,o.bF)(u,{isShowModal:n.showModalDone,onCloseModal:i.closeModal,onConfirm:i.confirm},{title:(0,o.k6)((()=>[qY])),list:(0,o.k6)((()=>[$Y])),_:1},8,["isShowModal","onCloseModal","onConfirm"]),(0,o.Lk)("div",TY,[(0,o.bF)(p)])],64)}const{notify:QY}=(0,Te.hN)();var UY={name:"입고검사관리",components:{MaterialButton:uC,Modal:Yz,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{pName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd")},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"공정검사번호",field:"qcProcessId",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"공정작업번호",field:"processNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1},{headerName:"생산지시번호",field:"productionOrderNum",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"제품명",field:"pName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"총 수량",field:"totalQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"합격량",field:"passQnt",resizable:!1,editable:!0,cellStyle:{cursor:"text",textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`\n                <div style="display: flex; align-items: center; justify-content: space-between;">\n                  <i class="fas fa-edit" style=" color: gray; margin-right: 5px;"></i>\n                  <span style="flex-grow: 1; text-align: right;">${t}</span>\n                </div>\n              `}return'<span style="text-align: right;"></span>'}},{headerName:"불합격량",field:"rjcQnt",resizable:!1,editable:!0,cellStyle:{cursor:"text",textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`\n                <div style="display: flex; align-items: center; justify-content: space-between;">\n                  <i class="fas fa-edit" style=" color: gray; margin-right: 5px;"></i>\n                  <span style="flex-grow: 1; text-align: right;">${t}</span>\n                </div>\n              `}return'<span style="text-align: right;"></span>'}},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"검사상태",field:"inspecStatus",resizable:!1,cellStyle:{textAlign:"left"},flex:1}],defaultColDef:{headerClass:"header-center"},inspecData:[],showModalRJC:!1,selectedRow:{},defectDetails:[],defectReasons:[],selectedReason:"",defectQty:0,defectDetailsMap:{},rowData2:[],showModalDone:!1}},methods:{dateFormat(e,t){return Ho.dateFormat(e,t)},onGridReady(e){this.gridApi=e.api},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void QY({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});const e=this.searchInfo.pName.replace(/\s+/g,""),t={pName:0!=e.length?e:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let a=await Re.A.post(`${Ae}/requestQCPP`,t).catch((e=>console.log(e)));this.searchList=a.data,this.rowData1=[],this.defectDetailsMap={};for(let l=0;l<this.searchList.length;l++){let e={qcProcessId:this.searchList[l].qc_packing_id,processNum:this.searchList[l].process_num,productionOrderNum:this.searchList[l].production_order_num,pName:this.searchList[l].product_name,eName:this.searchList[l].emp_name,totalQnt:this.searchList[l].total_qnt,passQnt:this.searchList[l].pass_qnt,rjcQnt:this.searchList[l].rjc_qnt,inspecStart:this.dateFormat(this.searchList[l].inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecStatus:this.searchList[l].inspec_status};this.rowData1[l]=e}this.rowData2=[]},async searchRequestAll(){let e=await Re.A.post(`${Ae}/requestQCPP`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.defectDetailsMap=[];for(let t=0;t<this.searchList.length;t++){let e={qcProcessId:this.searchList[t].qc_packing_id,processNum:this.searchList[t].process_num,productionOrderNum:this.searchList[t].production_order_num,pName:this.searchList[t].product_name,eName:this.searchList[t].emp_name,totalQnt:this.searchList[t].total_qnt,passQnt:this.searchList[t].pass_qnt,rjcQnt:this.searchList[t].rjc_qnt,inspecStart:this.dateFormat(this.searchList[t].inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecStatus:this.searchList[t].inspec_status};this.rowData1[t]=e,this.rowData2=[]}},onCellClicked(e){this.selectedRow=e.data,this.showModalRJC=!0},closeModal(){this.showModalRJC=!1,this.selectedRow={},this.showModalDone=!1},addDefectDetailForRow(e){this.defectDetailsMap[e]||(this.defectDetailsMap[e]=[]),this.defectDetailsMap[e].push({reason:"",qty:0})},removeDefectDetailForRow(e,t){this.defectDetailsMap[e]&&(this.defectDetailsMap[e].splice(t,1),0===this.defectDetailsMap[e].length&&delete this.defectDetailsMap[e])},saveDefectDetailsForRow(e,t){const a=this.defectDetailsMap[e]||[];if(a.some((e=>!e.reason)))return void QY({text:"불량 사유가 입력되지 않은 항목이 있습니다.",type:"warn"});if(a.some((e=>e.qty<=0)))return void QY({text:"수량이 입력되지 않았거나 0 이하를 입력한 항목이 있습니다.",type:"warn"});if(a.some((e=>!Number.isInteger(e.qty))))return void QY({text:"해당 자재의 수량은 소수로 입력할 수 없습니다.",type:"warn"});const l=a.reduce(((e,t)=>e+t.qty),0);if(l>t)return void QY({text:"불량 총합량이 총합량보다 클 수 없습니다.",type:"warn"});const o=t-l,s=this.rowData1.findIndex((e=>e.qcProcessId===this.selectedRow.qcProcessId));-1!==s&&(this.rowData1=this.rowData1.map(((e,t)=>t===s?{...e,passQnt:o,rjcQnt:l,inspecStatus:"검사내역입력완료"}:e))),this.closeModal(),this.rowData2=this.rowData1.filter((e=>"검사내역입력완료"===e["inspecStatus"])),QY({text:`검사 결과 - 합격량: ${o}개, 불합격량: ${l}개 입니다.`,type:"success"})},openModal(){0!=this.rowData2.length?this.showModalDone=!this.showModalDone:QY({text:"저장할 검사처리내역이 없습니다.",type:"error"})},async confirm(){let e=[];for(let l in this.defectDetailsMap)Object.prototype.hasOwnProperty.call(this.defectDetailsMap,l)&&this.defectDetailsMap[l].forEach((t=>{e.push({qcProcessId:l,faultyCode:t.reason,qty:t.qty})}));e.sort(((e,t)=>e.qcProcessId===t.qcProcessId?e.faultyCode.localeCompare(t.faultyCode):e.qcProcessId.localeCompare(t.qcProcessId)));let t={qcpp:this.rowData2,qcppr:e},a=await Re.A.post(`${Ae}/completeQCPP`,t).catch((e=>console.log(e)));QY({text:`완료된 검사: ${a.data.updatedRows}건, 기록된 불량 내역: ${a.data.defectNum}건`,type:"success"}),this.closeModal(),this.searchRequestAll()},async callFaultyCode(){let e=await Re.A.get(`${Ae}/faultyCodeQCPC`).catch((e=>console.log(e)));this.faultyCodeList=e.data;const t=[];this.faultyCodeList.forEach(((e,a)=>{t[a]={code:e.faulty_code,name:e.faulty_reason}})),this.defectReasons=t},reset(){0!=this.rowData2.length&&(this.searchRequestAll(),QY({text:"검사 처리 내역을 초기화 했습니다.",type:"warn"}))}},created(){this.searchRequestAll(),this.callFaultyCode()}};const JY=(0,ne.A)(UY,[["render",jY],["__scopeId","data-v-6c23a26c"]]);var zY=JY;const BY=e=>((0,o.Qi)("data-v-7c0f8e75"),e=e(),(0,o.jt)(),e),VY={class:"px-4 py-4"},WY=BY((()=>(0,o.Lk)("h3",{class:"mb-3"},"포장 검사-검사 기록 조회",-1))),GY=BY((()=>(0,o.Lk)("hr",null,null,-1))),XY={class:"mb-4"},KY=BY((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),HY={class:"row gx-3 p-4 rounded border shadow search-background"},YY={class:"col-md-2 ps-5"},ZY=BY((()=>(0,o.Lk)("label",{for:"qcStat",class:"form-label"},"검사 상태",-1))),eZ=BY((()=>(0,o.Lk)("option",{value:"qcs1"},"전체",-1))),tZ=BY((()=>(0,o.Lk)("option",{value:"qcs2"},"검사 완료",-1))),aZ=BY((()=>(0,o.Lk)("option",{value:"qcs3"},"검사 미완료",-1))),lZ=[eZ,tZ,aZ],oZ={class:"col-md-2"},sZ=BY((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"검사일(부터)",-1))),nZ={class:"d-flex gap-2"},iZ={class:"col-md-2"},rZ=BY((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"검사일(까지)",-1))),cZ={class:"d-flex gap-2"},dZ={class:"col-md-2"},uZ=BY((()=>(0,o.Lk)("label",{for:"pName",class:"form-label"},"제품명",-1))),pZ={class:"col-md-2 d-flex align-items-end"},mZ=BY((()=>(0,o.Lk)("hr",null,null,-1))),hZ={class:"container-fluid py-4"},yZ=BY((()=>(0,o.Lk)("h4",null,"입고 상세 정보",-1))),fZ={class:"grid-container"},gZ=BY((()=>(0,o.Lk)("hr",null,null,-1))),kZ={style:{display:"none"}};function bZ(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),d=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",VY,[WY,GY,(0,o.Lk)("div",XY,[KY,(0,o.Lk)("div",HY,[(0,o.Lk)("div",YY,[ZY,(0,o.bo)((0,o.Lk)("select",{class:"form-select text-center border cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.qcState=e),"aria-label":"검사 상태 선택"},lZ,512),[[l.u1,n.searchInfo.qcState]])]),(0,o.Lk)("div",oZ,[sZ,(0,o.Lk)("div",nZ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",iZ,[rZ,(0,o.Lk)("div",cZ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",dZ,[uZ,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"pName",class:"form-control border p-2 cursor-pointer",placeholder:"제품명","onUpdate:modelValue":t[3]||(t[3]=e=>n.searchInfo.pName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.pName]])]),(0,o.Lk)("div",pZ,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),mZ,(0,o.Lk)("div",hZ,[yZ,(0,o.Lk)("div",fZ,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"700px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","noRowsOverlayComponent"])])]),gZ,(0,o.Lk)("div",kZ,[(0,o.bF)(d)])],64)}const{notify:LZ}=(0,Te.hN)();var vZ={name:"입고검사",components:{MaterialButton:uC,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{pName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd"),qcState:"qcs1"},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"공정검사번호",field:"qcProcessId",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"공정작업번호",field:"processNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1.25},{headerName:"생산지시번호",field:"productionOrderNum",resizable:!1,cellStyle:{textAlign:"center"},flex:1.25},{headerName:"제품명",field:"pName",resizable:!1,cellStyle:{textAlign:"left"},flex:1.5},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"center"},flex:1.25},{headerName:"총 수량",field:"totalQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"합격량",field:"passQnt",resizable:!1,editable:!0,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"불합격량",field:"rjcQnt",resizable:!1,editable:!0,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1.6},{headerName:"검사완료시각",field:"inspecEnd",resizable:!1,cellStyle:{textAlign:"center"},flex:1.6},{headerName:"검사상태",field:"inspecStatus",resizable:!1,cellStyle:{textAlign:"left"},flex:1}],defaultColDef:{headerClass:"header-center"}}},methods:{onGridReady(e){this.gridApi=e.api},dateFormat(e,t){return Ho.dateFormat(e,t)},processSearchResults(e){const t=[];for(let a of e)t.push({qcProcessId:a.qc_packing_id,processNum:a.process_num,productionOrderNum:a.production_order_num,pName:a.product_name,eName:a.emp_name,totalQnt:a.total_qnt,passQnt:a.pass_qnt,rjcQnt:a.rjc_qnt,inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecEnd:null===a.inspec_end?"":this.dateFormat(a.inspec_end,"yyyy-MM-dd hh:mm:ss"),inspecStatus:a.inspec_status});return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void LZ({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});let e="";switch(this.searchInfo.qcState){case"qcs1":e="recordQCPPAll";break;case"qcs2":e="recordQCPP";break;case"qcs3":e="requestQCPP";break}const t=this.searchInfo.pName.replace(/\s+/g,""),a={pName:0!=t.length?t:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let l=await Re.A.post(`${Ae}/${e}`,a).catch((e=>console.log(e)));this.searchList=l.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)},async searchRequestAll(){let e=await Re.A.post(`${Ae}/recordQCPPAll`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)}},created(){this.searchRequestAll()}};const xZ=(0,ne.A)(vZ,[["render",bZ],["__scopeId","data-v-7c0f8e75"]]);var wZ=xZ;const _Z=e=>((0,o.Qi)("data-v-29ca4f87"),e=e(),(0,o.jt)(),e),CZ={class:"px-4 py-4"},DZ=_Z((()=>(0,o.Lk)("h3",{class:"mb-3"},"포장 검사-불량 내역 조회",-1))),SZ=_Z((()=>(0,o.Lk)("hr",null,null,-1))),NZ={class:"mb-4"},MZ=_Z((()=>(0,o.Lk)("div",{class:"d-flex align-items-center mb-3"},[(0,o.Lk)("h4",{class:"me-3"},"검색 조건")],-1))),RZ={class:"row gx-3 p-4 rounded border shadow search-background"},AZ={class:"col-md-2 ps-5"},IZ=_Z((()=>(0,o.Lk)("label",{for:"startDate",class:"form-label"},"검사일(부터)",-1))),EZ={class:"d-flex gap-2"},FZ={class:"col-md-2"},PZ=_Z((()=>(0,o.Lk)("label",{for:"endDate",class:"form-label"},"검사일(까지)",-1))),OZ={class:"d-flex gap-2"},qZ={class:"col-md-3"},$Z=_Z((()=>(0,o.Lk)("label",{for:"pName",class:"form-label"},"제품명",-1))),TZ={class:"col-md-2 d-flex align-items-end"},jZ=_Z((()=>(0,o.Lk)("hr",null,null,-1))),QZ={class:"container-fluid py-4"},UZ=_Z((()=>(0,o.Lk)("h4",null,"불량 내역",-1))),JZ={class:"grid-container"},zZ=_Z((()=>(0,o.Lk)("hr",null,null,-1))),BZ={style:{display:"none"}};function VZ(e,t,a,s,n,i){const r=(0,o.g2)("material-button"),c=(0,o.g2)("ag-grid-vue"),d=(0,o.g2)("CustomNoRowsOverlay");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",CZ,[DZ,SZ,(0,o.Lk)("div",NZ,[MZ,(0,o.Lk)("div",RZ,[(0,o.Lk)("div",AZ,[IZ,(0,o.Lk)("div",EZ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"startDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[0]||(t[0]=e=>n.searchInfo.startDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.startDate]])])]),(0,o.Lk)("div",FZ,[PZ,(0,o.Lk)("div",OZ,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"endDate",class:"form-control border p-2 cursor-pointer","onUpdate:modelValue":t[1]||(t[1]=e=>n.searchInfo.endDate=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.endDate]])])]),(0,o.Lk)("div",qZ,[$Z,(0,o.bo)((0,o.Lk)("input",{type:"search",id:"pName",class:"form-control border p-2 cursor-pointer",placeholder:"제품명","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchInfo.pName=e),autocomplete:"off"},null,512),[[l.Jo,n.searchInfo.pName]])]),(0,o.Lk)("div",TZ,[(0,o.bF)(r,{size:"md",onClick:i.searchOrder},{default:(0,o.k6)((()=>[(0,o.eW)("검색")])),_:1},8,["onClick"]),(0,o.bF)(r,{size:"md",class:"m-4",color:"info",onClick:i.searchRequestAll},{default:(0,o.k6)((()=>[(0,o.eW)("전체 조회")])),_:1},8,["onClick"])])])])]),jZ,(0,o.Lk)("div",QZ,[UZ,(0,o.Lk)("div",JZ,[(0,o.bF)(c,{rowData:n.rowData1,columnDefs:n.columnDefs,theme:n.theme,defaultColDef:n.defaultColDef,onGridReady:i.onGridReady,pagination:!0,paginationPageSizeSelector:[10,20,50,100],paginationPageSize:10,style:{height:"700px"},noRowsOverlayComponent:n.noRowsOverlayComponent},null,8,["rowData","columnDefs","theme","defaultColDef","onGridReady","noRowsOverlayComponent"])])]),zZ,(0,o.Lk)("div",BZ,[(0,o.bF)(d)])],64)}const{notify:WZ}=(0,Te.hN)();var GZ={name:"입고검사",components:{MaterialButton:uC,CustomNoRowsOverlay:Hs},data(){return{searchInfo:{pName:"",startDate:this.dateFormat(new Date(Date.now()-6048e5),"yyyy-MM-dd"),endDate:this.dateFormat(new Date,"yyyy-MM-dd")},searchList:[],noRowsOverlayComponent:"CustomNoRowsOverlay",theme:ko,rowData1:[],columnDefs:[{headerName:"불량품번호",field:"qcPackingRjcId",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"포장검사번호",field:"qcPackingId",resizable:!1,cellStyle:{textAlign:"center"},flex:1.5},{headerName:"공정작업번호",field:"processNum",resizable:!1,cellStyle:{textAlign:"right"},flex:1.25},{headerName:"생산지시번호",field:"productionOrderNum",resizable:!1,cellStyle:{textAlign:"center"},flex:1.25},{headerName:"제품명",field:"pName",resizable:!1,cellStyle:{textAlign:"left"},flex:1.5},{headerName:"검사담당자",field:"eName",resizable:!1,cellStyle:{textAlign:"left"},flex:1.25},{headerName:"불합격량",field:"rjcQnt",resizable:!1,cellStyle:{textAlign:"right"},flex:1,cellRenderer:e=>{if(null!=e.value){const t=Number(e.value).toLocaleString()+" 개";return`<span style="text-align: right;">${t}</span>`}return'<span style="text-align: right;"></span>'}},{headerName:"불량코드",field:"faultyCode",resizable:!1,cellStyle:{textAlign:"center"},flex:1},{headerName:"불량명",field:"faultyReason",resizable:!1,cellStyle:{textAlign:"left"},flex:1},{headerName:"검사시작시각",field:"inspecStart",resizable:!1,cellStyle:{textAlign:"center"},flex:1.6},{headerName:"검사완료시각",field:"inspecEnd",resizable:!1,cellStyle:{textAlign:"center"},flex:1.6}],defaultColDef:{headerClass:"header-center"}}},methods:{onGridReady(e){this.gridApi=e.api},dateFormat(e,t){return Ho.dateFormat(e,t)},processSearchResults(e){const t=[];for(let a of e)t.push({qcPackingRjcId:a.packing_rjc_id,qcPackingId:a.qc_packing_id,productionOrderNum:a.production_order_num,processNum:a.process_num,pName:a.product_name,eName:a.name,rjcQnt:a.rjc_quantity,faultyCode:a.faulty_code,faultyReason:a.faulty_reason,inspecStart:this.dateFormat(a.inspec_start,"yyyy-MM-dd hh:mm:ss"),inspecEnd:this.dateFormat(a.inspec_end,"yyyy-MM-dd hh:mm:ss")});return t},async searchOrder(){if(new Date(this.searchInfo.startDate)>new Date(this.searchInfo.endDate))return void WZ({text:"시작 날짜는 종료 날짜보다 이전이어야 합니다.",type:"error"});const e=this.searchInfo.pName.replace(/\s+/g,""),t={pName:0!=e.length?e:"",startDate:this.searchInfo.startDate,endDate:this.searchInfo.endDate};let a=await Re.A.post(`${Ae}/recordQCPPR`,t).catch((e=>console.log(e)));this.searchList=a.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)},async searchRequestAll(){let e=await Re.A.post(`${Ae}/recordQCPPR`).catch((e=>console.log(e)));this.searchList=e.data,this.rowData1=[],this.rowData1=this.processSearchResults(this.searchList)}},created(){this.searchRequestAll()}};const XZ=(0,ne.A)(GZ,[["render",VZ],["__scopeId","data-v-29ca4f87"]]);var KZ=XZ;const HZ=(e,t)=>{ot.state.loginInfo.name?4!==ot.state.loginInfo.job_num&&3!==ot.state.loginInfo.level?((0,Te.me)({title:"로그인요청",text:"품질팀 또는 관리자만 접속 가능합니다.",type:"error"}),t(!1)):t():((0,Te.me)({title:"로그인요청",text:"로그인이 필요한 페이지입니다.",type:"error"}),t(!1))},YZ=[{path:"/",redirect:{name:"qualityList"},name:"qualityList",beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"material",redirect:{name:"qualityList"},beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"material/apply",name:"qCMaterialApply",component:lB,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"material/inspec",name:"qCMaterialInspec",component:uV,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"material/record",name:"qCMaterialRecord",component:zV,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"material/faulty",name:"qCMaterialFaulty",component:gW,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"process",redirect:{name:"qCProcess"},beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"process/inspec",redirect:{name:"qCProcessCleanInspection"},beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"process/inspec/clean",name:"qCProcessCleanInspec",component:_G,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"process/inspec/beverage",name:"qCProcessBeverageInspec",component:yX,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"process/record/cleaning",name:"qCProcessCleaningRecord",component:GX,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"process/faulty/cleaning",name:"qCProcessCleaningFaulty",component:vK,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"process/record/bevarage",name:"qCProcessBevarageRecord",component:qH,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"packing",redirect:{name:"qCPackingInspec"},beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"packing/inspec",name:"qCPackingInspec",component:zY,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"packing/record",name:"qCPackingRecord",component:wZ,beforeEnter:(e,t,a)=>{HZ(e,a)}},{path:"packing/faulty",name:"qCPackingFaulty",component:KZ,beforeEnter:(e,t,a)=>{HZ(e,a)}}];var ZZ=YZ;const e0={class:"grid-container"};function t0(e,t,a,l,s,n){const i=(0,o.g2)("ag-grid-vue");return(0,o.uX)(),(0,o.CE)("div",e0,[(0,o.bF)(i,{rowData:s.rowData,columnDefs:s.columnDefs,theme:s.theme,onGridReady:n.onGridReady},null,8,["rowData","columnDefs","theme","onGridReady"])])}var a0={name:"AgGridExample",data(){return{theme:ko,rowData:[{make:"Tesla",model:"Model Y",price:64950,electric:!0},{make:"Ford",model:"F-Series",price:33850,electric:!0},{make:"Toyota",model:"Corolla",price:29600,electric:!1}],columnDefs:[{field:"make"},{field:"model"},{field:"price"},{field:"electric",editable:!0}]}},methods:{onGridReady(e){this.gridApi=e.api,this.gridApi.sizeColumnsToFit()}}};const l0=(0,ne.A)(a0,[["render",t0]]);var o0=l0;const s0=[{path:"/grid",name:"AgGridExample",component:o0},{path:"/",name:"/",redirect:"/mainpage"},{path:"/mainpage",name:"MainPage",component:Ma},{path:"/factoryprocess",name:"Factoryprocess",component:Xw},{path:"/sales",name:"salesApp",component:Uq,children:YJ},{path:"/material",name:"materialApp",component:bc,children:Hw},{path:"/production",name:"productionApp",component:t_,children:OA},{path:"/quality",name:"qualityApp",component:az,children:ZZ},{path:"/machine",name:"machineApp",component:Ea,children:yc},{path:"/standard",name:"standardApp",component:jA,children:$q}],n0=(0,st.aE)({history:(0,st.LA)("/"),routes:s0});var i0=n0;a(9453);var r0={install(){}};const c0={1:"영업",2:"자재",3:"생산",4:"품질",5:"설비",6:"기준정보"},d0=(0,l.Ef)(at);d0.component("AgGridVue",Zz.b),d0.config.globalProperties.$departments=c0,d0.use(ot),d0.use(i0),d0.use(r0),d0.use(Te.Ay),d0.mount("#app")}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var s=t[l]={exports:{}};return e[l].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,l,o,s){if(!l){var n=1/0;for(d=0;d<e.length;d++){l=e[d][0],o=e[d][1],s=e[d][2];for(var i=!0,r=0;r<l.length;r++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](l[r])}))?l.splice(r--,1):(i=!1,s<n&&(n=s));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[l,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,s,n=l[0],i=l[1],r=l[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(r)var d=r(a)}for(t&&t(l);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},l=self["webpackChunkvue_material_dashboard_2"]=self["webpackChunkvue_material_dashboard_2"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(8080)}));l=a.O(l)})();
//# sourceMappingURL=app.19c9fdac.js.map